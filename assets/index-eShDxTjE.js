(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();var uf={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function Y0(){if(wp)return Vl;wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var _ in o)_!=="key"&&(f[_]=o[_])}else f=o;return o=f.ref,{$$typeof:s,type:a,key:m,ref:o!==void 0?o:null,props:f}}return Vl.Fragment=e,Vl.jsx=i,Vl.jsxs=i,Vl}var Dp;function X0(){return Dp||(Dp=1,uf.exports=Y0()),uf.exports}var os=X0(),of={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Z0(){if(Cp)return Et;Cp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,it={};function $(V,Y,st){this.props=V,this.context=Y,this.refs=it,this.updater=st||G}$.prototype.isReactComponent={},$.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function bt(){}bt.prototype=$.prototype;function mt(V,Y,st){this.props=V,this.context=Y,this.refs=it,this.updater=st||G}var Tt=mt.prototype=new bt;Tt.constructor=mt,J(Tt,$.prototype),Tt.isPureReactComponent=!0;var Ft=Array.isArray,_t={H:null,A:null,T:null,S:null},xt=Object.prototype.hasOwnProperty;function N(V,Y,st,tt,et,At){return st=At.ref,{$$typeof:s,type:V,key:Y,ref:st!==void 0?st:null,props:At}}function R(V,Y){return N(V.type,Y,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function C(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return Y[st]})}var I=/\/+/g;function L(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):Y.toString(36)}function D(){}function ge(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function oe(V,Y,st,tt,et){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case s:case e:vt=!0;break;case w:return vt=V._init,oe(vt(V._payload),Y,st,tt,et)}}if(vt)return et=et(V),vt=tt===""?"."+L(V,0):tt,Ft(et)?(st="",vt!=null&&(st=vt.replace(I,"$&/")+"/"),oe(et,Y,st,"",function(te){return te})):et!=null&&(S(et)&&(et=R(et,st+(et.key==null||V&&V.key===et.key?"":(""+et.key).replace(I,"$&/")+"/")+vt)),Y.push(et)),1;vt=0;var ce=tt===""?".":tt+":";if(Ft(V))for(var zt=0;zt<V.length;zt++)tt=V[zt],At=ce+L(tt,zt),vt+=oe(tt,Y,st,At,et);else if(zt=k(V),typeof zt=="function")for(V=zt.call(V),zt=0;!(tt=V.next()).done;)tt=tt.value,At=ce+L(tt,zt++),vt+=oe(tt,Y,st,At,et);else if(At==="object"){if(typeof V.then=="function")return oe(ge(V),Y,st,tt,et);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function W(V,Y,st){if(V==null)return V;var tt=[],et=0;return oe(V,tt,"","",function(At){return Y.call(st,At,et++)}),tt}function ft(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function kt(){}return Et.Children={map:W,forEach:function(V,Y,st){W(V,function(){Y.apply(this,arguments)},st)},count:function(V){var Y=0;return W(V,function(){Y++}),Y},toArray:function(V){return W(V,function(Y){return Y})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Et.Component=$,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=mt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(V){return function(){return V.apply(null,arguments)}},Et.cloneElement=function(V,Y,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var tt=J({},V.props),et=V.key,At=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(At=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!xt.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(tt[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)tt.children=st;else if(1<vt){for(var ce=Array(vt),zt=0;zt<vt;zt++)ce[zt]=arguments[zt+2];tt.children=ce}return N(V.type,et,void 0,void 0,At,tt)},Et.createContext=function(V){return V={$$typeof:m,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:f,_context:V},V},Et.createElement=function(V,Y,st){var tt,et={},At=null;if(Y!=null)for(tt in Y.key!==void 0&&(At=""+Y.key),Y)xt.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var ce=Array(vt),zt=0;zt<vt;zt++)ce[zt]=arguments[zt+2];et.children=ce}if(V&&V.defaultProps)for(tt in vt=V.defaultProps,vt)et[tt]===void 0&&(et[tt]=vt[tt]);return N(V,At,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(V){return{$$typeof:_,render:V}},Et.isValidElement=S,Et.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:ft}},Et.memo=function(V,Y){return{$$typeof:E,type:V,compare:Y===void 0?null:Y}},Et.startTransition=function(V){var Y=_t.T,st={};_t.T=st;try{var tt=V(),et=_t.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(kt,ut)}catch(At){ut(At)}finally{_t.T=Y}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(V){return _t.H.use(V)},Et.useActionState=function(V,Y,st){return _t.H.useActionState(V,Y,st)},Et.useCallback=function(V,Y){return _t.H.useCallback(V,Y)},Et.useContext=function(V){return _t.H.useContext(V)},Et.useDebugValue=function(){},Et.useDeferredValue=function(V,Y){return _t.H.useDeferredValue(V,Y)},Et.useEffect=function(V,Y){return _t.H.useEffect(V,Y)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(V,Y,st){return _t.H.useImperativeHandle(V,Y,st)},Et.useInsertionEffect=function(V,Y){return _t.H.useInsertionEffect(V,Y)},Et.useLayoutEffect=function(V,Y){return _t.H.useLayoutEffect(V,Y)},Et.useMemo=function(V,Y){return _t.H.useMemo(V,Y)},Et.useOptimistic=function(V,Y){return _t.H.useOptimistic(V,Y)},Et.useReducer=function(V,Y,st){return _t.H.useReducer(V,Y,st)},Et.useRef=function(V){return _t.H.useRef(V)},Et.useState=function(V){return _t.H.useState(V)},Et.useSyncExternalStore=function(V,Y,st){return _t.H.useSyncExternalStore(V,Y,st)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.0.0",Et}var Vp;function jf(){return Vp||(Vp=1,of.exports=Z0()),of.exports}var wo=jf(),cf={exports:{}},Ol={},hf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function $0(){return Op||(Op=1,function(s){function e(W,ft){var ut=W.length;W.push(ft);t:for(;0<ut;){var kt=ut-1>>>1,V=W[kt];if(0<o(V,ft))W[kt]=ft,W[ut]=V,ut=kt;else break t}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ft=W[0],ut=W.pop();if(ut!==ft){W[0]=ut;t:for(var kt=0,V=W.length,Y=V>>>1;kt<Y;){var st=2*(kt+1)-1,tt=W[st],et=st+1,At=W[et];if(0>o(tt,ut))et<V&&0>o(At,tt)?(W[kt]=At,W[et]=ut,kt=et):(W[kt]=tt,W[st]=ut,kt=st);else if(et<V&&0>o(At,ut))W[kt]=At,W[et]=ut,kt=et;else break t}}return ft}function o(W,ft){var ut=W.sortIndex-ft.sortIndex;return ut!==0?ut:W.id-ft.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var m=Date,_=m.now();s.unstable_now=function(){return m.now()-_}}var v=[],E=[],w=1,x=null,k=3,G=!1,J=!1,it=!1,$=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Tt(W){for(var ft=i(E);ft!==null;){if(ft.callback===null)a(E);else if(ft.startTime<=W)a(E),ft.sortIndex=ft.expirationTime,e(v,ft);else break;ft=i(E)}}function Ft(W){if(it=!1,Tt(W),!J)if(i(v)!==null)J=!0,ge();else{var ft=i(E);ft!==null&&oe(Ft,ft.startTime-W)}}var _t=!1,xt=-1,N=5,R=-1;function S(){return!(s.unstable_now()-R<N)}function C(){if(_t){var W=s.unstable_now();R=W;var ft=!0;try{t:{J=!1,it&&(it=!1,bt(xt),xt=-1),G=!0;var ut=k;try{e:{for(Tt(W),x=i(v);x!==null&&!(x.expirationTime>W&&S());){var kt=x.callback;if(typeof kt=="function"){x.callback=null,k=x.priorityLevel;var V=kt(x.expirationTime<=W);if(W=s.unstable_now(),typeof V=="function"){x.callback=V,Tt(W),ft=!0;break e}x===i(v)&&a(v),Tt(W)}else a(v);x=i(v)}if(x!==null)ft=!0;else{var Y=i(E);Y!==null&&oe(Ft,Y.startTime-W),ft=!1}}break t}finally{x=null,k=ut,G=!1}ft=void 0}}finally{ft?I():_t=!1}}}var I;if(typeof mt=="function")I=function(){mt(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=C,I=function(){D.postMessage(null)}}else I=function(){$(C,0)};function ge(){_t||(_t=!0,I())}function oe(W,ft){xt=$(function(){W(s.unstable_now())},ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){J||G||(J=!0,ge())},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return i(v)},s.unstable_next=function(W){switch(k){case 1:case 2:case 3:var ft=3;break;default:ft=k}var ut=k;k=ft;try{return W()}finally{k=ut}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,ft){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ut=k;k=W;try{return ft()}finally{k=ut}},s.unstable_scheduleCallback=function(W,ft,ut){var kt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ut+V,W={id:w++,callback:ft,priorityLevel:W,startTime:ut,expirationTime:V,sortIndex:-1},ut>kt?(W.sortIndex=ut,e(E,W),i(v)===null&&W===i(E)&&(it?(bt(xt),xt=-1):it=!0,oe(Ft,ut-kt))):(W.sortIndex=V,e(v,W),J||G||(J=!0,ge())),W},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(W){var ft=k;return function(){var ut=k;k=ft;try{return W.apply(this,arguments)}finally{k=ut}}}}(ff)),ff}var Mp;function J0(){return Mp||(Mp=1,hf.exports=$0()),hf.exports}var df={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function W0(){if(Ip)return He;Ip=1;var s=jf();function e(v){var E="https://react.dev/errors/"+v;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)E+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(v,E,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:E,implementation:w}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,E){if(v==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(v,E){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return f(v,E,null,w)},He.flushSync=function(v){var E=m.T,w=a.p;try{if(m.T=null,a.p=2,v)return v()}finally{m.T=E,a.p=w,a.d.f()}},He.preconnect=function(v,E){typeof v=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(v,E))},He.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},He.preinit=function(v,E){if(typeof v=="string"&&E&&typeof E.as=="string"){var w=E.as,x=_(w,E.crossOrigin),k=typeof E.integrity=="string"?E.integrity:void 0,G=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;w==="style"?a.d.S(v,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:x,integrity:k,fetchPriority:G}):w==="script"&&a.d.X(v,{crossOrigin:x,integrity:k,fetchPriority:G,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},He.preinitModule=function(v,E){if(typeof v=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var w=_(E.as,E.crossOrigin);a.d.M(v,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(v)},He.preload=function(v,E){if(typeof v=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var w=E.as,x=_(w,E.crossOrigin);a.d.L(v,w,{crossOrigin:x,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},He.preloadModule=function(v,E){if(typeof v=="string")if(E){var w=_(E.as,E.crossOrigin);a.d.m(v,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(v)},He.requestFormReset=function(v){a.d.r(v)},He.unstable_batchedUpdates=function(v,E){return v(E)},He.useFormState=function(v,E,w){return m.H.useFormState(v,E,w)},He.useFormStatus=function(){return m.H.useHostTransitionStatus()},He.version="19.0.0",He}var Np;function tE(){if(Np)return df.exports;Np=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),df.exports=W0(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function eE(){if(Up)return Ol;Up=1;var s=J0(),e=jf(),i=tE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),G=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),bt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Ft=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function xt(t){return t===null||typeof t!="object"?null:(t=_t&&t[_t]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case _:return"Portal";case w:return"Profiler";case E:return"StrictMode";case it:return"Suspense";case $:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G:return(t.displayName||"Context")+".Provider";case k:return(t._context.displayName||"Context")+".Consumer";case J:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bt:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case mt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,I,L;function D(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+L}var ge=!1;function oe(t,n){if(!t||ge)return"";ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var P=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){P=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){P=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],T=d[1];if(y&&T){var b=y.split(`
`),M=T.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===M.length)for(l=b.length-1,h=M.length-1;1<=l&&0<=h&&b[l]!==M[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==M[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==M[h]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=h);break}}}finally{ge=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?D(r):""}function W(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ft(t){try{var n="";do n+=W(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ut(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function kt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(ut(t)!==t)throw Error(a(188))}function Y(t){var n=t.alternate;if(!n){if(n=ut(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return V(h),t;if(d===l)return V(h),n;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=d;else{for(var y=!1,T=h.child;T;){if(T===r){y=!0,r=h,l=d;break}if(T===l){y=!0,l=h,r=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===r){y=!0,r=d,l=h;break}if(T===l){y=!0,l=d,r=h;break}T=T.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},vt=[],ce=-1;function zt(t){return{current:t}}function te(t){0>ce||(t.current=vt[ce],vt[ce]=null,ce--)}function jt(t,n){ce++,vt[ce]=t.current,t.current=n}var Fe=zt(null),ii=zt(null),hn=zt(null),Ui=zt(null);function xi(t,n){switch(jt(hn,n),jt(ii,t),jt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ep(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ep(t),n=np(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Fe),jt(Fe,n)}function ri(){te(Fe),te(ii),te(hn)}function bs(t){t.memoizedState!==null&&jt(Ui,t);var n=Fe.current,r=np(n,t.type);n!==r&&(jt(ii,t),jt(Fe,r))}function ga(t){ii.current===t&&(te(Fe),te(ii)),Ui.current===t&&(te(Ui),bl._currentValue=At)}var pa=Object.prototype.hasOwnProperty,Vr=s.unstable_scheduleCallback,ya=s.unstable_cancelCallback,oc=s.unstable_shouldYield,Rs=s.unstable_requestPaint,Je=s.unstable_now,Jl=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,ai=s.unstable_NormalPriority,Wl=s.unstable_LowPriority,ws=s.unstable_IdlePriority,cc=s.log,Or=s.unstable_setDisableYieldValue,zi=null,ke=null;function Ds(t){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof cc=="function"&&Or(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(zi,t)}catch{}}var Ke=Math.clz32?Math.clz32:eu,Cs=Math.log,tu=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Cs(t)/tu|0)|0}var Ln=128,Li=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~h,r!==0?l=Vn(r):(d&=T,d!==0?l=Vn(d):t||(y=T&~y,y!==0&&(l=Vn(y))))):(T=r&~h,T!==0?l=Vn(T):d!==0?l=Vn(d):t||(y=r&~y,y!==0&&(l=Vn(y)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,y=n&-n,h>=y||h===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function _a(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var t=Ln;return Ln<<=1,!(Ln&4194176)&&(Ln=128),t}function Pi(){var t=Li;return Li<<=1,!(Li&62914560)&&(Li=4194304),t}function va(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nu(t,n,r,l,h,d){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,b=t.expirationTimes,M=t.hiddenUpdates;for(r=y&~r;0<r;){var j=31-Ke(r),K=1<<j;T[j]=0,b[j]=-1;var P=M[j];if(P!==null)for(M[j]=null,j=0;j<P.length;j++){var H=P[j];H!==null&&(H.lane&=-536870913)}r&=~K}l!==0&&ki(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function qi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ke(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function iu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ru(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ep(t.type))}function Hi(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Bn=Math.random().toString(36).slice(2),we="__reactFiber$"+Bn,ye="__reactProps$"+Bn,si="__reactContainer$"+Bn,Mr="__reactEvents$"+Bn,Ea="__reactListeners$"+Bn,Pn="__reactHandles$"+Bn,Os="__reactResources$"+Bn,ji="__reactMarker$"+Bn;function Ir(t){delete t[we],delete t[ye],delete t[Mr],delete t[Ea],delete t[Pn]}function On(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[si]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ap(t);t!==null;){if(r=t[we])return r;t=ap(t)}return n}t=r,r=t.parentNode}return null}function li(t){if(t=t[we]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qi(t){var n=t[Os];return n||(n=t[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[ji]=!0}var Ms=new Set,Ta={};function nn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Ta[t]=n,t=0;t<n.length;t++)Ms.add(n[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Is={},Ns={};function au(t){return pa.call(Ns,t)?!0:pa.call(Is,t)?!1:hc.test(t)?Ns[t]=!0:(Is[t]=!0,!1)}function Fi(t,n,r){if(au(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function dn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function su(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fc(t){var n=su(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,d=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){l=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Nr(t){t._valueTracker||(t._valueTracker=fc(t))}function Us(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=su(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ui=/[\n"\\]/g;function ee(t){return t.replace(ui,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yi(t,n,r,l,h,d,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,y,Ye(n)):r!=null?Sa(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ye(T):t.removeAttribute("name")}function Ur(t,n,r,l,h,d,y,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Sa(t,n,r){n==="number"&&Aa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Lt(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function xr(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function Xi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||dc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function lu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&xs(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&xs(t,d,n[d])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(t){return gc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gn=null;function ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function hi(t){var n=li(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[ye]||null;if(!h)throw Error(a(90));Yi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Us(l)}break t;case"textarea":xr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Lt(t,!!r.multiple,n,!1)}}}var Ls=!1;function uu(t,n,r){if(Ls)return t(n,r);Ls=!0;try{var l=t(n);return l}finally{if(Ls=!1,(oi!==null||ci!==null)&&(Wu(),oi&&(n=oi,t=ci,ci=oi=null,hi(n),t)))for(n=0;n<t.length;n++)hi(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var pn=!1;if(rn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{pn=!1}var qn=null,Zi=null,fi=null;function Bs(){if(fi)return fi;var t,n=Zi,r=n.length,l,h="value"in qn?qn.value:qn.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===h[d-l];l++);return fi=h.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Ps(){return!1}function De(t){function n(r,l,h,d,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jn:Ps,this.isPropagationStopped=Ps,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=De(qt),Br=C({},qt,{view:0,detail:0}),ou=De(Br),wa,Da,Gn,Pr=C({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(wa=t.screenX-Gn.screenX,Da=t.screenY-Gn.screenY):Da=wa=0,Gn=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),yn=De(Pr),cu=C({},Pr,{dataTransfer:0}),pc=De(cu),kr=C({},Br,{relatedTarget:0}),Ca=De(kr),ks=C({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=De(ks),hu=C({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=De(hu),yc=C({},qt,{data:0}),qs=De(yc),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=du[t])?!!n[t]:!1}function Hr(){return Hs}var mu=C({},Br,{key:function(t){if(t.key){var n=qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=De(mu),gu=C({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=De(gu),di=C({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),pu=De(di),yu=C({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=De(yu),vu=C({},Pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=De(vu),Xe=C({},qt,{newState:0,oldState:0}),Eu=De(Xe),Tu=[9,13,27,32],Qn=rn&&"CompositionEvent"in window,u=null;rn&&"documentMode"in document&&(u=document.documentMode);var g=rn&&"TextEvent"in window&&!u,p=rn&&(!Qn||u&&8<u&&11>=u),A=" ",z=!1;function q(t,n){switch(t){case"keyup":return Tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function _e(t,n){switch(t){case"compositionend":return Z(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Qn&&q(t,n)?(t=Bs(),fi=Zi=qn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function mi(t,n,r,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=ro(n,"onChange"),0<n.length&&(r=new Ra("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ne=null,Fn=null;function Gs(t){Zg(t,0)}function Au(t){var n=Gi(t);if(Us(n))return t}function Rd(t,n){if(t==="change")return n}var wd=!1;if(rn){var _c;if(rn){var vc="oninput"in document;if(!vc){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),vc=typeof Dd.oninput=="function"}_c=vc}else _c=!1;wd=_c&&(!document.documentMode||9<document.documentMode)}function Cd(){Ne&&(Ne.detachEvent("onpropertychange",Vd),Fn=Ne=null)}function Vd(t){if(t.propertyName==="value"&&Au(Fn)){var n=[];mi(n,Fn,t,ba(t)),uu(Gs,n)}}function bv(t,n,r){t==="focusin"?(Cd(),Ne=n,Fn=r,Ne.attachEvent("onpropertychange",Vd)):t==="focusout"&&Cd()}function Rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Fn)}function wv(t,n){if(t==="click")return Au(n)}function Dv(t,n){if(t==="input"||t==="change")return Au(n)}function Cv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:Cv;function Qs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!pa.call(n,h)||!an(t[h],n[h]))return!1}return!0}function Od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Md(t,n){var r=Od(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Od(r)}}function Id(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Id(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Aa(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Aa(t.document)}return n}function Ec(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Vv(t,n){var r=Nd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Id(n.ownerDocument.documentElement,n)){if(l!==null&&Ec(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var h=n.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!r.extend&&d>l&&(h=l,l=d,d=h),h=Md(n,d);var y=Md(n,l);h&&y&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),r.removeAllRanges(),d>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ov=rn&&"documentMode"in document&&11>=document.documentMode,Na=null,Tc=null,Fs=null,Ac=!1;function Ud(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ac||Na==null||Na!==Aa(l)||(l=Na,"selectionStart"in l&&Ec(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fs&&Qs(Fs,l)||(Fs=l,l=ro(Tc,"onSelect"),0<l.length&&(n=new Ra("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Na)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Sc={},xd={};rn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Gr(t){if(Sc[t])return Sc[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in xd)return Sc[t]=n[r];return t}var zd=Gr("animationend"),Ld=Gr("animationiteration"),Bd=Gr("animationstart"),Mv=Gr("transitionrun"),Iv=Gr("transitionstart"),Nv=Gr("transitioncancel"),Pd=Gr("transitionend"),kd=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(t,n){kd.set(t,n),nn(n,[t])}var _n=[],xa=0,bc=0;function Su(){for(var t=xa,n=bc=xa=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var h=_n[n];_n[n++]=null;var d=_n[n];if(_n[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&Hd(r,h,d)}}function bu(t,n,r,l){_n[xa++]=t,_n[xa++]=n,_n[xa++]=r,_n[xa++]=l,bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rc(t,n,r,l){return bu(t,n,r,l),Ru(t)}function $i(t,n){return bu(t,null,null,n),Ru(t)}function Hd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&n!==null&&t.tag===3&&(d=t.stateNode,h=31-Ke(r),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[n]:t.push(n),n.lane=r|536870912)}function Ru(t){if(50<yl)throw yl=0,Mh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={},jd=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=jd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ft(n)},jd.set(t,n),n)}return{value:t,source:n,stack:ft(n)}}var La=[],Ba=0,wu=null,Du=0,En=[],Tn=0,Qr=null,gi=1,pi="";function Fr(t,n){La[Ba++]=Du,La[Ba++]=wu,wu=t,Du=n}function Gd(t,n,r){En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=Qr,Qr=t;var l=gi;t=pi;var h=32-Ke(l)-1;l&=~(1<<h),r+=1;var d=32-Ke(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,gi=1<<32-Ke(n)+h|r<<h|l,pi=d+t}else gi=1<<d|r<<h|l,pi=t}function wc(t){t.return!==null&&(Fr(t,1),Gd(t,1,0))}function Dc(t){for(;t===wu;)wu=La[--Ba],La[Ba]=null,Du=La[--Ba],La[Ba]=null;for(;t===Qr;)Qr=En[--Tn],En[Tn]=null,pi=En[--Tn],En[Tn]=null,gi=En[--Tn],En[Tn]=null}var Ze=null,Ue=null,Bt=!1,In=null,Kn=!1,Cc=Error(a(519));function Kr(t){var n=Error(a(418,""));throw Xs(vn(n,t)),Cc}function Qd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Ct(vl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Nr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Xi(n,l.value,l.defaultValue,l.children),Nr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||tp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=ao),n=!0):n=!1,n||Kr(t)}function Fd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function Ks(t){if(t!==Ze)return!1;if(!Bt)return Fd(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Yh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Kr(t),Fd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?Un(t.stateNode.nextSibling):null;return!0}function Ys(){Ue=Ze=null,Bt=!1}function Xs(t){In===null?In=[t]:In.push(t)}var Zs=Error(a(460)),Kd=Error(a(474)),Vc={then:function(){}};function Yd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function Xd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Cu,Cu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Zs?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Zs?Error(a(483)):t}throw $s=n,Zs}}var $s=null;function Zd(){if($s===null)throw Error(a(459));var t=$s;return $s=null,t}var Pa=null,Js=0;function Vu(t){var n=Js;return Js+=1,Pa===null&&(Pa=[]),Xd(Pa,t,n)}function Ws(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ou(t,n){throw n.$$typeof===f?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $d(t){var n=t._init;return n(t._payload)}function Jd(t){function n(U,O){if(t){var B=U.deletions;B===null?(U.deletions=[O],U.flags|=16):B.push(O)}}function r(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=or(U,O),U.index=0,U.sibling=null,U}function d(U,O,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<O?(U.flags|=33554434,O):B):(U.flags|=33554434,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function T(U,O,B,Q){return O===null||O.tag!==6?(O=Sh(B,U.mode,Q),O.return=U,O):(O=h(O,B),O.return=U,O)}function b(U,O,B,Q){var rt=B.type;return rt===v?j(U,O,B.props.children,Q,B.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===mt&&$d(rt)===O.type)?(O=h(O,B.props),Ws(O,B),O.return=U,O):(O=Yu(B.type,B.key,B.props,null,U.mode,Q),Ws(O,B),O.return=U,O)}function M(U,O,B,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=bh(B,U.mode,Q),O.return=U,O):(O=h(O,B.children||[]),O.return=U,O)}function j(U,O,B,Q,rt){return O===null||O.tag!==7?(O=ia(B,U.mode,Q,rt),O.return=U,O):(O=h(O,B),O.return=U,O)}function K(U,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sh(""+O,U.mode,B),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case m:return B=Yu(O.type,O.key,O.props,null,U.mode,B),Ws(B,O),B.return=U,B;case _:return O=bh(O,U.mode,B),O.return=U,O;case mt:var Q=O._init;return O=Q(O._payload),K(U,O,B)}if(tt(O)||xt(O))return O=ia(O,U.mode,B,null),O.return=U,O;if(typeof O.then=="function")return K(U,Vu(O),B);if(O.$$typeof===G)return K(U,Qu(U,O),B);Ou(U,O)}return null}function P(U,O,B,Q){var rt=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return rt!==null?null:T(U,O,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case m:return B.key===rt?b(U,O,B,Q):null;case _:return B.key===rt?M(U,O,B,Q):null;case mt:return rt=B._init,B=rt(B._payload),P(U,O,B,Q)}if(tt(B)||xt(B))return rt!==null?null:j(U,O,B,Q,null);if(typeof B.then=="function")return P(U,O,Vu(B),Q);if(B.$$typeof===G)return P(U,O,Qu(U,B),Q);Ou(U,B)}return null}function H(U,O,B,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(B)||null,T(O,U,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case m:return U=U.get(Q.key===null?B:Q.key)||null,b(O,U,Q,rt);case _:return U=U.get(Q.key===null?B:Q.key)||null,M(O,U,Q,rt);case mt:var Rt=Q._init;return Q=Rt(Q._payload),H(U,O,B,Q,rt)}if(tt(Q)||xt(Q))return U=U.get(B)||null,j(O,U,Q,rt,null);if(typeof Q.then=="function")return H(U,O,B,Vu(Q),rt);if(Q.$$typeof===G)return H(U,O,B,Qu(O,Q),rt);Ou(O,Q)}return null}function at(U,O,B,Q){for(var rt=null,Rt=null,lt=O,ht=O=0,Me=null;lt!==null&&ht<B.length;ht++){lt.index>ht?(Me=lt,lt=null):Me=lt.sibling;var Pt=P(U,lt,B[ht],Q);if(Pt===null){lt===null&&(lt=Me);break}t&&lt&&Pt.alternate===null&&n(U,lt),O=d(Pt,O,ht),Rt===null?rt=Pt:Rt.sibling=Pt,Rt=Pt,lt=Me}if(ht===B.length)return r(U,lt),Bt&&Fr(U,ht),rt;if(lt===null){for(;ht<B.length;ht++)lt=K(U,B[ht],Q),lt!==null&&(O=d(lt,O,ht),Rt===null?rt=lt:Rt.sibling=lt,Rt=lt);return Bt&&Fr(U,ht),rt}for(lt=l(lt);ht<B.length;ht++)Me=H(lt,U,ht,B[ht],Q),Me!==null&&(t&&Me.alternate!==null&&lt.delete(Me.key===null?ht:Me.key),O=d(Me,O,ht),Rt===null?rt=Me:Rt.sibling=Me,Rt=Me);return t&&lt.forEach(function(pr){return n(U,pr)}),Bt&&Fr(U,ht),rt}function pt(U,O,B,Q){if(B==null)throw Error(a(151));for(var rt=null,Rt=null,lt=O,ht=O=0,Me=null,Pt=B.next();lt!==null&&!Pt.done;ht++,Pt=B.next()){lt.index>ht?(Me=lt,lt=null):Me=lt.sibling;var pr=P(U,lt,Pt.value,Q);if(pr===null){lt===null&&(lt=Me);break}t&&lt&&pr.alternate===null&&n(U,lt),O=d(pr,O,ht),Rt===null?rt=pr:Rt.sibling=pr,Rt=pr,lt=Me}if(Pt.done)return r(U,lt),Bt&&Fr(U,ht),rt;if(lt===null){for(;!Pt.done;ht++,Pt=B.next())Pt=K(U,Pt.value,Q),Pt!==null&&(O=d(Pt,O,ht),Rt===null?rt=Pt:Rt.sibling=Pt,Rt=Pt);return Bt&&Fr(U,ht),rt}for(lt=l(lt);!Pt.done;ht++,Pt=B.next())Pt=H(lt,U,ht,Pt.value,Q),Pt!==null&&(t&&Pt.alternate!==null&&lt.delete(Pt.key===null?ht:Pt.key),O=d(Pt,O,ht),Rt===null?rt=Pt:Rt.sibling=Pt,Rt=Pt);return t&&lt.forEach(function(K0){return n(U,K0)}),Bt&&Fr(U,ht),rt}function re(U,O,B,Q){if(typeof B=="object"&&B!==null&&B.type===v&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case m:t:{for(var rt=B.key;O!==null;){if(O.key===rt){if(rt=B.type,rt===v){if(O.tag===7){r(U,O.sibling),Q=h(O,B.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===mt&&$d(rt)===O.type){r(U,O.sibling),Q=h(O,B.props),Ws(Q,B),Q.return=U,U=Q;break t}r(U,O);break}else n(U,O);O=O.sibling}B.type===v?(Q=ia(B.props.children,U.mode,Q,B.key),Q.return=U,U=Q):(Q=Yu(B.type,B.key,B.props,null,U.mode,Q),Ws(Q,B),Q.return=U,U=Q)}return y(U);case _:t:{for(rt=B.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){r(U,O.sibling),Q=h(O,B.children||[]),Q.return=U,U=Q;break t}else{r(U,O);break}else n(U,O);O=O.sibling}Q=bh(B,U.mode,Q),Q.return=U,U=Q}return y(U);case mt:return rt=B._init,B=rt(B._payload),re(U,O,B,Q)}if(tt(B))return at(U,O,B,Q);if(xt(B)){if(rt=xt(B),typeof rt!="function")throw Error(a(150));return B=rt.call(B),pt(U,O,B,Q)}if(typeof B.then=="function")return re(U,O,Vu(B),Q);if(B.$$typeof===G)return re(U,O,Qu(U,B),Q);Ou(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(r(U,O.sibling),Q=h(O,B),Q.return=U,U=Q):(r(U,O),Q=Sh(B,U.mode,Q),Q.return=U,U=Q),y(U)):r(U,O)}return function(U,O,B,Q){try{Js=0;var rt=re(U,O,B,Q);return Pa=null,rt}catch(lt){if(lt===Zs)throw lt;var Rt=Rn(29,lt,null,U.mode);return Rt.lanes=Q,Rt.return=U,Rt}finally{}}}var Yr=Jd(!0),Wd=Jd(!1),ka=zt(null),Mu=zt(0);function tm(t,n){t=Di,jt(Mu,t),jt(ka,n),Di=t|n.baseLanes}function Oc(){jt(Mu,Di),jt(ka,ka.current)}function Mc(){Di=Mu.current,te(ka),te(Mu)}var An=zt(null),Yn=null;function Ji(t){var n=t.alternate;jt(Ee,Ee.current&1),jt(An,t),Yn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Yn=t)}function em(t){if(t.tag===22){if(jt(Ee,Ee.current),jt(An,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Wi()}function Wi(){jt(Ee,Ee.current),jt(An,An.current)}function yi(t){te(An),Yn===t&&(Yn=null),te(Ee)}var Ee=zt(0);function Iu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Uv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},xv=s.unstable_scheduleCallback,zv=s.unstable_NormalPriority,Te={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ic(){return{controller:new Uv,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&xv(zv,function(){t.controller.abort()})}var el=null,Nc=0,qa=0,Ha=null;function Lv(t,n){if(el===null){var r=el=[];Nc=0,qa=Ph(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Nc++,n.then(nm,nm),n}function nm(){if(--Nc===0&&el!==null){Ha!==null&&(Ha.status="fulfilled");var t=el;el=null,qa=0,Ha=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Bv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var im=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Lv(t,n),im!==null&&im(t,n)};var Xr=zt(null);function Uc(){var t=Xr.current;return t!==null?t:Yt.pooledCache}function Nu(t,n){n===null?jt(Xr,Xr.current):jt(Xr,n.pool)}function rm(){var t=Uc();return t===null?null:{parent:Te._currentValue,pool:t}}var tr=0,St=null,Gt=null,he=null,Uu=!1,ja=!1,Zr=!1,xu=0,nl=0,Ga=null,Pv=0;function le(){throw Error(a(321))}function xc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function zc(t,n,r,l,h,d){return tr=d,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?$r:er,Zr=!1,d=r(l,h),Zr=!1,ja&&(d=sm(n,r,l,h)),am(t),d}function am(t){S.H=Xn;var n=Gt!==null&&Gt.next!==null;if(tr=0,he=Gt=St=null,Uu=!1,nl=0,Ga=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Gu(t)&&(Ve=!0))}function sm(t,n,r,l){St=t;var h=0;do{if(ja&&(Ga=null),nl=0,ja=!1,25<=h)throw Error(a(301));if(h+=1,he=Gt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Jr,d=n(r,l)}while(ja);return d}function kv(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(St.flags|=1024),n}function Lc(){var t=xu!==0;return xu=0,t}function Bc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Pc(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}tr=0,he=Gt=St=null,ja=!1,nl=xu=0,Ga=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?St.memoizedState=he=t:he=he.next=t,he}function fe(){if(Gt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=he===null?St.memoizedState:he.next;if(n!==null)he=n,Gt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},he===null?St.memoizedState=he=t:he=he.next=t}return he}var zu;zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function il(t){var n=nl;return nl+=1,Ga===null&&(Ga=[]),t=Xd(Ga,t,n),n=St,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?$r:er),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===G)return qe(t)}throw Error(a(438,String(t)))}function kc(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Ft;return n.index++,r}function _i(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=fe();return qc(n,Gt,t)}function qc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=y=null,b=null,M=n,j=!1;do{var K=M.lane&-536870913;if(K!==M.lane?(It&K)===K:(tr&K)===K){var P=M.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),K===qa&&(j=!0);else if((tr&P)===P){M=M.next,P===qa&&(j=!0);continue}else K={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(T=b=K,y=d):b=b.next=K,St.lanes|=P,cr|=P;K=M.action,Zr&&r(d,K),d=M.hasEagerState?M.eagerState:r(d,K)}else P={lane:K,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(T=b=P,y=d):b=b.next=P,St.lanes|=K,cr|=K;M=M.next}while(M!==null&&M!==n);if(b===null?y=d:b.next=T,!an(d,t.memoizedState)&&(Ve=!0,j&&(r=Ha,r!==null)))throw r;t.memoizedState=d,t.baseState=y,t.baseQueue=b,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hc(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);an(d,n.memoizedState)||(Ve=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function lm(t,n,r){var l=St,h=fe(),d=Bt;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Gt||h).memoizedState,r);if(y&&(h.memoizedState=r,Ve=!0),h=h.queue,Qc(cm.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Qa(9,om.bind(null,l,h,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));d||tr&60||um(l,n,r)}return r}function um(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=zu(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function om(t,n,r,l){n.value=r,n.getSnapshot=l,hm(n)&&fm(t)}function cm(t,n,r){return r(function(){hm(n)&&fm(t)})}function hm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function fm(t){var n=$i(t,2);n!==null&&$e(n,t,2)}function jc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Zr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function dm(t,n,r,l){return t.baseState=r,qc(t,Gt,typeof l=="function"?l:_i)}function qv(t,n,r,l,h){if(qu(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};S.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,mm(n,d)):(d.next=r.next,n.pending=r.next=d)}}function mm(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=S.T,y={};S.T=y;try{var T=r(h,l),b=S.S;b!==null&&b(y,T),gm(t,n,T)}catch(M){Gc(t,n,M)}finally{S.T=d}}else try{d=r(h,l),gm(t,n,d)}catch(M){Gc(t,n,M)}}function gm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){pm(t,n,l)},function(l){return Gc(t,n,l)}):pm(t,n,r)}function pm(t,n,r){n.status="fulfilled",n.value=r,ym(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,mm(t,r)))}function Gc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ym(n),n=n.next;while(n!==l)}t.action=null}function ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _m(t,n){return n}function vm(t,n){if(Bt){var r=Yt.formState;if(r!==null){t:{var l=St;if(Bt){if(Ue){e:{for(var h=Ue,d=Kn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ue=Un(h.nextSibling),l=h.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:n},r.queue=l,r=Lm.bind(null,St,l),l.dispatch=r,l=jc(!1),d=Zc.bind(null,St,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=qv.bind(null,St,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Em(t){var n=fe();return Tm(n,Gt,t)}function Tm(t,n,r){n=qc(t,n,_m)[0],t=Bu(_i)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?il(n):n;var l=fe(),h=l.queue,d=h.dispatch;return r!==l.memoizedState&&(St.flags|=2048,Qa(9,Hv.bind(null,h,r),{destroy:void 0},null)),[n,d,t]}function Hv(t,n){t.action=n}function Am(t){var n=fe(),r=Gt;if(r!==null)return Tm(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=St.updateQueue,n===null&&(n=zu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Sm(){return fe().memoizedState}function Pu(t,n,r,l){var h=tn();St.flags|=t,h.memoizedState=Qa(1|n,r,{destroy:void 0},l===void 0?null:l)}function ku(t,n,r,l){var h=fe();l=l===void 0?null:l;var d=h.memoizedState.inst;Gt!==null&&l!==null&&xc(l,Gt.memoizedState.deps)?h.memoizedState=Qa(n,r,d,l):(St.flags|=t,h.memoizedState=Qa(1|n,r,d,l))}function bm(t,n){Pu(8390656,8,t,n)}function Qc(t,n){ku(2048,8,t,n)}function Rm(t,n){return ku(4,2,t,n)}function wm(t,n){return ku(4,4,t,n)}function Dm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cm(t,n,r){r=r!=null?r.concat([t]):null,ku(4,4,Dm.bind(null,n,t),r)}function Fc(){}function Vm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&xc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Om(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&xc(n,l[1]))return l[0];if(l=t(),Zr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function Kc(t,n,r){return r===void 0||tr&1073741824?t.memoizedState=n:(t.memoizedState=r,t=Ig(),St.lanes|=t,cr|=t,r)}function Mm(t,n,r,l){return an(r,n)?r:ka.current!==null?(t=Kc(t,r,l),an(t,n)||(Ve=!0),t):tr&42?(t=Ig(),St.lanes|=t,cr|=t,n):(Ve=!0,t.memoizedState=r)}function Im(t,n,r,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var y=S.T,T={};S.T=T,Zc(t,!1,n,r);try{var b=h(),M=S.S;if(M!==null&&M(T,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=Bv(b,l);rl(t,n,j,on(t))}else rl(t,n,l,on(t))}catch(K){rl(t,n,{then:function(){},status:"rejected",reason:K},on())}finally{et.p=d,S.T=y}}function jv(){}function Yc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Nm(t).queue;Im(t,h,n,At,r===null?jv:function(){return Um(t),r(l)})}function Nm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Um(t){var n=Nm(t).next.queue;rl(t,n,{},on())}function Xc(){return qe(bl)}function xm(){return fe().memoizedState}function zm(){return fe().memoizedState}function Gv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=rr(r);var l=ar(n,t,r);l!==null&&($e(l,n,r),ll(l,n,r)),n={cache:Ic()},t.payload=n;return}n=n.return}}function Qv(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?Bm(n,r):(r=Rc(t,n,r,l),r!==null&&($e(r,t,l),Pm(r,n,l)))}function Lm(t,n,r){var l=on();rl(t,n,r,l)}function rl(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Bm(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,T=d(y,r);if(h.hasEagerState=!0,h.eagerState=T,an(T,y))return bu(t,n,h,0),Yt===null&&Su(),!1}catch{}finally{}if(r=Rc(t,n,h,l),r!==null)return $e(r,t,l),Pm(r,n,l),!0}return!1}function Zc(t,n,r,l){if(l={lane:2,revertLane:Ph(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(a(479))}else n=Rc(t,r,l,2),n!==null&&$e(n,t,2)}function qu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Bm(t,n){ja=Uu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Pm(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}var Xn={readContext:qe,use:Lu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};Xn.useCacheRefresh=le,Xn.useMemoCache=le,Xn.useHostTransitionStatus=le,Xn.useFormState=le,Xn.useActionState=le,Xn.useOptimistic=le;var $r={readContext:qe,use:Lu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:bm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Pu(4194308,4,Dm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Pu(4194308,4,t,n)},useInsertionEffect:function(t,n){Pu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Zr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var h=r(n);if(Zr){zn(!0);try{r(n)}finally{zn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Qv.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=jc(t);var n=t.queue,r=Lm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Fc,useDeferredValue:function(t,n){var r=tn();return Kc(r,t,n)},useTransition:function(){var t=jc(!1);return t=Im.bind(null,St,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,h=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));It&60||um(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,bm(cm.bind(null,l,d,t),[t]),l.flags|=2048,Qa(9,om.bind(null,l,d,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(Bt){var r=pi,l=gi;r=(l&~(1<<32-Ke(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=xu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Pv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=Gv.bind(null,St)}};$r.useMemoCache=kc,$r.useHostTransitionStatus=Xc,$r.useFormState=vm,$r.useActionState=vm,$r.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Zc.bind(null,St,!0,r),r.dispatch=n,[t,n]};var er={readContext:qe,use:Lu,useCallback:Vm,useContext:qe,useEffect:Qc,useImperativeHandle:Cm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Om,useReducer:Bu,useRef:Sm,useState:function(){return Bu(_i)},useDebugValue:Fc,useDeferredValue:function(t,n){var r=fe();return Mm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Bu(_i)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:lm,useId:xm};er.useCacheRefresh=zm,er.useMemoCache=kc,er.useHostTransitionStatus=Xc,er.useFormState=Em,er.useActionState=Em,er.useOptimistic=function(t,n){var r=fe();return dm(r,Gt,t,n)};var Jr={readContext:qe,use:Lu,useCallback:Vm,useContext:qe,useEffect:Qc,useImperativeHandle:Cm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Om,useReducer:Hc,useRef:Sm,useState:function(){return Hc(_i)},useDebugValue:Fc,useDeferredValue:function(t,n){var r=fe();return Gt===null?Kc(r,t,n):Mm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Hc(_i)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:lm,useId:xm};Jr.useCacheRefresh=zm,Jr.useMemoCache=kc,Jr.useHostTransitionStatus=Xc,Jr.useFormState=Am,Jr.useActionState=Am,Jr.useOptimistic=function(t,n){var r=fe();return Gt!==null?dm(r,Gt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function $c(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:C({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jc={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),h=rr(l);h.payload=n,r!=null&&(h.callback=r),n=ar(t,h,l),n!==null&&($e(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),h=rr(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ar(t,h,l),n!==null&&($e(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=rr(r);l.tag=2,n!=null&&(l.callback=n),n=ar(t,l,r),n!==null&&($e(n,t,r),ll(n,t,r))}};function km(t,n,r,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(h,d):!0}function qm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Jc.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=C({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hm(t){Hu(t)}function jm(t){console.error(t)}function Gm(t){Hu(t)}function ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wc(t,n,r){return r=rr(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(t,n)},r}function Fm(t){return t=rr(t),t.tag=3,t}function Km(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Qm(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Qm(n,r,l),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Fv(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&sl(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 13:return Yn===null?Uh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Vc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),zh(t,l,h)),!1;case 22:return r.flags|=65536,l===Vc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),zh(t,l,h)),!1}throw Error(a(435,r.tag))}return zh(t,l,h),Uh(),!1}if(Bt)return n=An.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Cc&&(t=Error(a(422),{cause:l}),Xs(vn(t,r)))):(l!==Cc&&(n=Error(a(423),{cause:l}),Xs(vn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=vn(l,r),h=Wc(t.stateNode,l,h),mh(t,h),ie!==4&&(ie=2)),!1;var d=Error(a(520),{cause:l});if(d=vn(d,r),gl===null?gl=[d]:gl.push(d),ie!==4&&(ie=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Wc(r.stateNode,l,t),mh(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fm(h),Km(h,t,r,l),mh(r,h),!1}r=r.return}while(r!==null);return!1}var Ym=Error(a(461)),Ve=!1;function xe(t,n,r,l){n.child=t===null?Wd(n,null,r,l):Yr(n,t.child,r,l)}function Xm(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return ea(n),l=zc(t,n,r,y,d,h),T=Lc(),t!==null&&!Ve?(Bc(t,n,h),vi(t,n,h)):(Bt&&T&&wc(n),n.flags|=1,xe(t,n,l,h),n.child)}function Zm(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!Ah(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,$m(t,n,d,l,h)):(t=Yu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!uh(t,h)){var y=d.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return vi(t,n,h)}return n.flags|=1,t=or(d,l),t.ref=n.ref,t.return=n,n.child=t}function $m(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Qs(d,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=d,uh(t,h))t.flags&131072&&(Ve=!0);else return n.lanes=t.lanes,vi(t,n,h)}return th(t,n,r,l,h)}function Jm(t,n,r){var l=n.pendingProps,h=l.children,d=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(al(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Wm(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nu(n,y!==null?y.cachePool:null),y!==null?tm(n,y):Oc(),em(n);else return n.lanes=n.childLanes=536870912,Wm(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Nu(n,y.cachePool),tm(n,y),Wi(),n.memoizedState=null):(t!==null&&Nu(n,null),Oc(),Wi());return xe(t,n,h,r),n.child}function Wm(t,n,r,l){var h=Uc();return h=h===null?null:{parent:Te._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&Nu(n,null),Oc(),em(n),t!==null&&sl(t,n,l,!0),null}function al(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function th(t,n,r,l,h){return ea(n),r=zc(t,n,r,l,void 0,h),l=Lc(),t!==null&&!Ve?(Bc(t,n,h),vi(t,n,h)):(Bt&&l&&wc(n),n.flags|=1,xe(t,n,r,h),n.child)}function tg(t,n,r,l,h,d){return ea(n),n.updateQueue=null,r=sm(n,l,r,h),am(t),l=Lc(),t!==null&&!Ve?(Bc(t,n,d),vi(t,n,d)):(Bt&&l&&wc(n),n.flags|=1,xe(t,n,r,d),n.child)}function eg(t,n,r,l,h){if(ea(n),n.stateNode===null){var d=za,y=r.contextType;typeof y=="object"&&y!==null&&(d=qe(y)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},fh(n),y=r.contextType,d.context=typeof y=="object"&&y!==null?qe(y):za,d.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&($c(n,r,y,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Jc.enqueueReplaceState(d,d.state,null),ol(n,l,d,h),ul(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,b=Wr(r,T);d.props=b;var M=d.context,j=r.contextType;y=za,typeof j=="object"&&j!==null&&(y=qe(j));var K=r.getDerivedStateFromProps;j=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||M!==y)&&qm(n,d,l,y),ir=!1;var P=n.memoizedState;d.state=P,ol(n,l,d,h),ul(),M=n.memoizedState,T||P!==M||ir?(typeof K=="function"&&($c(n,r,K,l),M=n.memoizedState),(b=ir||km(n,r,b,l,P,M,y))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),d.props=l,d.state=M,d.context=y,l=b):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,dh(t,n),y=n.memoizedProps,j=Wr(r,y),d.props=j,K=n.pendingProps,P=d.context,M=r.contextType,b=za,typeof M=="object"&&M!==null&&(b=qe(M)),T=r.getDerivedStateFromProps,(M=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==K||P!==b)&&qm(n,d,l,b),ir=!1,P=n.memoizedState,d.state=P,ol(n,l,d,h),ul();var H=n.memoizedState;y!==K||P!==H||ir||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&($c(n,r,T,l),H=n.memoizedState),(j=ir||km(n,r,j,l,P,H,b)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,b)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=b,l=j):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,al(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,h),n.child=Yr(n,null,r,h)):xe(t,n,r,h),n.memoizedState=d.state,t=n.child):t=vi(t,n,h),t}function ng(t,n,r,l){return Ys(),n.flags|=256,xe(t,n,r,l),n.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function nh(t){return{baseLanes:t,cachePool:rm()}}function ih(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function ig(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?Ji(n):Wi(),Bt){var T=Ue,b;if(b=T){t:{for(b=T,T=Kn;b.nodeType!==8;){if(!T){T=null;break t}if(b=Un(b.nextSibling),b===null){T=null;break t}}T=b}T!==null?(n.memoizedState={dehydrated:T,treeContext:Qr!==null?{id:gi,overflow:pi}:null,retryLane:536870912},b=Rn(18,null,null,0),b.stateNode=T,b.return=n,n.child=b,Ze=n,Ue=null,b=!0):b=!1}b||Kr(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;yi(n)}return T=l.children,l=l.fallback,h?(Wi(),h=n.mode,T=ah({mode:"hidden",children:T},h),l=ia(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=nh(r),h.childLanes=ih(t,y,r),n.memoizedState=eh,l):(Ji(n),rh(n,T))}if(b=t.memoizedState,b!==null&&(T=b.dehydrated,T!==null)){if(d)n.flags&256?(Ji(n),n.flags&=-257,n=sh(t,n,r)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),h=l.fallback,T=n.mode,l=ah({mode:"visible",children:l.children},T),h=ia(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Yr(n,t.child,null,r),l=n.child,l.memoizedState=nh(r),l.childLanes=ih(t,y,r),n.memoizedState=eh,n=h);else if(Ji(n),T.data==="$!"){if(y=T.nextSibling&&T.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(a(419)),l.stack="",l.digest=y,Xs({value:l,source:null,stack:null}),n=sh(t,n,r)}else if(Ve||sl(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Yt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,$i(t,l),$e(y,t,l),Ym}T.data==="$?"||Uh(),n=sh(t,n,r)}else T.data==="$?"?(n.flags|=128,n.child=t.child,n=l0.bind(null,t),T._reactRetry=n,n=null):(t=b.treeContext,Ue=Un(T.nextSibling),Ze=n,Bt=!0,In=null,Kn=!1,t!==null&&(En[Tn++]=gi,En[Tn++]=pi,En[Tn++]=Qr,gi=t.id,pi=t.overflow,Qr=n),n=rh(n,l.children),n.flags|=4096);return n}return h?(Wi(),h=l.fallback,T=n.mode,b=t.child,M=b.sibling,l=or(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,M!==null?h=or(M,h):(h=ia(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=nh(r):(b=T.cachePool,b!==null?(M=Te._currentValue,b=b.parent!==M?{parent:M,pool:M}:b):b=rm(),T={baseLanes:T.baseLanes|r,cachePool:b}),h.memoizedState=T,h.childLanes=ih(t,y,r),n.memoizedState=eh,l):(Ji(n),r=t.child,t=r.sibling,r=or(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function rh(t,n){return n=ah({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ah(t,n){return Vg(t,n,0,null)}function sh(t,n,r){return Yr(n,t.child,null,r),t=rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,r)}function lh(t,n,r,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=r,d.tailMode=h)}function ag(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(xe(t,n,l.children,r),l=Ee.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,r,n);else if(t.tag===19)rg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(jt(Ee,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Iu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),lh(n,!1,h,r,d);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Iu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}lh(n,!0,r,null,d);break;case"together":lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,!(r&n.childLanes))if(t!==null){if(sl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=or(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=or(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function uh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function Kv(t,n,r){switch(n.tag){case 3:xi(n,n.stateNode.containerInfo),nr(n,Te,t.memoizedState.cache),Ys();break;case 27:case 5:bs(n);break;case 4:xi(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):r&n.child.childLanes?ig(t,n,r):(Ji(n),t=vi(t,n,r),t!==null?t.sibling:null);Ji(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(sl(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ag(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),jt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,Jm(t,n,r);case 24:nr(n,Te,t.memoizedState.cache)}return vi(t,n,r)}function sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!uh(t,r)&&!(n.flags&128))return Ve=!1,Kv(t,n,r);Ve=!!(t.flags&131072)}else Ve=!1,Bt&&n.flags&1048576&&Gd(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Ah(l)?(t=Wr(l,t),n.tag=1,n=eg(null,n,l,t,r)):(n.tag=0,n=th(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===J){n.tag=11,n=Xm(null,n,l,t,r);break t}else if(h===bt){n.tag=14,n=Zm(null,n,l,t,r);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Wr(l,n.pendingProps),eg(t,n,l,h,r);case 3:t:{if(xi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var d=n.pendingProps;h=n.memoizedState,l=h.element,dh(t,n),ol(n,d,null,r);var y=n.memoizedState;if(d=y.cache,nr(n,Te,d),d!==h.cache&&hh(n,[Te],r,!0),ul(),d=y.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ng(t,n,d,r);break t}else if(d!==l){l=vn(Error(a(424)),n),Xs(l),n=ng(t,n,d,r);break t}else for(Ue=Un(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,In=null,Kn=!0,r=Wd(n,null,d,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ys(),d===l){n=vi(t,n,r);break t}xe(t,n,d,r)}n=n.child}return n;case 26:return al(t,n),t===null?(r=op(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=so(hn.current).createElement(r),l[we]=n,l[ye]=t,ze(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=op(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bs(n),t===null&&Bt&&(l=n.stateNode=sp(n.type,n.pendingProps,hn.current),Ze=n,Kn=!0,Ue=Un(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?xe(t,n,l,r):n.child=Yr(n,null,l,r),al(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Ue)&&(l=S0(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,Ue=Un(l.firstChild),Kn=!1,h=!0):h=!1),h||Kr(n)),bs(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,Yh(h,d)?l=null:y!==null&&Yh(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=zc(t,n,kv,null,null,r),bl._currentValue=h),al(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Ue)&&(r=b0(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Kr(n)),null;case 13:return ig(t,n,r);case 4:return xi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,r):xe(t,n,l,r),n.child;case 11:return Xm(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ea(n),h=qe(h),l=l(h),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Zm(t,n,n.type,n.pendingProps,r);case 15:return $m(t,n,n.type,n.pendingProps,r);case 19:return ag(t,n,r);case 22:return Jm(t,n,r);case 24:return ea(n),l=qe(Te),t===null?(h=Uc(),h===null&&(h=Yt,d=Ic(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},fh(n),nr(n,Te,h)):(t.lanes&r&&(dh(t,n),ol(n,null,null,r),ul()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),nr(n,Te,l)):(l=d.cache,nr(n,Te,l),l!==h.cache&&hh(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var oh=zt(null),ta=null,Ei=null;function nr(t,n,r){jt(oh,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=oh.current,te(oh)}function ch(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var b=0;b<n.length;b++)if(T.context===n[b]){d.lanes|=r,T=d.alternate,T!==null&&(T.lanes|=r),ch(d.return,r,t),l||(y=null);break t}d=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,d=y.alternate,d!==null&&(d.lanes|=r),ch(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function sl(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var T=h.type;an(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ui.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&hh(n,t,r,l),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return lg(ta,t)}function Qu(t,n){return ta===null&&ea(t),lg(t,n)}function lg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var ir=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Jt&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ru(t),Hd(t,null,r),n}return bu(t,l,n,r),Ru(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}function mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gh=!1;function ul(){if(gh){var t=Ha;if(t!==null)throw t}}function ol(t,n,r,l){gh=!1;var h=t.updateQueue;ir=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var b=T,M=b.next;b.next=null,y===null?d=M:y.next=M,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,T=j.lastBaseUpdate,T!==y&&(T===null?j.firstBaseUpdate=M:T.next=M,j.lastBaseUpdate=b))}if(d!==null){var K=h.baseState;y=0,j=M=b=null,T=d;do{var P=T.lane&-536870913,H=P!==T.lane;if(H?(It&P)===P:(l&P)===P){P!==0&&P===qa&&(gh=!0),j!==null&&(j=j.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=t,pt=T;P=n;var re=r;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){K=at.call(re,K,P);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,P=typeof at=="function"?at.call(re,K,P):at,P==null)break t;K=C({},K,P);break t;case 2:ir=!0}}P=T.callback,P!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[P]:H.push(P))}else H={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},j===null?(M=j=H,b=K):j=j.next=H,y|=P;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);j===null&&(b=K),h.baseState=b,h.firstBaseUpdate=M,h.lastBaseUpdate=j,d===null&&(h.shared.lanes=0),cr|=y,t.lanes=y,t.memoizedState=K}}function ug(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function og(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ug(r[t],n)}function cl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,y=r.inst;l=d(),y.destroy=l}r=r.next}while(r!==h)}}catch(T){Kt(n,n.return,T)}}function sr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var b=r;try{T()}catch(M){Kt(h,b,M)}}}l=l.next}while(l!==d)}}catch(M){Kt(n,n.return,M)}}function cg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{og(n,r)}catch(l){Kt(t,t.return,l)}}}function hg(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function na(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof r=="function"?t.refCleanup=r(h):r.current=h}}catch(d){Kt(t,n,d)}}function sn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Kt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Kt(t,n,h)}else r.current=null}function fg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Kt(t,t.return,h)}}function dg(t,n,r){try{var l=t.stateNode;_0(l,t.type,r,n),l[ye]=n}catch(h){Kt(t,t.return,h)}}function mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ao));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(yh(t,n,r),t=t.sibling;t!==null;)yh(t,n,r),t=t.sibling}function Fu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fu(t,n,r),t=t.sibling;t!==null;)Fu(t,n,r),t=t.sibling}var Ai=!1,ne=!1,_h=!1,gg=typeof WeakSet=="function"?WeakSet:Set,Oe=null,pg=!1;function Yv(t,n){if(t=t.containerInfo,Fh=fo,t=Nd(t),Ec(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var y=0,T=-1,b=-1,M=0,j=0,K=t,P=null;e:for(;;){for(var H;K!==r||h!==0&&K.nodeType!==3||(T=y+h),K!==d||l!==0&&K.nodeType!==3||(b=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(H=K.firstChild)!==null;)P=K,K=H;for(;;){if(K===t)break e;if(P===r&&++M===h&&(T=y),P===d&&++j===l&&(b=y),(H=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=H}r=T===-1||b===-1?null:{start:T,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kh={focusedElem:t,selectionRange:r},fo=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var at=Wr(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(at,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Kt(r,r.return,pt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)$h(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$h(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}return at=pg,pg=!1,at}function yg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:bi(t,r),l&4&&cl(5,r);break;case 1:if(bi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(T){Kt(r,r.return,T)}else{var h=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Kt(r,r.return,T)}}l&64&&cg(r),l&512&&na(r,r.return);break;case 3:if(bi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{og(l,t)}catch(T){Kt(r,r.return,T)}}break;case 26:bi(t,r),l&512&&na(r,r.return);break;case 27:case 5:bi(t,r),n===null&&l&4&&fg(r),l&512&&na(r,r.return);break;case 12:bi(t,r);break;case 13:bi(t,r),l&4&&Eg(t,r);break;case 22:if(h=r.memoizedState!==null||Ai,!h){n=n!==null&&n.memoizedState!==null||ne;var d=Ai,y=ne;Ai=h,(ne=n)&&!y?lr(t,r,(r.subtreeFlags&8772)!==0):bi(t,r),Ai=d,ne=y}l&512&&(r.memoizedProps.mode==="manual"?na(r,r.return):sn(r,r.return));break;default:bi(t,r)}}function _g(t){var n=t.alternate;n!==null&&(t.alternate=null,_g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,ln=!1;function Si(t,n,r){for(r=r.child;r!==null;)vg(t,n,r),r=r.sibling}function vg(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ne||sn(r,n),Si(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||sn(r,n);var l=de,h=ln;for(de=r.stateNode,Si(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Ir(r),de=l,ln=h;break;case 5:ne||sn(r,n);case 6:h=de;var d=ln;if(de=null,Si(t,n,r),de=h,ln=d,de!==null)if(ln)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Kt(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Kt(r,n,y)}break;case 18:de!==null&&(ln?(n=de,r=r.stateNode,n.nodeType===8?Zh(n.parentNode,r):n.nodeType===1&&Zh(n,r),Cl(n)):Zh(de,r.stateNode));break;case 4:l=de,h=ln,de=r.stateNode.containerInfo,ln=!0,Si(t,n,r),de=l,ln=h;break;case 0:case 11:case 14:case 15:ne||sr(2,r,n),ne||sr(4,r,n),Si(t,n,r);break;case 1:ne||(sn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&hg(r,n,l)),Si(t,n,r);break;case 21:Si(t,n,r);break;case 22:ne||sn(r,n),ne=(l=ne)||r.memoizedState!==null,Si(t,n,r),ne=l;break;default:Si(t,n,r)}}function Eg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(r){Kt(n,n.return,r)}}function Xv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gg),n;default:throw Error(a(435,t.tag))}}function vh(t,n){var r=Xv(t);n.forEach(function(l){var h=u0.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function Sn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:case 5:de=T.stateNode,ln=!1;break t;case 3:de=T.stateNode.containerInfo,ln=!0;break t;case 4:de=T.stateNode.containerInfo,ln=!0;break t}T=T.return}if(de===null)throw Error(a(160));vg(d,y,h),de=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tg(n,t),n=n.sibling}var Nn=null;function Tg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),bn(t),l&4&&(sr(3,t,t.return),cl(3,t),sr(5,t,t.return));break;case 1:Sn(n,t),bn(t),l&512&&(ne||r===null||sn(r,r.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Nn;if(Sn(n,t),bn(t),l&512&&(ne||r===null||sn(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ji]||d[we]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,r),d[we]=t,Zt(d),l=d;break t;case"link":var y=fp("link","href",h).get(l+(r.href||""));if(y){for(var T=0;T<y.length;T++)if(d=y[T],d.getAttribute("href")===(r.href==null?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(T,1);break e}}d=h.createElement(l),ze(d,l,r),h.head.appendChild(d);break;case"meta":if(y=fp("meta","content",h).get(l+(r.content||""))){for(T=0;T<y.length;T++)if(d=y[T],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(T,1);break e}}d=h.createElement(l),ze(d,l,r),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[we]=t,Zt(d),l=d}t.stateNode=l}else dp(h,t.type,t.stateNode);else t.stateNode=hp(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?dp(h,t.type,t.stateNode):hp(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var b=h.firstChild;b;){var M=b.nextSibling,j=b.nodeName;b[ji]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=M}for(var K=t.type,P=h.attributes;P.length;)h.removeAttributeNode(P[0]);ze(h,K,d),h[we]=t,h[ye]=d}catch(at){Kt(t,t.return,at)}}case 5:if(Sn(n,t),bn(t),l&512&&(ne||r===null||sn(r,r.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(at){Kt(t,t.return,at)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,dg(t,h,r!==null?r.memoizedProps:h)),l&1024&&(_h=!0);break;case 6:if(Sn(n,t),bn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(at){Kt(t,t.return,at)}}break;case 3:if(oo=null,h=Nn,Nn=lo(n.containerInfo),Sn(n,t),Nn=h,bn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(at){Kt(t,t.return,at)}_h&&(_h=!1,Ag(t));break;case 4:l=Nn,Nn=lo(t.stateNode.containerInfo),Sn(n,t),bn(t),Nn=l;break;case 12:Sn(n,t),bn(t);break;case 13:Sn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ch=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 22:if(l&512&&(ne||r===null||sn(r,r.return)),b=t.memoizedState!==null,M=r!==null&&r.memoizedState!==null,j=Ai,K=ne,Ai=j||b,ne=K||M,Sn(n,t),ne=K,Ai=j,bn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Ai||ne,r===null||M||n||Fa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){M=r=n;try{if(h=M.stateNode,b)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=M.stateNode,T=M.memoizedProps.style;var H=T!=null&&T.hasOwnProperty("display")?T.display:null;y.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(at){Kt(M,M.return,at)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=b?"":M.memoizedProps}catch(at){Kt(M,M.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vh(t,r))));break;case 19:Sn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 21:break;default:Sn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(mg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=ph(t);Fu(t,d,h);break;case 5:var y=l.stateNode;l.flags&32&&(mn(y,""),l.flags&=-33);var T=ph(t);Fu(t,T,y);break;case 3:case 4:var b=l.stateNode.containerInfo,M=ph(t);yh(t,M,b);break;default:throw Error(a(161))}}}catch(j){Kt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ag(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ag(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yg(t,n.alternate,n),n=n.sibling}function Fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),Fa(n);break;case 1:sn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hg(n,n.return,r),Fa(n);break;case 26:case 27:case 5:sn(n,n.return),Fa(n);break;case 22:sn(n,n.return),n.memoizedState===null&&Fa(n);break;default:Fa(n)}t=t.sibling}}function lr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,r),cl(4,d);break;case 1:if(lr(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Kt(l,l.return,M)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)ug(b[h],T)}catch(M){Kt(l,l.return,M)}}r&&y&64&&cg(d),na(d,d.return);break;case 26:case 27:case 5:lr(h,d,r),r&&l===null&&y&4&&fg(d),na(d,d.return);break;case 12:lr(h,d,r);break;case 13:lr(h,d,r),r&&y&4&&Eg(h,d);break;case 22:d.memoizedState===null&&lr(h,d,r),na(d,d.return);break;default:lr(h,d,r)}n=n.sibling}}function Eh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&tl(r))}function Th(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function ur(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sg(t,n,r,l),n=n.sibling}function Sg(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ur(t,n,r,l),h&2048&&cl(9,n);break;case 3:ur(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ur(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,T=d.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else ur(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?ur(t,n,r,l):hl(t,n):d._visibility&4?ur(t,n,r,l):(d._visibility|=4,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&Eh(n.alternate,n);break;case 24:ur(t,n,r,l),h&2048&&Th(n.alternate,n);break;default:ur(t,n,r,l)}}function Ka(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,y=n,T=r,b=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(d,y,T,b,h),cl(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&4?Ka(d,y,T,b,h):hl(d,y):(j._visibility|=4,Ka(d,y,T,b,h)),h&&M&2048&&Eh(y.alternate,y);break;case 24:Ka(d,y,T,b,h),h&&M&2048&&Th(y.alternate,y);break;default:Ka(d,y,T,b,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:hl(r,l),h&2048&&Eh(l.alternate,l);break;case 24:hl(r,l),h&2048&&Th(l.alternate,l);break;default:hl(r,l)}n=n.sibling}}var fl=8192;function Ya(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 26:Ya(t),t.flags&fl&&t.memoizedState!==null&&L0(Nn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var n=Nn;Nn=lo(t.stateNode.containerInfo),Ya(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,Ya(t),fl=n):Ya(t));break;default:Ya(t)}}function Rg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Dg(l,t)}Rg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Ku(t)):dl(t);break;default:dl(t)}}function Ku(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Dg(l,t)}Rg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),Ku(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Ku(n));break;default:Ku(n)}t=t.sibling}}function Dg(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(_g(l),l===r){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}function Zv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,l){return new Zv(t,n,r,l)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Cg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yu(t,n,r,l,h,d){var y=0;if(l=t,typeof t=="function")Ah(t)&&(y=1);else if(typeof t=="string")y=x0(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case v:return ia(r.children,h,d,n);case E:y=8,h|=24;break;case w:return t=Rn(12,r,n,h|2),t.elementType=w,t.lanes=d,t;case it:return t=Rn(13,r,n,h),t.elementType=it,t.lanes=d,t;case $:return t=Rn(19,r,n,h),t.elementType=$,t.lanes=d,t;case Tt:return Vg(r,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:case G:y=10;break t;case k:y=9;break t;case J:y=11;break t;case bt:y=14;break t;case mt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Rn(y,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function ia(t,n,r,l){return t=Rn(7,t,l,n),t.lanes=r,t}function Vg(t,n,r,l){t=Rn(22,t,l,n),t.elementType=Tt,t.lanes=r;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if(!(h._pendingVisibility&2)){var y=$i(d,2);y!==null&&(h._pendingVisibility|=2,$e(y,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if(h._pendingVisibility&2){var y=$i(d,2);y!==null&&(h._pendingVisibility&=-3,$e(y,d,2))}}};return t.stateNode=h,t}function Sh(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function bh(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ri(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!mp(n)){if(n=An.current,n!==null&&((It&4194176)===It?Yn!==null:(It&62914560)!==It&&!(It&536870912)||n!==Yn))throw $s=Vc,Kd;t.flags|=8192}}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,Za|=n)}function ml(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function $v(t,n,r){var l=n.pendingProps;switch(Dc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Te),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ks(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,In!==null&&(Ih(In),In=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?($t(n),Og(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),$t(n),Og(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),$t(n),n.flags&=-16777217),null;case 27:ga(n),r=hn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Fe.current,Ks(n)?Qd(n):(t=sp(h,l,r),n.stateNode=t,Ri(n))}return $t(n),null;case 5:if(ga(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Fe.current,Ks(n))Qd(n);else{switch(h=so(hn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[we]=n,t[ye]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=hn.current,Ks(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||tp(t.nodeValue,r)),t||Kr(n)}else t=so(t).createTextNode(l),t[we]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ks(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[we]=n}else Ys(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$t(n),h=!1}else In!==null&&(Ih(In),In=null),h=!0;if(!h)return n.flags&256?(yi(n),n):(yi(n),null)}if(yi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),$t(n),null;case 4:return ri(),t===null&&jh(n.stateNode.containerInfo),$t(n),null;case 10:return Ti(n.type),$t(n),null;case 19:if(te(Ee),h=n.memoizedState,h===null)return $t(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)ml(h,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=Iu(t),d!==null){for(n.flags|=128,ml(h,!1),t=d.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Cg(r,t),r=r.sibling;return jt(Ee,Ee.current&1|2),n.child}t=t.sibling}h.tail!==null&&Je()>Zu&&(n.flags|=128,l=!0,ml(h,!1),n.lanes=4194304)}else{if(!l)if(t=Iu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return $t(n),null}else 2*Je()-h.renderingStartTime>Zu&&r!==536870912&&(n.flags|=128,l=!0,ml(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Je(),n.sibling=null,t=Ee.current,jt(Ee,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return yi(n),Mc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Xr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Te),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function Jv(t,n){switch(Dc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Te),ri(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ga(n),null;case 13:if(yi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ys()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(Ee),null;case 4:return ri(),null;case 10:return Ti(n.type),null;case 22:case 23:return yi(n),Mc(),t!==null&&te(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Te),null;case 25:return null;default:return null}}function Mg(t,n){switch(Dc(n),n.tag){case 3:Ti(Te),ri();break;case 26:case 27:case 5:ga(n);break;case 4:ri();break;case 13:yi(n);break;case 19:te(Ee);break;case 10:Ti(n.type);break;case 22:case 23:yi(n),Mc(),t!==null&&te(Xr);break;case 24:Ti(Te)}}var Wv={getCacheForType:function(t){var n=qe(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},t0=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Yt=null,wt=null,It=0,Xt=0,un=null,wi=!1,Xa=!1,Rh=!1,Di=0,ie=0,cr=0,ra=0,wh=0,wn=0,Za=0,gl=null,Zn=null,Dh=!1,Ch=0,Zu=1/0,$u=null,hr=null,Ju=!1,aa=null,pl=0,Vh=0,Oh=null,yl=0,Mh=null;function on(){if(Jt&2&&It!==0)return It&-It;if(S.T!==null){var t=qa;return t!==0?t:Ph()}return ru()}function Ig(){wn===0&&(wn=!(It&536870912)||Bt?Vs():536870912);var t=An.current;return t!==null&&(t.flags|=32),wn}function $e(t,n,r){(t===Yt&&Xt===2||t.cancelPendingCommit!==null)&&($a(t,0),Ci(t,It,wn,!1)),se(t,r),(!(Jt&2)||t!==Yt)&&(t===Yt&&(!(Jt&2)&&(ra|=r),ie===4&&Ci(t,It,wn,!1)),$n(t))}function Ng(t,n,r){if(Jt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),h=l?i0(t,n):xh(t,n,!0),d=l;do{if(h===0){Xa&&!l&&Ci(t,n,0,!1);break}else if(h===6)Ci(t,n,0,!wi);else{if(r=t.current.alternate,d&&!e0(r)){h=xh(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=t;h=gl;var b=T.current.memoizedState.isDehydrated;if(b&&($a(T,y).flags|=256),y=xh(T,y,!1),y!==2){if(Rh&&!b){T.errorRecoveryDisabledLanes|=d,ra|=d,h=4;break t}d=Zn,Zn=h,d!==null&&Ih(d)}h=y}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),Ci(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ci(l,n,wn,!wi);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(d=Ch+300-Je(),10<d)){if(Ci(l,n,wn,!wi),fn(l,0)!==0)break t;l.timeoutHandle=ip(Ug.bind(null,l,r,Zn,$u,Dh,n,wn,ra,Za,wi,2,-0,0),d);break t}Ug(l,r,Zn,$u,Dh,n,wn,ra,Za,wi,0,-0,0)}}break}while(!0);$n(t)}function Ih(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function Ug(t,n,r,l,h,d,y,T,b,M,j,K,P){var H=n.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:z0},bg(n),n=B0(),n!==null)){t.cancelPendingCommit=n(qg.bind(null,t,r,l,h,y,T,b,1,K,P)),Ci(t,d,y,!M);return}qg(t,r,l,h,y,T,b,j,K,P)}function e0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!an(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ci(t,n,r,l){n&=~wh,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Ke(h),y=1<<d;l[d]=-1,h&=~y}r!==0&&ki(t,r,n)}function Wu(){return Jt&6?!0:(_l(0),!1)}function Nh(){if(wt!==null){if(Xt===0)var t=wt.return;else t=wt,Ei=ta=null,Pc(t),Pa=null,Js=0,t=wt;for(;t!==null;)Mg(t.alternate,t),t=t.return;wt=null}}function $a(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,E0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Nh(),Yt=t,wt=r=or(t.current,null),It=n,Xt=0,un=null,wi=!1,Xa=Bi(t,n),Rh=!1,Za=wn=wh=ra=cr=ie=0,Zn=gl=null,Dh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ke(l),d=1<<h;n|=t[h],l&=~d}return Di=n,Su(),r}function xg(t,n){St=null,S.H=Xn,n===Zs?(n=Zd(),Xt=3):n===Kd?(n=Zd(),Xt=4):Xt=n===Ym?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,wt===null&&(ie=1,ju(t,vn(n,t.current)))}function zg(){var t=S.H;return S.H=Xn,t===null?Xn:t}function Lg(){var t=S.A;return S.A=Wv,t}function Uh(){ie=4,wi||(It&4194176)!==It&&An.current!==null||(Xa=!0),!(cr&134217727)&&!(ra&134217727)||Yt===null||Ci(Yt,It,wn,!1)}function xh(t,n,r){var l=Jt;Jt|=2;var h=zg(),d=Lg();(Yt!==t||It!==n)&&($u=null,$a(t,n)),n=!1;var y=ie;t:do try{if(Xt!==0&&wt!==null){var T=wt,b=un;switch(Xt){case 8:Nh(),y=6;break t;case 3:case 2:case 6:An.current===null&&(n=!0);var M=Xt;if(Xt=0,un=null,Ja(t,T,b,M),r&&Xa){y=0;break t}break;default:M=Xt,Xt=0,un=null,Ja(t,T,b,M)}}n0(),y=ie;break}catch(j){xg(t,j)}while(!0);return n&&t.shellSuspendCounter++,Ei=ta=null,Jt=l,S.H=h,S.A=d,wt===null&&(Yt=null,It=0,Su()),y}function n0(){for(;wt!==null;)Bg(wt)}function i0(t,n){var r=Jt;Jt|=2;var l=zg(),h=Lg();Yt!==t||It!==n?($u=null,Zu=Je()+500,$a(t,n)):Xa=Bi(t,n);t:do try{if(Xt!==0&&wt!==null){n=wt;var d=un;e:switch(Xt){case 1:Xt=0,un=null,Ja(t,n,d,1);break;case 2:if(Yd(d)){Xt=0,un=null,Pg(n);break}n=function(){Xt===2&&Yt===t&&(Xt=7),$n(t)},d.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Yd(d)?(Xt=0,un=null,Pg(n)):(Xt=0,un=null,Ja(t,n,d,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var T=wt;if(!y||mp(y)){Xt=0,un=null;var b=T.sibling;if(b!==null)wt=b;else{var M=T.return;M!==null?(wt=M,to(M)):wt=null}break e}}Xt=0,un=null,Ja(t,n,d,5);break;case 6:Xt=0,un=null,Ja(t,n,d,6);break;case 8:Nh(),ie=6;break t;default:throw Error(a(462))}}r0();break}catch(j){xg(t,j)}while(!0);return Ei=ta=null,S.H=l,S.A=h,Jt=r,wt!==null?0:(Yt=null,It=0,Su(),ie)}function r0(){for(;wt!==null&&!oc();)Bg(wt)}function Bg(t){var n=sg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?to(t):wt=n}function Pg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=tg(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=tg(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Pc(n);default:Mg(r,n),n=wt=Cg(n,Di),n=sg(r,n,Di)}t.memoizedProps=t.pendingProps,n===null?to(t):wt=n}function Ja(t,n,r,l){Ei=ta=null,Pc(n),Pa=null,Js=0;var h=n.return;try{if(Fv(t,h,n,r,It)){ie=1,ju(t,vn(r,t.current)),wt=null;return}}catch(d){if(h!==null)throw wt=h,d;ie=1,ju(t,vn(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:Xa||It&536870912?t=!1:(wi=t=!0,(l===2||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),kg(n,t)):to(n)}function to(t){var n=t;do{if(n.flags&32768){kg(n,wi);return}t=n.return;var r=$v(n.alternate,n,Di);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ie===0&&(ie=5)}function kg(t,n){do{var r=Jv(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);ie=6,wt=null}function qg(t,n,r,l,h,d,y,T,b,M){var j=S.T,K=et.p;try{et.p=2,S.T=null,a0(t,n,r,l,K,h,d,y,T,b,M)}finally{S.T=j,et.p=K}}function a0(t,n,r,l,h,d,y,T){do Wa();while(aa!==null);if(Jt&6)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=b.lanes|b.childLanes;if(M|=bc,nu(t,l,M,d,y,T),t===Yt&&(wt=Yt=null,It=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Ju||(Ju=!0,Vh=M,Oh=r,o0(ai,function(){return Wa(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=S.T,S.T=null,d=et.p,et.p=2,y=Jt,Jt|=4,Yv(t,b),Tg(b,t),Vv(Kh,t.containerInfo),fo=!!Fh,Kh=Fh=null,t.current=b,yg(t,b.alternate,b),Rs(),Jt=y,et.p=d,S.T=r):t.current=b,Ju?(Ju=!1,aa=t,pl=l):Hg(t,M),M=t.pendingLanes,M===0&&(hr=null),Ds(b.stateNode),$n(t),n!==null)for(h=t.onRecoverableError,b=0;b<n.length;b++)M=n[b],h(M.value,{componentStack:M.stack});return pl&3&&Wa(),M=t.pendingLanes,l&4194218&&M&42?t===Mh?yl++:(yl=0,Mh=t):yl=0,_l(0),null}function Hg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function Wa(){if(aa!==null){var t=aa,n=Vh;Vh=0;var r=iu(pl),l=S.T,h=et.p;try{if(et.p=32>r?32:r,S.T=null,aa===null)var d=!1;else{r=Oh,Oh=null;var y=aa,T=pl;if(aa=null,pl=0,Jt&6)throw Error(a(331));var b=Jt;if(Jt|=4,wg(y.current),Sg(y,y.current,T,r),Jt=b,_l(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(zi,y)}catch{}d=!0}return d}finally{et.p=h,S.T=l,Hg(t,n)}}return!1}function jg(t,n,r){n=vn(r,n),n=Wc(t.stateNode,n,2),t=ar(t,n,2),t!==null&&(se(t,2),$n(t))}function Kt(t,n,r){if(t.tag===3)jg(t,t,r);else for(;n!==null;){if(n.tag===3){jg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=vn(r,t),r=Fm(2),l=ar(n,r,2),l!==null&&(Km(r,l,n,t),se(l,2),$n(l));break}}n=n.return}}function zh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new t0;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Rh=!0,h.add(r),t=s0.bind(null,t,n,r),n.then(t,t))}function s0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(It&r)===r&&(ie===4||ie===3&&(It&62914560)===It&&300>Je()-Ch?!(Jt&2)&&$a(t,0):wh|=r,Za===It&&(Za=0)),$n(t)}function Gg(t,n){n===0&&(n=Pi()),t=$i(t,n),t!==null&&(se(t,n),$n(t))}function l0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Gg(t,r)}function u0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Gg(t,r)}function o0(t,n){return Vr(t,n)}var eo=null,ts=null,Lh=!1,no=!1,Bh=!1,sa=0;function $n(t){t!==ts&&t.next===null&&(ts===null?eo=ts=t:ts=ts.next=t),no=!0,Lh||(Lh=!0,h0(c0))}function _l(t,n){if(!Bh&&no){Bh=!0;do for(var r=!1,l=eo;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ke(42|t)+1)-1,d&=h&~(y&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(r=!0,Kg(l,d))}else d=It,d=fn(l,l===Yt?d:0),!(d&3)||Bi(l,d)||(r=!0,Kg(l,d));l=l.next}while(r);Bh=!1}}function c0(){no=Lh=!1;var t=0;sa!==0&&(v0()&&(t=sa),sa=0);for(var n=Je(),r=null,l=eo;l!==null;){var h=l.next,d=Qg(l,n);d===0?(l.next=null,r===null?eo=h:r.next=h,h===null&&(ts=r)):(r=l,(t!==0||d&3)&&(no=!0)),l=h}_l(t)}function Qg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-Ke(d),T=1<<y,b=h[y];b===-1?(!(T&r)||T&l)&&(h[y]=_a(T,n)):b<=n&&(t.expiredLanes|=T),d&=~T}if(n=Yt,r=It,r=fn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ya(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ya(l),iu(r)){case 2:case 8:r=Re;break;case 32:r=ai;break;case 268435456:r=ws;break;default:r=ai}return l=Fg.bind(null,t),r=Vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ya(l),t.callbackPriority=2,t.callbackNode=null,2}function Fg(t,n){var r=t.callbackNode;if(Wa()&&t.callbackNode!==r)return null;var l=It;return l=fn(t,t===Yt?l:0),l===0?null:(Ng(t,l,n),Qg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Fg.bind(null,t):null)}function Kg(t,n){if(Wa())return null;Ng(t,n,!0)}function h0(t){T0(function(){Jt&6?Vr(pe,t):t()})}function Ph(){return sa===0&&(sa=Vs()),sa}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kn(""+t)}function Xg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function f0(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=Yg((h[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?Yg(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var T=new Ra("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var b=y?Xg(h,y):new FormData(h);Yc(r,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(T.preventDefault(),b=y?Xg(h,y):new FormData(h),Yc(r,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var kh=0;kh<qd.length;kh++){var qh=qd[kh],d0=qh.toLowerCase(),m0=qh[0].toUpperCase()+qh.slice(1);Mn(d0,"on"+m0)}Mn(zd,"onAnimationEnd"),Mn(Ld,"onAnimationIteration"),Mn(Bd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Mv,"onTransitionRun"),Mn(Iv,"onTransitionStart"),Mn(Nv,"onTransitionCancel"),Mn(Pd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Zg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],b=T.instance,M=T.currentTarget;if(T=T.listener,b!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=M;try{d(h)}catch(j){Hu(j)}h.currentTarget=null,d=b}else for(y=0;y<l.length;y++){if(T=l[y],b=T.instance,M=T.currentTarget,T=T.listener,b!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=M;try{d(h)}catch(j){Hu(j)}h.currentTarget=null,d=b}}}}function Ct(t,n){var r=n[Mr];r===void 0&&(r=n[Mr]=new Set);var l=t+"__bubble";r.has(l)||($g(n,t,2,!1),r.add(l))}function Hh(t,n,r){var l=0;n&&(l|=4),$g(r,t,l,n)}var io="_reactListening"+Math.random().toString(36).slice(2);function jh(t){if(!t[io]){t[io]=!0,Ms.forEach(function(r){r!=="selectionchange"&&(g0.has(r)||Hh(r,!1,t),Hh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[io]||(n[io]=!0,Hh("selectionchange",!1,n))}}function $g(t,n,r,l){switch(Ep(n)){case 2:var h=q0;break;case 8:h=H0;break;default:h=nf}r=h.bind(null,n,r,t),h=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Gh(t,n,r,l,h){var d=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;y=y.return}for(;T!==null;){if(y=On(T),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=d=y;continue t}T=T.parentNode}}l=l.return}uu(function(){var M=d,j=ba(r),K=[];t:{var P=kd.get(t);if(P!==void 0){var H=Ra,at=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":H=Ma;break;case"focusin":at="focus",H=Ca;break;case"focusout":at="blur",H=Ca;break;case"beforeblur":case"afterblur":H=Ca;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=pu;break;case zd:case Ld:case Bd:H=Va;break;case Pd:H=_u;break;case"scroll":case"scrollend":H=ou;break;case"wheel":H=Ia;break;case"copy":case"cut":case"paste":H=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=js;break;case"toggle":case"beforetoggle":H=Eu}var pt=(n&4)!==0,re=!pt&&(t==="scroll"||t==="scrollend"),U=pt?P!==null?P+"Capture":null:P;pt=[];for(var O=M,B;O!==null;){var Q=O;if(B=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||B===null||U===null||(Q=zr(O,U),Q!=null&&pt.push(El(O,Q,B))),re)break;O=O.return}0<pt.length&&(P=new H(P,at,null,r,j),K.push({event:P,listeners:pt}))}}if(!(n&7)){t:{if(P=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",P&&r!==gn&&(at=r.relatedTarget||r.fromElement)&&(On(at)||at[si]))break t;if((H||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,H?(at=r.relatedTarget||r.toElement,H=M,at=at?On(at):null,at!==null&&(re=ut(at),pt=at.tag,at!==re||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(H=null,at=M),H!==at)){if(pt=yn,Q="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pt=js,Q="onPointerLeave",U="onPointerEnter",O="pointer"),re=H==null?P:Gi(H),B=at==null?P:Gi(at),P=new pt(Q,O+"leave",H,r,j),P.target=re,P.relatedTarget=B,Q=null,On(j)===M&&(pt=new pt(U,O+"enter",at,r,j),pt.target=B,pt.relatedTarget=re,Q=pt),re=Q,H&&at)e:{for(pt=H,U=at,O=0,B=pt;B;B=es(B))O++;for(B=0,Q=U;Q;Q=es(Q))B++;for(;0<O-B;)pt=es(pt),O--;for(;0<B-O;)U=es(U),B--;for(;O--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=es(pt),U=es(U)}pt=null}else pt=null;H!==null&&Jg(K,P,H,pt,!1),at!==null&&re!==null&&Jg(K,re,at,pt,!0)}}t:{if(P=M?Gi(M):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var rt=Rd;else if(ve(P))if(wd)rt=Dv;else{rt=Rv;var Rt=bv}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?M&&zs(M.elementType)&&(rt=Rd):rt=wv;if(rt&&(rt=rt(t,M))){mi(K,rt,r,j);break t}Rt&&Rt(t,P,M),t==="focusout"&&M&&P.type==="number"&&M.memoizedProps.value!=null&&Sa(P,"number",P.value)}switch(Rt=M?Gi(M):window,t){case"focusin":(ve(Rt)||Rt.contentEditable==="true")&&(Na=Rt,Tc=M,Fs=null);break;case"focusout":Fs=Tc=Na=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Ud(K,r,j);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Ud(K,r,j)}var lt;if(Qn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Ot?q(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(Ot||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Ot&&(lt=Bs()):(qn=j,Zi="value"in qn?qn.value:qn.textContent,Ot=!0)),Rt=ro(M,ht),0<Rt.length&&(ht=new qs(ht,t,null,r,j),K.push({event:ht,listeners:Rt}),lt?ht.data=lt:(lt=Z(r),lt!==null&&(ht.data=lt)))),(lt=g?_e(t,r):Mt(t,r))&&(ht=ro(M,"onBeforeInput"),0<ht.length&&(Rt=new qs("onBeforeInput","beforeinput",null,r,j),K.push({event:Rt,listeners:ht}),Rt.data=lt)),f0(K,t,M,r,j)}Zg(K,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ro(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=zr(t,r),h!=null&&l.unshift(El(t,h,d)),h=zr(t,n),h!=null&&l.push(El(t,h,d))),t=t.return}return l}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jg(t,n,r,l,h){for(var d=n._reactName,y=[];r!==null&&r!==l;){var T=r,b=T.alternate,M=T.stateNode;if(T=T.tag,b!==null&&b===l)break;T!==5&&T!==26&&T!==27||M===null||(b=M,h?(M=zr(r,d),M!=null&&y.unshift(El(r,M,b))):h||(M=zr(r,d),M!=null&&y.push(El(r,M,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var p0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function Wg(t){return(typeof t=="string"?t:""+t).replace(p0,`
`).replace(y0,"")}function tp(t,n){return n=Wg(n),Wg(t)===n}function ao(){}function Qt(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":lu(t,l,d);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",h.name,h,null),Qt(t,n,"formEncType",h.formEncType,h,null),Qt(t,n,"formMethod",h.formMethod,h,null),Qt(t,n,"formTarget",h.formTarget,h,null)):(Qt(t,n,"encType",h.encType,h,null),Qt(t,n,"method",h.method,h,null),Qt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ao);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mc.get(r)||r,Fi(t,r,l))}}function Qh(t,n,r,l,h,d){switch(r){case"style":lu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[ye]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Fi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var y=r[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,d,y,r,null)}}h&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var T=d=y=h=null,b=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":h=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":M=j;break;case"value":d=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Qt(t,n,l,j,r,null)}}Ur(t,d,T,b,M,y,h,!1),Nr(t);return;case"select":Ct("invalid",t),l=y=d=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:Qt(t,n,h,T,r,null)}n=d,r=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):r!=null&&Lt(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),d=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(T=r[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Qt(t,n,y,T,r,null)}Xi(t,l,h,d),Nr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,b,l,r,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ct(vl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,M,l,r,null)}return;default:if(zs(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Qh(t,n,j,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Qt(t,n,T,l,r,null))}function _0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,T=null,b=null,M=null,j=null;for(H in r){var K=r[H];if(r.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":b=K;default:l.hasOwnProperty(H)||Qt(t,n,H,null,l,K)}}for(var P in l){var H=l[P];if(K=r[P],l.hasOwnProperty(P)&&(H!=null||K!=null))switch(P){case"type":d=H;break;case"name":h=H;break;case"checked":M=H;break;case"defaultChecked":j=H;break;case"value":y=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&Qt(t,n,P,H,l,K)}}Yi(t,y,T,b,M,j,d,h);return;case"select":H=y=T=P=null;for(d in r)if(b=r[d],r.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":H=b;default:l.hasOwnProperty(d)||Qt(t,n,d,null,l,b)}for(h in l)if(d=l[h],b=r[h],l.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":P=d;break;case"defaultValue":T=d;break;case"multiple":y=d;default:d!==b&&Qt(t,n,h,d,l,b)}n=T,r=y,l=H,P!=null?Lt(t,!!r,P,!1):!!l!=!!r&&(n!=null?Lt(t,!!r,n,!0):Lt(t,!!r,r?[]:"",!1));return;case"textarea":H=P=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qt(t,n,T,null,l,h)}for(y in l)if(h=l[y],d=r[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":P=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Qt(t,n,y,h,l,d)}xr(t,P,H);return;case"option":for(var at in r)if(P=r[at],r.hasOwnProperty(at)&&P!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Qt(t,n,at,null,l,P)}for(b in l)if(P=l[b],H=r[b],l.hasOwnProperty(b)&&P!==H&&(P!=null||H!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Qt(t,n,b,P,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)P=r[pt],r.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt)&&Qt(t,n,pt,null,l,P);for(M in l)if(P=l[M],H=r[M],l.hasOwnProperty(M)&&P!==H&&(P!=null||H!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Qt(t,n,M,P,l,H)}return;default:if(zs(n)){for(var re in r)P=r[re],r.hasOwnProperty(re)&&P!==void 0&&!l.hasOwnProperty(re)&&Qh(t,n,re,void 0,l,P);for(j in l)P=l[j],H=r[j],!l.hasOwnProperty(j)||P===H||P===void 0&&H===void 0||Qh(t,n,j,P,l,H);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Qt(t,n,U,null,l,P);for(K in l)P=l[K],H=r[K],!l.hasOwnProperty(K)||P===H||P==null&&H==null||Qt(t,n,K,P,l,H)}var Fh=null,Kh=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Yh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xh=null;function v0(){var t=window.event;return t&&t.type==="popstate"?t===Xh?!1:(Xh=t,!0):(Xh=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,E0=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,T0=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(t){return rp.resolve(null).then(t).catch(A0)}:ip;function A0(t){setTimeout(function(){throw t})}function Zh(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(l===0){t.removeChild(h),Cl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=h}while(r);Cl(n)}function $h(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$h(r),Ir(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function S0(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function b0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function sp(t,n,r){switch(n=so(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Dn=new Map,lp=new Set;function lo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vi=et.d;et.d={f:R0,r:w0,D:D0,C:C0,L:V0,m:O0,X:I0,S:M0,M:N0};function R0(){var t=Vi.f(),n=Wu();return t||n}function w0(t){var n=li(t);n!==null&&n.tag===5&&n.type==="form"?Um(n):Vi.r(t)}var ns=typeof document>"u"?null:document;function up(t,n,r){var l=ns;if(l&&typeof n=="string"&&n){var h=ee(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),lp.has(h)||(lp.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ze(n,"link",t),Zt(n),l.head.appendChild(n)))}}function D0(t){Vi.D(t),up("dns-prefetch",t,null)}function C0(t,n){Vi.C(t,n),up("preconnect",t,n)}function V0(t,n,r){Vi.L(t,n,r);var l=ns;if(l&&t&&n){var h='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ee(r.imageSizes)+'"]')):h+='[href="'+ee(t)+'"]';var d=h;switch(n){case"style":d=is(t);break;case"script":d=rs(t)}Dn.has(d)||(t=C({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Tl(d))||n==="script"&&l.querySelector(Al(d))||(n=l.createElement("link"),ze(n,"link",t),Zt(n),l.head.appendChild(n)))}}function O0(t,n){Vi.m(t,n);var r=ns;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=rs(t)}if(!Dn.has(d)&&(t=C({rel:"modulepreload",href:t},n),Dn.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Al(d)))return}l=r.createElement("link"),ze(l,"link",t),Zt(l),r.head.appendChild(l)}}}function M0(t,n,r){Vi.S(t,n,r);var l=ns;if(l&&t){var h=Qi(l).hoistableStyles,d=is(t);n=n||"default";var y=h.get(d);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Tl(d)))T.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(d))&&Jh(t,r);var b=y=l.createElement("link");Zt(b),ze(b,"link",t),b._p=new Promise(function(M,j){b.onload=M,b.onerror=j}),b.addEventListener("load",function(){T.loading|=1}),b.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(d,y)}}}function I0(t,n){Vi.X(t,n);var r=ns;if(r&&t){var l=Qi(r).hoistableScripts,h=rs(t),d=l.get(h);d||(d=r.querySelector(Al(h)),d||(t=C({src:t,async:!0},n),(n=Dn.get(h))&&Wh(t,n),d=r.createElement("script"),Zt(d),ze(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function N0(t,n){Vi.M(t,n);var r=ns;if(r&&t){var l=Qi(r).hoistableScripts,h=rs(t),d=l.get(h);d||(d=r.querySelector(Al(h)),d||(t=C({src:t,async:!0,type:"module"},n),(n=Dn.get(h))&&Wh(t,n),d=r.createElement("script"),Zt(d),ze(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function op(t,n,r,l){var h=(h=hn.current)?lo(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=is(r.href),r=Qi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=is(r.href);var d=Qi(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(Tl(t)))&&!d._p&&(y.instance=d,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),d||U0(h,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rs(r),r=Qi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function is(t){return'href="'+ee(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function cp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function U0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Zt(n),t.head.appendChild(n))}function rs(t){return'[src="'+ee(t)+'"]'}function Al(t){return"script[async]"+t}function hp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var h=C({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),ze(l,"style",h),uo(l,r.precedence,t),n.instance=l;case"stylesheet":h=is(r.href);var d=t.querySelector(Tl(h));if(d)return n.state.loading|=4,n.instance=d,Zt(d),d;l=cp(r),(h=Dn.get(h))&&Jh(l,h),d=(t.ownerDocument||t).createElement("link"),Zt(d);var y=d;return y._p=new Promise(function(T,b){y.onload=T,y.onerror=b}),ze(d,"link",l),n.state.loading|=4,uo(d,r.precedence,t),n.instance=d;case"script":return d=rs(r.src),(h=t.querySelector(Al(d)))?(n.instance=h,Zt(h),h):(l=r,(h=Dn.get(d))&&(l=C({},r),Wh(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Zt(h),ze(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,uo(l,r.precedence,t));return n.instance}function uo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Jh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oo=null;function fp(t,n,r){if(oo===null){var l=new Map,h=oo=new Map;h.set(r,l)}else h=oo,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[ji]||d[we]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(d):l.set(y,[d])}}return l}function dp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function x0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Sl=null;function z0(){}function L0(t,n,r){if(Sl===null)throw Error(a(475));var l=Sl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=is(r.href),d=t.querySelector(Tl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Zt(d);return}d=t.ownerDocument||t,r=cp(r),(h=Dn.get(h))&&Jh(r,h),d=d.createElement("link"),Zt(d);var y=d;y._p=new Promise(function(T,b){y.onload=T,y.onerror=b}),ze(d,"link",r),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function B0(){if(Sl===null)throw Error(a(475));var t=Sl;return t.stylesheets&&t.count===0&&tf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ho=null;function tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ho=new Map,n.forEach(P0,t),ho=null,co.call(t))}function P0(t,n){if(!(n.state.loading&4)){var r=ho.get(t);if(r)var l=r.get(null);else{r=new Map,ho.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=r.get(y)||l,d===l&&r.set(null,h),r.set(y,h),this.count++,l=co.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:G,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function k0(t,n,r,l,h,d,y,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function gp(t,n,r,l,h,d,y,T,b,M,j,K){return t=new k0(t,n,r,y,T,b,M,K),n=1,d===!0&&(n|=24),d=Rn(3,null,null,n),t.current=d,d.stateNode=t,n=Ic(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},fh(d),t}function pp(t){return t?(t=za,t):za}function yp(t,n,r,l,h,d){h=pp(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=ar(t,l,n),r!==null&&($e(r,t,n),ll(r,t,n))}function _p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ef(t,n){_p(t,n),(t=t.alternate)&&_p(t,n)}function vp(t){if(t.tag===13){var n=$i(t,67108864);n!==null&&$e(n,t,67108864),ef(t,67108864)}}var fo=!0;function q0(t,n,r,l){var h=S.T;S.T=null;var d=et.p;try{et.p=2,nf(t,n,r,l)}finally{et.p=d,S.T=h}}function H0(t,n,r,l){var h=S.T;S.T=null;var d=et.p;try{et.p=8,nf(t,n,r,l)}finally{et.p=d,S.T=h}}function nf(t,n,r,l){if(fo){var h=rf(l);if(h===null)Gh(t,n,l,mo,r),Tp(t,l);else if(G0(h,t,n,r,l))l.stopPropagation();else if(Tp(t,l),n&4&&-1<j0.indexOf(t)){for(;h!==null;){var d=li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Vn(d.pendingLanes);if(y!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var b=1<<31-Ke(y);T.entanglements[1]|=b,y&=~b}$n(d),!(Jt&6)&&(Zu=Je()+500,_l(0))}}break;case 13:T=$i(d,2),T!==null&&$e(T,d,2),Wu(),ef(d,2)}if(d=rf(l),d===null&&Gh(t,n,l,mo,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gh(t,n,l,null,r)}}function rf(t){return t=ba(t),af(t)}var mo=null;function af(t){if(mo=null,t=On(t),t!==null){var n=ut(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=kt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mo=t,null}function Ep(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jl()){case pe:return 2;case Re:return 8;case ai:case Wl:return 32;case ws:return 268435456;default:return 32}default:return 32}}var sf=!1,fr=null,dr=null,mr=null,Rl=new Map,wl=new Map,gr=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Dl(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=li(n),n!==null&&vp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function G0(t,n,r,l,h){switch(n){case"focusin":return fr=Dl(fr,t,n,r,l,h),!0;case"dragenter":return dr=Dl(dr,t,n,r,l,h),!0;case"mouseover":return mr=Dl(mr,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Dl(Rl.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Dl(wl.get(d)||null,t,n,r,l,h)),!0}return!1}function Ap(t){var n=On(t.target);if(n!==null){var r=ut(n);if(r!==null){if(n=r.tag,n===13){if(n=kt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=on(),h=$i(r,l);h!==null&&$e(h,r,l),ef(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gn=l,r.target.dispatchEvent(l),gn=null}else return n=li(r),n!==null&&vp(n),t.blockedOn=r,!1;n.shift()}return!0}function Sp(t,n,r){go(t)&&r.delete(n)}function Q0(){sf=!1,fr!==null&&go(fr)&&(fr=null),dr!==null&&go(dr)&&(dr=null),mr!==null&&go(mr)&&(mr=null),Rl.forEach(Sp),wl.forEach(Sp)}function po(t,n){t.blockedOn===n&&(t.blockedOn=null,sf||(sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Q0)))}var yo=null;function bp(t){yo!==t&&(yo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yo===t&&(yo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(af(l||r)===null)continue;break}var d=li(r);d!==null&&(t.splice(n,3),n-=3,Yc(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Cl(t){function n(b){return po(b,t)}fr!==null&&po(fr,t),dr!==null&&po(dr,t),mr!==null&&po(mr,t),Rl.forEach(n),wl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)Ap(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],y=h[ye]||null;if(typeof d=="function")y||bp(r);else if(y){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[ye]||null)T=y.formAction;else if(af(h)!==null)continue}else T=y.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),bp(r)}}}function lf(t){this._internalRoot=t}_o.prototype.render=lf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();yp(r,l,t,n,null,null)},_o.prototype.unmount=lf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Wa(),yp(t.current,2,null,t,null,null),Wu(),n[si]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&Ap(t)}};var Rp=e.version;if(Rp!=="19.0.0")throw Error(a(527,Rp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Y(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var F0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{zi=vo.inject(F0),ke=vo}catch{}}return Ol.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Hm,d=jm,y=Gm,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=gp(t,1,!1,null,null,r,l,h,d,y,T,null),t[si]=n.current,jh(t.nodeType===8?t.parentNode:t),new lf(n)},Ol.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",d=Hm,y=jm,T=Gm,b=null,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(M=r.formState)),n=gp(t,1,!0,n,r??null,l,h,d,y,T,b,M),n.context=pp(null),r=n.current,l=on(),h=rr(l),h.callback=null,ar(r,h,l),n.current.lanes=l,se(n,l),$n(n),t[si]=n.current,jh(t),new _o(n)},Ol.version="19.0.0",Ol}var xp;function nE(){if(xp)return cf.exports;xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cf.exports=eE(),cf.exports}var iE=nE(),zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},rE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];e[a++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],m=s[i++],_=s[i++],v=((o&7)<<18|(f&63)<<12|(m&63)<<6|_&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const f=s[i++],m=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(f&63)<<6|m&63)}}return e.join("")},Gy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const f=s[o],m=o+1<s.length,_=m?s[o+1]:0,v=o+2<s.length,E=v?s[o+2]:0,w=f>>2,x=(f&3)<<4|_>>4;let k=(_&15)<<2|E>>6,G=E&63;v||(G=64,m||(k=64)),a.push(i[w],i[x],i[k],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(jy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):rE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],_=o<s.length?i[s.charAt(o)]:0;++o;const E=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||_==null||E==null||x==null)throw new aE;const k=f<<2|_>>4;if(a.push(k),E!==64){const G=_<<4&240|E>>2;if(a.push(G),x!==64){const J=E<<6&192|x;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class aE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sE=function(s){const e=jy(s);return Gy.encodeByteArray(e,!0)},Io=function(s){return sE(s).replace(/\./g,"")},lE=function(s){try{return Gy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=()=>uE().__FIREBASE_DEFAULTS__,cE=()=>{if(typeof process>"u"||typeof zp>"u")return;const s=zp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},hE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&lE(s[1]);return e&&JSON.parse(e)},Gf=()=>{try{return oE()||cE()||hE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fE=s=>{var e,i;return(i=(e=Gf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},dE=s=>{const e=fE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Qy=()=>{var s;return(s=Gf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Io(JSON.stringify(i)),Io(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yE(){var s;const e=(s=Gf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _E(){return!yE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vE(){try{return typeof indexedDB=="object"}catch{return!1}}function EE(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="FirebaseError";class vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=TE,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fy.prototype.create)}}class Fy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],m=f?AE(f,a):"Error",_=`${this.serviceName}: ${m} (${o}).`;return new vs(o,_,a)}}function AE(s,e){return s.replace(SE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const SE=/\{\$([^}]+)}/g;function Af(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const f=s[o],m=e[o];if(Lp(f)&&Lp(m)){if(!Af(f,m))return!1}else if(f!==m)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Lp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(s){return s&&s._delegate?s._delegate:s}class Bl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new mE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wE(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});a.resolve(f)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[f,m]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);a===_&&m.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),f=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;f.add(e),this.onInitCallbacks.set(o,f);const m=this.instances.get(o);return m&&e(m,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RE(s){return s===la?void 0:s}function wE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new bE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const CE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},VE=Ut.INFO,OE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},ME=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=OE[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=VE,this._logHandler=ME,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const IE=(s,e)=>e.some(i=>s instanceof i);let Bp,Pp;function NE(){return Bp||(Bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UE(){return Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yy=new WeakMap,Sf=new WeakMap,Xy=new WeakMap,mf=new WeakMap,Qf=new WeakMap;function xE(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",m)},f=()=>{i(_r(s.result)),o()},m=()=>{a(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&Yy.set(i,s)}).catch(()=>{}),Qf.set(e,s),e}function zE(s){if(Sf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",m),s.removeEventListener("abort",m)},f=()=>{i(),o()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",m),s.addEventListener("abort",m)});Sf.set(s,e)}let bf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Sf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Xy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function LE(s){bf=s(bf)}function BE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(gf(this),e,...i);return Xy.set(a,e.sort?e.sort():[e]),_r(a)}:UE().includes(s)?function(...e){return s.apply(gf(this),e),_r(Yy.get(this))}:function(...e){return _r(s.apply(gf(this),e))}}function PE(s){return typeof s=="function"?BE(s):(s instanceof IDBTransaction&&zE(s),IE(s,NE())?new Proxy(s,bf):s)}function _r(s){if(s instanceof IDBRequest)return xE(s);if(mf.has(s))return mf.get(s);const e=PE(s);return e!==s&&(mf.set(s,e),Qf.set(e,s)),e}const gf=s=>Qf.get(s);function kE(s,e,{blocked:i,upgrade:a,blocking:o,terminated:f}={}){const m=indexedDB.open(s,e),_=_r(m);return a&&m.addEventListener("upgradeneeded",v=>{a(_r(m.result),v.oldVersion,v.newVersion,_r(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{f&&v.addEventListener("close",()=>f()),o&&v.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),_}const qE=["get","getKey","getAll","getAllKeys","count"],HE=["put","add","delete","clear"],pf=new Map;function kp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=HE.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||qE.includes(i)))return;const f=async function(m,..._){const v=this.transaction(m,o?"readwrite":"readonly");let E=v.store;return a&&(E=E.index(_.shift())),(await Promise.all([E[i](..._),o&&v.done]))[0]};return pf.set(e,f),f}LE(s=>({...s,get:(e,i,a)=>kp(e,i)||s.get(e,i,a),has:(e,i)=>!!kp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(GE(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function GE(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",qp="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Ky("@firebase/app"),QE="@firebase/app-compat",FE="@firebase/analytics-compat",KE="@firebase/analytics",YE="@firebase/app-check-compat",XE="@firebase/app-check",ZE="@firebase/auth",$E="@firebase/auth-compat",JE="@firebase/database",WE="@firebase/data-connect",tT="@firebase/database-compat",eT="@firebase/functions",nT="@firebase/functions-compat",iT="@firebase/installations",rT="@firebase/installations-compat",aT="@firebase/messaging",sT="@firebase/messaging-compat",lT="@firebase/performance",uT="@firebase/performance-compat",oT="@firebase/remote-config",cT="@firebase/remote-config-compat",hT="@firebase/storage",fT="@firebase/storage-compat",dT="@firebase/firestore",mT="@firebase/vertexai",gT="@firebase/firestore-compat",pT="firebase",yT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",_T={[Rf]:"fire-core",[QE]:"fire-core-compat",[KE]:"fire-analytics",[FE]:"fire-analytics-compat",[XE]:"fire-app-check",[YE]:"fire-app-check-compat",[ZE]:"fire-auth",[$E]:"fire-auth-compat",[JE]:"fire-rtdb",[WE]:"fire-data-connect",[tT]:"fire-rtdb-compat",[eT]:"fire-fn",[nT]:"fire-fn-compat",[iT]:"fire-iid",[rT]:"fire-iid-compat",[aT]:"fire-fcm",[sT]:"fire-fcm-compat",[lT]:"fire-perf",[uT]:"fire-perf-compat",[oT]:"fire-rc",[cT]:"fire-rc-compat",[hT]:"fire-gcs",[fT]:"fire-gcs-compat",[dT]:"fire-fst",[gT]:"fire-fst-compat",[mT]:"fire-vertex","fire-js":"fire-js",[pT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Map,vT=new Map,Df=new Map;function Hp(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Uo(s){const e=s.name;if(Df.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,s);for(const i of No.values())Hp(i,s);for(const i of vT.values())Hp(i,s);return!0}function ET(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function TT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Fy("app","Firebase",AT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=yT;function Zy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=Qy()),!i)throw vr.create("no-options");const f=No.get(o);if(f){if(Af(i,f.options)&&Af(a,f.config))return f;throw vr.create("duplicate-app",{appName:o})}const m=new DE(o);for(const v of Df.values())m.addComponent(v);const _=new ST(i,a,m);return No.set(o,_),_}function RT(s=wf){const e=No.get(s);if(!e&&s===wf&&Qy())return Zy();if(!e)throw vr.create("no-app",{appName:s});return e}function cs(s,e,i){var a;let o=(a=_T[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const f=o.match(/\s|\//),m=e.match(/\s|\//);if(f||m){const _=[`Unable to register library "${o}" with version "${e}":`];f&&_.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&m&&_.push("and"),m&&_.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(_.join(" "));return}Uo(new Bl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebase-heartbeat-database",DT=1,Pl="firebase-heartbeat-store";let yf=null;function $y(){return yf||(yf=kE(wT,DT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),yf}async function CT(s){try{const i=(await $y()).transaction(Pl),a=await i.objectStore(Pl).get(Jy(s));return await i.done,a}catch(e){if(e instanceof vs)Mi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function jp(s,e){try{const a=(await $y()).transaction(Pl,"readwrite");await a.objectStore(Pl).put(e,Jy(s)),await a.done}catch(i){if(i instanceof vs)Mi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(a.message)}}}function Jy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=1024,OT=30;class MT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new NT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Gp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(m=>m.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>OT){const m=UT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Gp(),{heartbeatsToSend:a,unsentEntries:o}=IT(this._heartbeatsCache.heartbeats),f=Io(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Mi.warn(i),""}}}function Gp(){return new Date().toISOString().substring(0,10)}function IT(s,e=VT){const i=[];let a=s.slice();for(const o of s){const f=i.find(m=>m.agent===o.agent);if(f){if(f.dates.push(o.date),Qp(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Qp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class NT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vE()?EE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Qp(s){return Io(JSON.stringify({version:2,heartbeats:s})).length}function UT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(s){Uo(new Bl("platform-logger",e=>new jE(e),"PRIVATE")),Uo(new Bl("heartbeat",e=>new MT(e),"PRIVATE")),cs(Rf,qp,s),cs(Rf,qp,"esm2017"),cs("fire-js","")}xT("");var zT="firebase",LT="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(zT,LT,"app");var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,Wy;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function S(){}S.prototype=R.prototype,N.D=R.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(C,I,L){for(var D=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)D[ge-2]=arguments[ge];return R.prototype[I].apply(C,D)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,S){S||(S=0);var C=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)C[I]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(I=0;16>I;++I)C[I]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=N.g[0],S=N.g[1],I=N.g[2];var L=N.g[3],D=R+(L^S&(I^L))+C[0]+3614090360&4294967295;R=S+(D<<7&4294967295|D>>>25),D=L+(I^R&(S^I))+C[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=I+(S^L&(R^S))+C[2]+606105819&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(R^I&(L^R))+C[3]+3250441966&4294967295,S=I+(D<<22&4294967295|D>>>10),D=R+(L^S&(I^L))+C[4]+4118548399&4294967295,R=S+(D<<7&4294967295|D>>>25),D=L+(I^R&(S^I))+C[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=I+(S^L&(R^S))+C[6]+2821735955&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(R^I&(L^R))+C[7]+4249261313&4294967295,S=I+(D<<22&4294967295|D>>>10),D=R+(L^S&(I^L))+C[8]+1770035416&4294967295,R=S+(D<<7&4294967295|D>>>25),D=L+(I^R&(S^I))+C[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=I+(S^L&(R^S))+C[10]+4294925233&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(R^I&(L^R))+C[11]+2304563134&4294967295,S=I+(D<<22&4294967295|D>>>10),D=R+(L^S&(I^L))+C[12]+1804603682&4294967295,R=S+(D<<7&4294967295|D>>>25),D=L+(I^R&(S^I))+C[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=I+(S^L&(R^S))+C[14]+2792965006&4294967295,I=L+(D<<17&4294967295|D>>>15),D=S+(R^I&(L^R))+C[15]+1236535329&4294967295,S=I+(D<<22&4294967295|D>>>10),D=R+(I^L&(S^I))+C[1]+4129170786&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(R^S))+C[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=I+(R^S&(L^R))+C[11]+643717713&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(I^L))+C[0]+3921069994&4294967295,S=I+(D<<20&4294967295|D>>>12),D=R+(I^L&(S^I))+C[5]+3593408605&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(R^S))+C[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=I+(R^S&(L^R))+C[15]+3634488961&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(I^L))+C[4]+3889429448&4294967295,S=I+(D<<20&4294967295|D>>>12),D=R+(I^L&(S^I))+C[9]+568446438&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(R^S))+C[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=I+(R^S&(L^R))+C[3]+4107603335&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(I^L))+C[8]+1163531501&4294967295,S=I+(D<<20&4294967295|D>>>12),D=R+(I^L&(S^I))+C[13]+2850285829&4294967295,R=S+(D<<5&4294967295|D>>>27),D=L+(S^I&(R^S))+C[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=I+(R^S&(L^R))+C[7]+1735328473&4294967295,I=L+(D<<14&4294967295|D>>>18),D=S+(L^R&(I^L))+C[12]+2368359562&4294967295,S=I+(D<<20&4294967295|D>>>12),D=R+(S^I^L)+C[5]+4294588738&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^I)+C[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=I+(L^R^S)+C[11]+1839030562&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^R)+C[14]+4259657740&4294967295,S=I+(D<<23&4294967295|D>>>9),D=R+(S^I^L)+C[1]+2763975236&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^I)+C[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=I+(L^R^S)+C[7]+4139469664&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^R)+C[10]+3200236656&4294967295,S=I+(D<<23&4294967295|D>>>9),D=R+(S^I^L)+C[13]+681279174&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^I)+C[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=I+(L^R^S)+C[3]+3572445317&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^R)+C[6]+76029189&4294967295,S=I+(D<<23&4294967295|D>>>9),D=R+(S^I^L)+C[9]+3654602809&4294967295,R=S+(D<<4&4294967295|D>>>28),D=L+(R^S^I)+C[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=I+(L^R^S)+C[15]+530742520&4294967295,I=L+(D<<16&4294967295|D>>>16),D=S+(I^L^R)+C[2]+3299628645&4294967295,S=I+(D<<23&4294967295|D>>>9),D=R+(I^(S|~L))+C[0]+4096336452&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~I))+C[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=I+(R^(L|~S))+C[14]+2878612391&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~R))+C[5]+4237533241&4294967295,S=I+(D<<21&4294967295|D>>>11),D=R+(I^(S|~L))+C[12]+1700485571&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~I))+C[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=I+(R^(L|~S))+C[10]+4293915773&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~R))+C[1]+2240044497&4294967295,S=I+(D<<21&4294967295|D>>>11),D=R+(I^(S|~L))+C[8]+1873313359&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~I))+C[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=I+(R^(L|~S))+C[6]+2734768916&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~R))+C[13]+1309151649&4294967295,S=I+(D<<21&4294967295|D>>>11),D=R+(I^(S|~L))+C[4]+4149444226&4294967295,R=S+(D<<6&4294967295|D>>>26),D=L+(S^(R|~I))+C[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=I+(R^(L|~S))+C[2]+718787259&4294967295,I=L+(D<<15&4294967295|D>>>17),D=S+(L^(I|~R))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var S=R-this.blockSize,C=this.B,I=this.h,L=0;L<R;){if(I==0)for(;L<=S;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(C[I++]=N.charCodeAt(L++),I==this.blockSize){o(this,C),I=0;break}}else for(;L<R;)if(C[I++]=N[L++],I==this.blockSize){o(this,C),I=0;break}}this.h=I,this.o+=R},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var S=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=S&255,S/=256;for(this.u(N),N=Array(16),R=S=0;4>R;++R)for(var C=0;32>C;C+=8)N[S++]=this.g[R]>>>C&255;return N};function f(N,R){var S=_;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=R(N)}function m(N,R){this.h=R;for(var S=[],C=!0,I=N.length-1;0<=I;I--){var L=N[I]|0;C&&L==R||(S[I]=L,C=!1)}this.g=S}var _={};function v(N){return-128<=N&&128>N?f(N,function(R){return new m([R|0],0>R?-1:0)}):new m([N|0],0>N?-1:0)}function E(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return $(E(-N));for(var R=[],S=1,C=0;N>=S;C++)R[C]=N/S|0,S*=4294967296;return new m(R,0)}function w(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return $(w(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=E(Math.pow(R,8)),C=x,I=0;I<N.length;I+=8){var L=Math.min(8,N.length-I),D=parseInt(N.substring(I,I+L),R);8>L?(L=E(Math.pow(R,L)),C=C.j(L).add(E(D))):(C=C.j(S),C=C.add(E(D)))}return C}var x=v(0),k=v(1),G=v(16777216);s=m.prototype,s.m=function(){if(it(this))return-$(this).m();for(var N=0,R=1,S=0;S<this.g.length;S++){var C=this.i(S);N+=(0<=C?C:4294967296+C)*R,R*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(it(this))return"-"+$(this).toString(N);for(var R=E(Math.pow(N,6)),S=this,C="";;){var I=Ft(S,R).g;S=bt(S,I.j(R));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=I,J(S))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function it(N){return N.h==-1}s.l=function(N){return N=bt(this,N),it(N)?-1:J(N)?0:1};function $(N){for(var R=N.g.length,S=[],C=0;C<R;C++)S[C]=~N.g[C];return new m(S,~N.h).add(k)}s.abs=function(){return it(this)?$(this):this},s.add=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],C=0,I=0;I<=R;I++){var L=C+(this.i(I)&65535)+(N.i(I)&65535),D=(L>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);C=D>>>16,L&=65535,D&=65535,S[I]=D<<16|L}return new m(S,S[S.length-1]&-2147483648?-1:0)};function bt(N,R){return N.add($(R))}s.j=function(N){if(J(this)||J(N))return x;if(it(this))return it(N)?$(this).j($(N)):$($(this).j(N));if(it(N))return $(this.j($(N)));if(0>this.l(G)&&0>N.l(G))return E(this.m()*N.m());for(var R=this.g.length+N.g.length,S=[],C=0;C<2*R;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var I=0;I<N.g.length;I++){var L=this.i(C)>>>16,D=this.i(C)&65535,ge=N.i(I)>>>16,oe=N.i(I)&65535;S[2*C+2*I]+=D*oe,mt(S,2*C+2*I),S[2*C+2*I+1]+=L*oe,mt(S,2*C+2*I+1),S[2*C+2*I+1]+=D*ge,mt(S,2*C+2*I+1),S[2*C+2*I+2]+=L*ge,mt(S,2*C+2*I+2)}for(C=0;C<R;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=R;C<2*R;C++)S[C]=0;return new m(S,0)};function mt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Tt(N,R){this.g=N,this.h=R}function Ft(N,R){if(J(R))throw Error("division by zero");if(J(N))return new Tt(x,x);if(it(N))return R=Ft($(N),R),new Tt($(R.g),$(R.h));if(it(R))return R=Ft(N,$(R)),new Tt($(R.g),R.h);if(30<N.g.length){if(it(N)||it(R))throw Error("slowDivide_ only works with positive integers.");for(var S=k,C=R;0>=C.l(N);)S=_t(S),C=_t(C);var I=xt(S,1),L=xt(C,1);for(C=xt(C,2),S=xt(S,2);!J(C);){var D=L.add(C);0>=D.l(N)&&(I=I.add(S),L=D),C=xt(C,1),S=xt(S,1)}return R=bt(N,I.j(R)),new Tt(I,R)}for(I=x;0<=N.l(R);){for(S=Math.max(1,Math.floor(N.m()/R.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=E(S),D=L.j(R);it(D)||0<D.l(N);)S-=C,L=E(S),D=L.j(R);J(L)&&(L=k),I=I.add(L),N=bt(N,D)}return new Tt(I,N)}s.A=function(N){return Ft(this,N).h},s.and=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)&N.i(C);return new m(S,this.h&N.h)},s.or=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)|N.i(C);return new m(S,this.h|N.h)},s.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),S=[],C=0;C<R;C++)S[C]=this.i(C)^N.i(C);return new m(S,this.h^N.h)};function _t(N){for(var R=N.g.length+1,S=[],C=0;C<R;C++)S[C]=N.i(C)<<1|N.i(C-1)>>>31;return new m(S,N.h)}function xt(N,R){var S=R>>5;R%=32;for(var C=N.g.length-S,I=[],L=0;L<C;L++)I[L]=0<R?N.i(L+S)>>>R|N.i(L+S+1)<<32-R:N.i(L+S);return new m(I,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Wy=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=E,m.fromString=w,Er=m}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t_,Ml,e_,Do,Cf,n_,i_,r_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,p){return u==Array.prototype||u==Object.prototype||(u[g]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eo=="object"&&Eo];for(var g=0;g<u.length;++g){var p=u[g];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,g){if(g)t:{var p=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in p))break t;p=p[z]}u=u[u.length-1],A=p[u],g=g(A),g!=A&&g!=null&&e(p,u,{configurable:!0,writable:!0,value:g})}}function f(u,g){u instanceof String&&(u+="");var p=0,A=!1,z={next:function(){if(!A&&p<u.length){var q=p++;return{value:g(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return f(this,function(g,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},_=this||self;function v(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function E(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function w(u,g,p){return u.call.apply(u.bind,arguments)}function x(u,g,p){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function k(u,g,p){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:x,k.apply(null,arguments)}function G(u,g){var p=Array.prototype.slice.call(arguments,1);return function(){var A=p.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function J(u,g){function p(){}p.prototype=g.prototype,u.aa=g.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(A,z,q){for(var Z=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Z[Ot-2]=arguments[Ot];return g.prototype[z].apply(A,Z)}}function it(u){const g=u.length;if(0<g){const p=Array(g);for(let A=0;A<g;A++)p[A]=u[A];return p}return[]}function $(u,g){for(let p=1;p<arguments.length;p++){const A=arguments[p];if(v(A)){const z=u.length||0,q=A.length||0;u.length=z+q;for(let Z=0;Z<q;Z++)u[z+Z]=A[Z]}else u.push(A)}}class bt{constructor(g,p){this.i=g,this.j=p,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function mt(u){return/^[\s\xa0]*$/.test(u)}function Tt(){var u=_.navigator;return u&&(u=u.userAgent)?u:""}function Ft(u){return Ft[" "](u),u}Ft[" "]=function(){};var _t=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function xt(u,g,p){for(const A in u)g.call(p,u[A],A,u)}function N(u,g){for(const p in u)g.call(void 0,u[p],p,u)}function R(u){const g={};for(const p in u)g[p]=u[p];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,g){let p,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(p in A)u[p]=A[p];for(let q=0;q<S.length;q++)p=S[q],Object.prototype.hasOwnProperty.call(A,p)&&(u[p]=A[p])}}function I(u){var g=1;u=u.split(":");const p=[];for(;0<g&&u.length;)p.push(u.shift()),g--;return u.length&&p.push(u.join(":")),p}function L(u){_.setTimeout(()=>{throw u},0)}function D(){var u=kt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ge{constructor(){this.h=this.g=null}add(g,p){const A=oe.get();A.set(g,p),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new bt(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(g,p){this.h=g,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ut=!1,kt=new ge,V=()=>{const u=_.Promise.resolve(void 0);ft=()=>{u.then(Y)}};var Y=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(p){L(p)}var g=oe;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ut=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};_.addEventListener("test",p,g),_.removeEventListener("test",p,g)}catch{}return u}();function At(u,g){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(_t){t:{try{Ft(g.nodeName);var z=!0;break t}catch{}z=!1}z||(g=null)}}else p=="mouseover"?g=u.fromElement:p=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&At.aa.h.call(this)}}J(At,tt);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),zt=0;function te(u,g,p,A,z){this.listener=u,this.proxy=null,this.src=g,this.type=p,this.capture=!!A,this.ha=z,this.key=++zt,this.da=this.fa=!1}function jt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u){this.src=u,this.g={},this.h=0}Fe.prototype.add=function(u,g,p,A,z){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var Z=hn(u,g,A,z);return-1<Z?(g=u[Z],p||(g.fa=!1)):(g=new te(g,this.src,q,!!A,z),g.fa=p,u.push(g)),g};function ii(u,g){var p=g.type;if(p in u.g){var A=u.g[p],z=Array.prototype.indexOf.call(A,g,void 0),q;(q=0<=z)&&Array.prototype.splice.call(A,z,1),q&&(jt(g),u.g[p].length==0&&(delete u.g[p],u.h--))}}function hn(u,g,p,A){for(var z=0;z<u.length;++z){var q=u[z];if(!q.da&&q.listener==g&&q.capture==!!p&&q.ha==A)return z}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),xi={};function ri(u,g,p,A,z){if(Array.isArray(g)){for(var q=0;q<g.length;q++)ri(u,g[q],p,A,z);return null}return p=Jl(p),u&&u[ce]?u.K(g,p,E(A)?!!A.capture:!1,z):bs(u,g,p,!1,A,z)}function bs(u,g,p,A,z,q){if(!g)throw Error("Invalid event type");var Z=E(z)?!!z.capture:!!z,Ot=Rs(u);if(Ot||(u[Ui]=Ot=new Fe(u)),p=Ot.add(g,p,A,Z,q),p.proxy)return p;if(A=ga(),p.proxy=A,A.src=u,A.listener=p,u.addEventListener)et||(z=Z),z===void 0&&(z=!1),u.addEventListener(g.toString(),A,z);else if(u.attachEvent)u.attachEvent(ya(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ga(){function u(p){return g.call(u.src,u.listener,p)}const g=oc;return u}function pa(u,g,p,A,z){if(Array.isArray(g))for(var q=0;q<g.length;q++)pa(u,g[q],p,A,z);else A=E(A)?!!A.capture:!!A,p=Jl(p),u&&u[ce]?(u=u.i,g=String(g).toString(),g in u.g&&(q=u.g[g],p=hn(q,p,A,z),-1<p&&(jt(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[g],u.h--)))):u&&(u=Rs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=hn(g,p,A,z)),(p=-1<u?g[u]:null)&&Vr(p))}function Vr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ce])ii(g.i,u);else{var p=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(p,A,u.capture):g.detachEvent?g.detachEvent(ya(p),A):g.addListener&&g.removeListener&&g.removeListener(A),(p=Rs(g))?(ii(p,u),p.h==0&&(p.src=null,g[Ui]=null)):jt(u)}}}function ya(u){return u in xi?xi[u]:xi[u]="on"+u}function oc(u,g){if(u.da)u=!0;else{g=new At(g,this);var p=u.listener,A=u.ha||u.src;u.fa&&Vr(u),u=p.call(A,g)}return u}function Rs(u){return u=u[Ui],u instanceof Fe?u:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(u){return typeof u=="function"?u:(u[Je]||(u[Je]=function(g){return u.handleEvent(g)}),u[Je])}function pe(){st.call(this),this.i=new Fe(this),this.M=this,this.F=null}J(pe,st),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(u,g,p,A){pa(this,u,g,p,A)};function Re(u,g){var p,A=u.F;if(A)for(p=[];A;A=A.F)p.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new tt(g,u);else if(g instanceof tt)g.target=g.target||u;else{var z=g;g=new tt(A,u),C(g,z)}if(z=!0,p)for(var q=p.length-1;0<=q;q--){var Z=g.g=p[q];z=ai(Z,A,!0,g)&&z}if(Z=g.g=u,z=ai(Z,A,!0,g)&&z,z=ai(Z,A,!1,g)&&z,p)for(q=0;q<p.length;q++)Z=g.g=p[q],z=ai(Z,A,!1,g)&&z}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var p=u.g[g],A=0;A<p.length;A++)jt(p[A]);delete u.g[g],u.h--}}this.F=null},pe.prototype.K=function(u,g,p,A){return this.i.add(String(u),g,!1,p,A)},pe.prototype.L=function(u,g,p,A){return this.i.add(String(u),g,!0,p,A)};function ai(u,g,p,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,q=0;q<g.length;++q){var Z=g[q];if(Z&&!Z.da&&Z.capture==p){var Ot=Z.listener,_e=Z.ha||Z.src;Z.fa&&ii(u.i,Z),z=Ot.call(_e,A)!==!1&&z}}return z&&!A.defaultPrevented}function Wl(u,g,p){if(typeof u=="function")p&&(u=k(u,p));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:_.setTimeout(u,g||0)}function ws(u){u.g=Wl(()=>{u.g=null,u.i&&(u.i=!1,ws(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class cc extends st{constructor(g,p){super(),this.m=g,this.l=p,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ws(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(u){st.call(this),this.h=u,this.g={}}J(Or,st);var zi=[];function ke(u){xt(u.g,function(g,p){this.g.hasOwnProperty(p)&&Vr(g)},u),u.g={}}Or.prototype.N=function(){Or.aa.N.call(this),ke(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=_.JSON.stringify,zn=_.JSON.parse,Ke=class{stringify(u){return _.JSON.stringify(u,void 0)}parse(u){return _.JSON.parse(u,void 0)}};function Cs(){}Cs.prototype.h=null;function tu(u){return u.h||(u.h=u.i())}function eu(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){tt.call(this,"d")}J(Li,tt);function Vn(){tt.call(this,"c")}J(Vn,tt);var fn={},Bi=null;function _a(){return Bi=Bi||new pe}fn.La="serverreachability";function Vs(u){tt.call(this,fn.La,u)}J(Vs,tt);function Pi(u){const g=_a();Re(g,new Vs(g))}fn.STAT_EVENT="statevent";function va(u,g){tt.call(this,fn.STAT_EVENT,u),this.stat=g}J(va,tt);function se(u){const g=_a();Re(g,new va(g,u))}fn.Ma="timingevent";function nu(u,g){tt.call(this,fn.Ma,u),this.size=g}J(nu,tt);function ki(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){u()},g)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function iu(u,g,p,A,z,q){u.info(function(){if(u.g)if(q)for(var Z="",Ot=q.split("&"),_e=0;_e<Ot.length;_e++){var Mt=Ot[_e].split("=");if(1<Mt.length){var Ce=Mt[0];Mt=Mt[1];var ve=Ce.split("_");Z=2<=ve.length&&ve[1]=="type"?Z+(Ce+"="+Mt+"&"):Z+(Ce+"=redacted&")}}else Z=null;else Z=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+p+`
`+Z})}function ru(u,g,p,A,z,q,Z){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+p+`
`+q+" "+Z})}function Hi(u,g,p,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+we(u,p)+(A?" "+A:"")})}function Bn(u,g){u.info(function(){return"TIMEOUT: "+g})}qi.prototype.info=function(){};function we(u,g){if(!u.g)return g;if(!g)return null;try{var p=JSON.parse(g);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var A=p[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var Z=1;Z<z.length;Z++)z[Z]=""}}}}return Ds(p)}catch{return g}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function Ea(){}J(Ea,Cs),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Mr=new Ea;function Pn(u,g,p,A){this.j=u,this.i=g,this.l=p,this.R=A||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var ji={},Ir={};function On(u,g,p){u.L=1,u.v=xr(ee(g)),u.m=p,u.P=!0,li(u,null)}function li(u,g){u.F=Date.now(),Zt(u),u.A=ee(u.v);var p=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ci(p.i,"t",A),u.C=0,p=u.j.J,u.h=new Os,u.g=_u(u.j,p?g:null,!u.m),0<u.O&&(u.M=new cc(k(u.Y,u,u.g),u.O)),g=u.U,p=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(zi[0]=z.toString()),z=zi);for(var q=0;q<z.length;q++){var Z=ri(p,z[q],A||g.handleEvent,!1,g.h||g);if(!Z)break;g.g[Z.key]=Z}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Pi(),iu(u.i,u.u,u.A,u.l,u.R,u.m)}Pn.prototype.ca=function(u){u=u.target;const g=this.M;g&&yn(u)==3?g.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const ve=yn(this.g);var g=this.g.Ba();const mi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||ve!=4||g==7||(g==8||0>=mi?Pi(3):Pi(2)),Ta(this);var p=this.g.Z();this.X=p;e:if(Gi(this)){var A=cu(this.g);u="";var z=A.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),nn(this);var Z="";break e}this.h.i=new _.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(q&&g==z-1)});A.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=p==200,ru(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mt(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,p);else{this.o=!1,this.s=3,se(12),We(this),nn(this);break t}}if(this.P){p=!0;let Ne;for(;!this.J&&this.C<Z.length;)if(Ne=Qi(this,Z),Ne==Ir){ve==4&&(this.s=4,se(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==ji){this.s=4,se(15),Hi(this.i,this.l,Z,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,Ne,null),rn(this,Ne);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||Z.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,Z,"[Invalid Chunked Response]"),We(this),nn(this);else if(0<Z.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Hr(Ce),Ce.M=!0,se(11))}}else Hi(this.i,this.l,Z,null),rn(this,Z);ve==4&&We(this),this.o&&!this.J&&(ve==4?gu(this.j,this):(this.o=!1,Zt(this)))}else pc(this.g),p==400&&0<Z.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),nn(this)}}}catch{}finally{}};function Gi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qi(u,g){var p=u.C,A=g.indexOf(`
`,p);return A==-1?Ir:(p=Number(g.substring(p,A)),isNaN(p)?ji:(A+=1,A+p>g.length?Ir:(g=g.slice(A,A+p),u.C=A+p,g)))}Pn.prototype.cancel=function(){this.J=!0,We(this)};function Zt(u){u.S=Date.now()+u.I,Ms(u,u.I)}function Ms(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ki(k(u.ba,u),g)}function Ta(u){u.B&&(_.clearTimeout(u.B),u.B=null)}Pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bn(this.i,this.A),this.L!=2&&(Pi(),se(17)),We(this),this.s=2,nn(this)):Ms(this,this.S-u)};function nn(u){u.j.G==0||u.J||gu(u.j,u)}function We(u){Ta(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ke(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function rn(u,g){try{var p=u.j;if(p.G!=0&&(p.g==u||Fi(p.h,u))){if(!u.K&&Fi(p.h,u)&&p.G==3){try{var A=p.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ma(p),Va(p);else break t;Hs(p),se(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=ki(k(p.Za,p),6e3));if(1>=au(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else di(p,11)}else if((u.K||p.g==u)&&Ma(p),!mt(g))for(z=p.Da.g.parse(g),g=0;g<z.length;g++){let Mt=z[g];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ce=Mt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Mt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const mi=Mt[5];mi!=null&&typeof mi=="number"&&0<mi&&(A=1.5*mi,p.L=A,p.j.info("backChannelRequestTimeoutMs_="+A)),A=p;const Ne=u.g;if(Ne){const Fn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var q=A.h;q.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ki(q,q.h),q.h=null))}if(A.D){const Gs=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(A.ya=Gs,Lt(A.I,A.D,Gs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),A=p;var Z=u;if(A.qa=yu(A,A.J?A.ia:null,A.W),Z.K){dn(A.h,Z);var Ot=Z,_e=A.L;_e&&(Ot.I=_e),Ot.B&&(Ta(Ot),Zt(Ot)),A.g=Z}else du(A);0<p.i.length&&Oa(p)}else Mt[0]!="stop"&&Mt[0]!="close"||di(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?di(p,7):ks(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Pi(4)}catch{}}var hc=class{constructor(u,g){this.g=u,this.map=g}};function Is(u){this.l=u||10,_.PerformanceNavigationTiming?(u=_.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ns(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function au(u){return u.h?1:u.g?u.g.size:0}function Fi(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ki(u,g){u.g?u.g.add(g):u.h=g}function dn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Is.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ye(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const p of u.g.values())g=g.concat(p.D);return g}return it(u.i)}function su(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var g=[],p=u.length,A=0;A<p;A++)g.push(u[A]);return g}g=[],p=0;for(A in u)g[p++]=u[A];return g}function fc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var g=[];u=u.length;for(var p=0;p<u;p++)g.push(p);return g}g=[],p=0;for(const A in u)g[p++]=A;return g}}}function Nr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var p=fc(u),A=su(u),z=A.length,q=0;q<z;q++)g.call(void 0,A[q],p&&p[q],u)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(u,g){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var A=u[p].indexOf("="),z=null;if(0<=A){var q=u[p].substring(0,A);z=u[p].substring(A+1)}else q=u[p];g(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ui(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ui){this.h=u.h,Yi(this,u.j),this.o=u.o,this.g=u.g,Ur(this,u.s),this.l=u.l;var g=u.i,p=new kn;p.i=g.i,g.g&&(p.g=new Map(g.g),p.h=g.h),Sa(this,p),this.m=u.m}else u&&(g=String(u).match(Us))?(this.h=!1,Yi(this,g[1]||"",!0),this.o=Xi(g[2]||""),this.g=Xi(g[3]||"",!0),Ur(this,g[4]),this.l=Xi(g[5]||"",!0),Sa(this,g[6]||"",!0),this.m=Xi(g[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}ui.prototype.toString=function(){var u=[],g=this.j;g&&u.push(mn(g,xs,!0),":");var p=this.g;return(p||g=="file")&&(u.push("//"),(g=this.o)&&u.push(mn(g,xs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(mn(p,p.charAt(0)=="/"?zs:lu,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",mn(p,gc)),u.join("")};function ee(u){return new ui(u)}function Yi(u,g,p){u.j=p?Xi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ur(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Sa(u,g,p){g instanceof kn?(u.i=g,Ls(u.i,u.h)):(p||(g=mn(g,mc)),u.i=new kn(g,u.h))}function Lt(u,g,p){u.i.set(g,p)}function xr(u){return Lt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Xi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mn(u,g,p){return typeof u=="string"?(u=encodeURI(u).replace(g,dc),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xs=/[#\/\?@]/g,lu=/[#\?:]/g,zs=/[#\?]/g,mc=/[#\?@]/g,gc=/#/g;function kn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Aa(u.i,function(g,p){u.add(decodeURIComponent(g.replace(/\+/g," ")),p)}))}s=kn.prototype,s.add=function(u,g){gn(this),this.i=null,u=hi(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(g),this.h+=1,this};function ba(u,g){gn(u),g=hi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function oi(u,g){return gn(u),g=hi(u,g),u.g.has(g)}s.forEach=function(u,g){gn(this),this.g.forEach(function(p,A){p.forEach(function(z){u.call(g,z,A,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),p=[];for(let A=0;A<g.length;A++){const z=u[A];for(let q=0;q<z.length;q++)p.push(g[A])}return p},s.V=function(u){gn(this);let g=[];if(typeof u=="string")oi(this,u)&&(g=g.concat(this.g.get(hi(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)g=g.concat(u[p])}return g},s.set=function(u,g){return gn(this),this.i=null,u=hi(this,u),oi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ci(u,g,p){ba(u,g),0<p.length&&(u.i=null,u.g.set(hi(u,g),it(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var p=0;p<g.length;p++){var A=g[p];const q=encodeURIComponent(String(A)),Z=this.V(A);for(A=0;A<Z.length;A++){var z=q;Z[A]!==""&&(z+="="+encodeURIComponent(String(Z[A]))),u.push(z)}}return this.i=u.join("&")};function hi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ls(u,g){g&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(p,A){var z=A.toLowerCase();A!=z&&(ba(this,A),ci(this,z,p))},u)),u.j=g}function uu(u,g){const p=new qi;if(_.Image){const A=new Image;A.onload=G(pn,p,"TestLoadImage: loaded",!0,g,A),A.onerror=G(pn,p,"TestLoadImage: error",!1,g,A),A.onabort=G(pn,p,"TestLoadImage: abort",!1,g,A),A.ontimeout=G(pn,p,"TestLoadImage: timeout",!1,g,A),_.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function zr(u,g){const p=new qi,A=new AbortController,z=setTimeout(()=>{A.abort(),pn(p,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?pn(p,"TestPingServer: ok",!0,g):pn(p,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),pn(p,"TestPingServer: error",!1,g)})}function pn(u,g,p,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(p)}catch{}}function Lr(){this.g=new Ke}function qn(u,g,p){const A=p||"";try{Nr(u,function(z,q){let Z=z;E(z)&&(Z=Ds(z)),g.push(A+q+"="+encodeURIComponent(Z))})}catch(z){throw g.push(A+"type="+encodeURIComponent("_badmap")),z}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Zi,Cs),Zi.prototype.g=function(){return new fi(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function fi(u,g){pe.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(fi,pe),s=fi.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||_).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Hn(this):jn(this),this.readyState==3&&Bs(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},s.Qa=function(u){this.g&&(this.response=u,Hn(this))},s.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}s.setRequestHeader=function(u,g){this.u.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var p=g.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=g.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ps(u){let g="";return xt(u,function(p,A){g+=A,g+=":",g+=p,g+=`\r
`}),g}function De(u,g,p){t:{for(A in p){var A=!1;break t}A=!0}A||(p=Ps(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Lt(u,g,p))}function qt(u){pe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(qt,pe);var Ra=/^https?$/i,Br=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,g,p,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?tu(this.o):tu(Mr),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){ou(this,q);return}if(u=p||"",p=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)p.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())p.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=_.FormData&&u instanceof _.FormData,!(0<=Array.prototype.indexOf.call(Br,g,void 0))||A||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of p)this.g.setRequestHeader(q,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ou(this,q)}};function ou(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,wa(u),Gn(u)}function wa(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},s.bb=function(){Da(this)};function Da(u){if(u.h&&typeof m<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)Wl(u.Ea,0,u);else if(Re(u,"readystatechange"),yn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var p;if(!(p=g)){var A;if(A=Z===0){var z=String(u.D).match(Us)[1]||null;!z&&_.self&&_.self.location&&(z=_.self.location.protocol.slice(0,-1)),A=!Ra.test(z?z.toLowerCase():"")}p=A}if(p)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",wa(u)}}finally{Gn(u)}}}}function Gn(u,g){if(u.g){Pr(u);const p=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Re(u,"ready");try{p.onreadystatechange=A}catch{}}}function Pr(u){u.I&&(_.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),zn(g)}};function cu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pc(u){const g={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(mt(u[A]))continue;var p=I(u[A]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=g[z]||[];g[z]=q,q.push(p)}N(g,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(u,g,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||g}function Ca(u){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,u),this.cb=kr("retryDelaySeedMs",1e4,u),this.Wa=kr("forwardChannelMaxRetries",2,u),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(u&&u.concurrentRequestLimit),this.Da=new Lr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ca.prototype,s.la=8,s.G=1,s.connect=function(u,g,p,A){se(0),this.W=u,this.H=g||{},p&&A!==void 0&&(this.H.OSID=p,this.H.OAID=A),this.F=this.X,this.I=yu(this,null,this.W),Oa(this)};function ks(u){if(hu(u),u.G==3){var g=u.U++,p=ee(u.I);if(Lt(p,"SID",u.K),Lt(p,"RID",g),Lt(p,"TYPE","terminate"),qr(u,p),g=new Pn(u,u.j,g),g.L=2,g.v=xr(ee(p)),p=!1,_.navigator&&_.navigator.sendBeacon)try{p=_.navigator.sendBeacon(g.v.toString(),"")}catch{}!p&&_.Image&&(new Image().src=g.v,p=!0),p||(g.g=_u(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Zt(g)}pu(u)}function Va(u){u.g&&(Hr(u),u.g.cancel(),u.g=null)}function hu(u){Va(u),u.u&&(_.clearTimeout(u.u),u.u=null),Ma(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&_.clearTimeout(u.s),u.s=null)}function Oa(u){if(!Ns(u.h)&&!u.s){u.s=!0;var g=u.Ga;ft||V(),ut||(ft(),ut=!0),kt.add(g,u),u.B=0}}function yc(u,g){return au(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ki(k(u.Ga,u,g),js(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Pn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=R(q),C(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var g=0,p=0;p<this.i.length;p++){e:{var A=this.i[p];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=p;break t}if(g===4096||p===this.i.length-1){g=p+1;break t}}g=1e3}else g=1e3;g=fu(this,z,g),p=ee(this.I),Lt(p,"RID",u),Lt(p,"CVER",22),this.D&&Lt(p,"X-HTTP-Session-Id",this.D),qr(this,p),q&&(this.O?g="headers="+encodeURIComponent(String(Ps(q)))+"&"+g:this.m&&De(p,this.m,q)),Ki(this.h,z),this.Ua&&Lt(p,"TYPE","init"),this.P?(Lt(p,"$req",g),Lt(p,"SID","null"),z.T=!0,On(z,p,null)):On(z,p,g),this.G=2}}else this.G==3&&(u?qs(this,u):this.i.length==0||Ns(this.h)||qs(this))};function qs(u,g){var p;g?p=g.l:p=u.U++;const A=ee(u.I);Lt(A,"SID",u.K),Lt(A,"RID",p),Lt(A,"AID",u.T),qr(u,A),u.m&&u.o&&De(A,u.m,u.o),p=new Pn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),g&&(u.i=g.D.concat(u.i)),g=fu(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ki(u.h,p),On(p,A,g)}function qr(u,g){u.H&&xt(u.H,function(p,A){Lt(g,A,p)}),u.l&&Nr({},function(p,A){Lt(g,A,p)})}function fu(u,g,p){p=Math.min(u.i.length,p);var A=u.l?k(u.l.Na,u.l,u):null;t:{var z=u.i;let q=-1;for(;;){const Z=["count="+p];q==-1?0<p?(q=z[0].g,Z.push("ofs="+q)):q=0:Z.push("ofs="+q);let Ot=!0;for(let _e=0;_e<p;_e++){let Mt=z[_e].g;const Ce=z[_e].map;if(Mt-=q,0>Mt)q=Math.max(0,z[_e].g-100),Ot=!1;else try{qn(Ce,Z,"req"+Mt+"_")}catch{A&&A(Ce)}}if(Ot){A=Z.join("&");break t}}}return u=u.i.splice(0,p),g.D=u,A}function du(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ft||V(),ut||(ft(),ut=!0),kt.add(g,u),u.v=0}}function Hs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ki(k(u.Fa,u),js(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ki(k(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Va(this),mu(this))};function Hr(u){u.A!=null&&(_.clearTimeout(u.A),u.A=null)}function mu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=ee(u.qa);Lt(g,"RID","rpc"),Lt(g,"SID",u.K),Lt(g,"AID",u.T),Lt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Lt(g,"TO",u.ja),Lt(g,"TYPE","xmlhttp"),qr(u,g),u.m&&u.o&&De(g,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=xr(ee(g)),p.m=null,p.P=!0,li(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Va(this),Hs(this),se(19))};function Ma(u){u.C!=null&&(_.clearTimeout(u.C),u.C=null)}function gu(u,g){var p=null;if(u.g==g){Ma(u),Hr(u),u.g=null;var A=2}else if(Fi(u.h,g))p=g.D,dn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){p=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;A=_a(),Re(A,new nu(A,p)),Oa(u)}else du(u);else if(z=g.s,z==3||z==0&&0<g.X||!(A==1&&yc(u,g)||A==2&&Hs(u)))switch(p&&0<p.length&&(g=u.h,g.i=g.i.concat(p)),z){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function js(u,g){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*g}function di(u,g){if(u.j.info("Error code "+g),g==2){var p=k(u.fb,u),A=u.Xa;const z=!A;A=new ui(A||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||Yi(A,"https"),xr(A),z?uu(A.toString(),p):zr(A.toString(),p)}else se(2);u.G=0,u.l&&u.l.sa(g),pu(u),hu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function pu(u){if(u.G=0,u.ka=[],u.l){const g=Ye(u.h);(g.length!=0||u.i.length!=0)&&($(u.ka,g),$(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function yu(u,g,p){var A=p instanceof ui?ee(p):new ui(p);if(A.g!="")g&&(A.g=g+"."+A.g),Ur(A,A.s);else{var z=_.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var q=new ui(null);A&&Yi(q,A),g&&(q.g=g),z&&Ur(q,z),p&&(q.l=p),A=q}return p=u.D,g=u.ya,p&&g&&Lt(A,p,g),Lt(A,"VER",u.la),qr(u,A),A}function _u(u,g,p){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new qt(new Zi({eb:p})):new qt(u.pa),g.Ha(u.J),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ia(){}Ia.prototype.g=function(u,g){return new Xe(u,g)};function Xe(u,g){pe.call(this),this.g=new Ca(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!mt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!mt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Qn(this)}J(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){ks(this.g)},Xe.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Ds(u),u=p);g.i.push(new hc(g.Ya++,u)),g.G==3&&Oa(g)},Xe.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Xe.aa.N.call(this)};function Eu(u){Li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const p in g){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}J(Eu,Li);function Tu(){Vn.call(this),this.status=1}J(Tu,Vn);function Qn(u){this.g=u}J(Qn,vu),Qn.prototype.ua=function(){Re(this.g,"a")},Qn.prototype.ta=function(u){Re(this.g,new Eu(u))},Qn.prototype.sa=function(u){Re(this.g,new Tu)},Qn.prototype.ra=function(){Re(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,r_=function(){return new Ia},i_=function(){return _a()},n_=fn,Cf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Do=ye,si.COMPLETE="complete",e_=si,eu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ml=eu,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,t_=qt}).apply(typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{});const Kp="@firebase/firestore",Yp="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Ky("@firebase/firestore");function as(){return ca.logLevel}function nt(s,...e){if(ca.logLevel<=Ut.DEBUG){const i=e.map(Ff);ca.debug(`Firestore (${Es}): ${s}`,...i)}}function Ii(s,...e){if(ca.logLevel<=Ut.ERROR){const i=e.map(Ff);ca.error(`Firestore (${Es}): ${s}`,...i)}}function fs(s,...e){if(ca.logLevel<=Ut.WARN){const i=e.map(Ff);ca.warn(`Firestore (${Es}): ${s}`,...i)}}function Ff(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s="Unexpected state"){const e=`FIRESTORE (${Es}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function Ht(s,e){s||dt()}function yt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class PT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class kT{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let f=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const v=f;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},_=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>_(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Tr)}},0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string"),new a_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Ge(e)}}class qT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HT{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new qT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,TT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0);const a=f=>{f.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,nt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>a(f))};const o=f=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?o(f):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Xp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new Xp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=GT(40);for(let f=0;f<o.length;++f)a.length<20&&o[f]<i&&(a+=e.charAt(o[f]%62))}return a}}function Vt(s,e){return s<e?-1:s>e?1:0}function ds(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-62135596800,$p=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*$p);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zp)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$p}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Se(0,0))}static max(){return new gt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(),a===void 0?a=e.length-i:a>e.length-i&&dt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const f=Jn.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),o=Jn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class ae extends Jn{construct(e,i,a){return new ae(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new ae(i)}static emptyPath(){return new ae([])}}const QT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Jn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return QT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jp}static keyField(){return new Be([Jp])}static fromServerFormat(e){const i=[];let a="",o=0;const f=()=>{if(a.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let m=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else _==="`"?(m=!m,o++):_!=="."||m?(a+=_,o++):(f(),o++)}if(f(),m)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ae.fromString(e))}static fromName(e){return new ct(ae.fromString(e).popFirst(5))}static empty(){return new ct(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function FT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=gt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Ar(o,ct.empty(),e)}function KT(s){return new Ar(s.readTime,s.key,kl)}class Ar{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ar(gt.min(),ct.empty(),kl)}static max(){return new Ar(gt.max(),ct.empty(),kl)}}function YT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==XT)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(a,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let o=0,f=0,m=!1;e.forEach(_=>{++o,_.next(()=>{++f,m&&f===o&&i()},v=>a(v))}),m=!0,f===o&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(o=>o?F.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,f)=>{a.push(i.call(this,o,f))}),this.waitFor(a)}static mapArray(e,i){return new F((a,o)=>{const f=e.length,m=new Array(f);let _=0;for(let v=0;v<f;v++){const E=v;i(e[E]).next(w=>{m[E]=w,++_,_===f&&a(m)},w=>o(w))}})}static doWhile(e,i){return new F((a,o)=>{const f=()=>{e()===!0?i().next(()=>{f()},o):a()};f()})}}function $T(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function As(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=-1;function Ko(s){return s==null}function xo(s){return s===0&&1/s==-1/0}function JT(s){return typeof s=="number"&&Number.isInteger(s)&&!xo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="";function WT(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Wp(e)),e=tA(s.get(i),e);return Wp(e)}function tA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const f=s.charAt(o);switch(f){case"\0":i+="";break;case l_:i+="";break;default:i+=f}}return i}function Wp(s){return s+l_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Cr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function u_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}}class To{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?a(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,o,f){this.key=e,this.value=i,this.color=a??Le.RED,this.left=o??Le.EMPTY,this.right=f??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,f){return new Le(e??this.key,i??this.value,a??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const f=a(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,a),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,i,a,o,f){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ey(this.data.getIterator())}getIteratorFrom(e){return new ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=a.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new xn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new o_("Invalid base64 string: "+f):f}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(o){let f="";for(let m=0;m<o.length;++m)f+=String.fromCharCode(o[m]);return f}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const eA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(s){if(Ht(!!s),typeof s=="string"){let e=0;const i=eA.exec(s);if(Ht(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="server_timestamp",h_="__type__",f_="__previous_value__",d_="__local_write_time__";function Yf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[h_])===null||i===void 0?void 0:i.stringValue)===c_}function Yo(s){const e=s.mapValue.fields[f_];return Yf(e)?Yo(e):e}function ql(s){const e=Sr(s.mapValue.fields[d_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i,a,o,f,m,_,v,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=E}}const zo="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||zo}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===zo}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__type__",iA="__max__",Ao={mapValue:{}},g_="__vector__",Lo="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Yf(s)?4:aA(s)?9007199254740991:rA(s)?10:11:dt()}function ei(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ql(s).isEqual(ql(e));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const m=Sr(o.timestampValue),_=Sr(f.timestampValue);return m.seconds===_.seconds&&m.nanos===_.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,f){return br(o.bytesValue).isEqual(br(f.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,f){return ue(o.geoPointValue.latitude)===ue(f.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(f.geoPointValue.longitude)}(s,e);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return ue(o.integerValue)===ue(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const m=ue(o.doubleValue),_=ue(f.doubleValue);return m===_?xo(m)===xo(_):isNaN(m)&&isNaN(_)}return!1}(s,e);case 9:return ds(s.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(o,f){const m=o.mapValue.fields||{},_=f.mapValue.fields||{};if(ty(m)!==ty(_))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(_[v]===void 0||!ei(m[v],_[v])))return!1;return!0}(s,e);default:return dt()}}function jl(s,e){return(s.values||[]).find(i=>ei(i,e))!==void 0}function ms(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return function(f,m){const _=ue(f.integerValue||f.doubleValue),v=ue(m.integerValue||m.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1}(s,e);case 3:return ny(s.timestampValue,e.timestampValue);case 4:return ny(ql(s),ql(e));case 5:return Vt(s.stringValue,e.stringValue);case 6:return function(f,m){const _=br(f),v=br(m);return _.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(f,m){const _=f.split("/"),v=m.split("/");for(let E=0;E<_.length&&E<v.length;E++){const w=Vt(_[E],v[E]);if(w!==0)return w}return Vt(_.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,m){const _=Vt(ue(f.latitude),ue(m.latitude));return _!==0?_:Vt(ue(f.longitude),ue(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return iy(s.arrayValue,e.arrayValue);case 10:return function(f,m){var _,v,E,w;const x=f.fields||{},k=m.fields||{},G=(_=x[Lo])===null||_===void 0?void 0:_.arrayValue,J=(v=k[Lo])===null||v===void 0?void 0:v.arrayValue,it=Vt(((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0,((w=J==null?void 0:J.values)===null||w===void 0?void 0:w.length)||0);return it!==0?it:iy(G,J)}(s.mapValue,e.mapValue);case 11:return function(f,m){if(f===Ao.mapValue&&m===Ao.mapValue)return 0;if(f===Ao.mapValue)return 1;if(m===Ao.mapValue)return-1;const _=f.fields||{},v=Object.keys(_),E=m.fields||{},w=Object.keys(E);v.sort(),w.sort();for(let x=0;x<v.length&&x<w.length;++x){const k=Vt(v[x],w[x]);if(k!==0)return k;const G=ms(_[v[x]],E[w[x]]);if(G!==0)return G}return Vt(v.length,w.length)}(s.mapValue,e.mapValue);default:throw dt()}}function ny(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=Sr(s),a=Sr(e),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function iy(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const f=ms(i[o],a[o]);if(f)return f}return Vt(i.length,a.length)}function gs(s){return Vf(s)}function Vf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Sr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return br(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const f of i.values||[])o?o=!1:a+=",",a+=Vf(f);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const m of a)f?f=!1:o+=",",o+=`${m}:${Vf(i.fields[m])}`;return o+"}"}(s.mapValue):dt()}function Co(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yo(s);return e?16+Co(e):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,f)=>o+Co(f),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Cr(a.fields,(f,m)=>{o+=f.length+Co(m)}),o}(s.mapValue);default:throw dt()}}function Of(s){return!!s&&"integerValue"in s}function Xf(s){return!!s&&"arrayValue"in s}function ry(s){return!!s&&"nullValue"in s}function ay(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vo(s){return!!s&&"mapValue"in s}function rA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[m_])===null||i===void 0?void 0:i.stringValue)===g_}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Cr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ul(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function aA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Vo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Be.emptyPath(),a={},o=[];e.forEach((m,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=_.popLast()}m?a[_.lastSegment()]=Ul(m):o.push(_.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,o)}delete(e){const i=this.field(e.popLast());Vo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Vo(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Cr(i,(o,f)=>e[o]=f);for(const o of a)delete e[o]}clone(){return new cn(Ul(this.value))}}function p_(s){const e=[];return Cr(s.fields,(i,a)=>{const o=new Be([i]);if(Vo(a)){const f=p_(a.mapValue).fields;if(f.length===0)e.push(o);else for(const m of f)e.push(o.child(m))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,o,f,m,_){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=f,this.data=m,this.documentState=_}static newInvalidDocument(e){return new Qe(e,0,gt.min(),gt.min(),gt.min(),cn.empty(),0)}static newFoundDocument(e,i,a,o){return new Qe(e,1,i,gt.min(),a,o,0)}static newNoDocument(e,i){return new Qe(e,2,i,gt.min(),gt.min(),cn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,gt.min(),gt.min(),cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,i){this.position=e,this.inclusive=i}}function sy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const f=e[o],m=s.position[o];if(f.field.isKeyField()?a=ct.comparator(ct.fromName(m.referenceValue),i.key):a=ms(m,i.data.field(f.field)),f.dir==="desc"&&(a*=-1),a!==0)break}return a}function ly(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ei(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i="asc"){this.field=e,this.dir=i}}function sA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{}class Ae extends y_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new uA(e,i,a):i==="array-contains"?new hA(e,a):i==="in"?new fA(e,a):i==="not-in"?new dA(e,a):i==="array-contains-any"?new mA(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new oA(e,a):new cA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ms(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(ms(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends y_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ni(e,i)}matches(e){return __(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function __(s){return s.op==="and"}function v_(s){return lA(s)&&__(s)}function lA(s){for(const e of s.filters)if(e instanceof ni)return!1;return!0}function Mf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+gs(s.value);if(v_(s))return s.filters.map(e=>Mf(e)).join(",");{const e=s.filters.map(i=>Mf(i)).join(",");return`${s.op}(${e})`}}function E_(s,e){return s instanceof Ae?function(a,o){return o instanceof Ae&&a.op===o.op&&a.field.isEqual(o.field)&&ei(a.value,o.value)}(s,e):s instanceof ni?function(a,o){return o instanceof ni&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((f,m,_)=>f&&E_(m,o.filters[_]),!0):!1}(s,e):void dt()}function T_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${gs(i.value)}`}(s):s instanceof ni?function(i){return i.op.toString()+" {"+i.getFilters().map(T_).join(" ,")+"}"}(s):"Filter"}class uA extends Ae{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class oA extends Ae{constructor(e,i){super(e,"in",i),this.keys=A_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class cA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=A_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function A_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ct.fromName(a.referenceValue))}class hA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xf(i)&&jl(i.arrayValue,this.value)}}class fA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class dA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!jl(this.value.arrayValue,i)}}class mA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i=null,a=[],o=[],f=null,m=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=f,this.startAt=m,this.endAt=_,this.le=null}}function uy(s,e=null,i=[],a=[],o=null,f=null,m=null){return new gA(s,e,i,a,o,f,m)}function Zf(s){const e=yt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Mf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(f){return f.field.canonicalString()+f.dir}(a)).join(","),Ko(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>gs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>gs(a)).join(",")),e.le=i}return e.le}function $f(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!sA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!E_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ly(s.startAt,e.startAt)&&ly(s.endAt,e.endAt)}function If(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i=null,a=[],o=[],f=null,m="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=f,this.limitType=m,this.startAt=_,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pA(s,e,i,a,o,f,m,_){return new Xo(s,e,i,a,o,f,m,_)}function Jf(s){return new Xo(s)}function oy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yA(s){return s.collectionGroup!==null}function xl(s){const e=yt(s);if(e.he===null){e.he=[];const i=new Set;for(const f of e.explicitOrderBy)e.he.push(f),i.add(f.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let _=new be(Be.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(_=_.add(E.field))})}),_})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.he.push(new Po(f,a))}),i.has(Be.keyField().canonicalString())||e.he.push(new Po(Be.keyField(),a))}return e.he}function Wn(s){const e=yt(s);return e.Pe||(e.Pe=_A(e,xl(s))),e.Pe}function _A(s,e){if(s.limitType==="F")return uy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new Po(o.field,f)});const i=s.endAt?new Bo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Bo(s.startAt.position,s.startAt.inclusive):null;return uy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Nf(s,e,i){return new Xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Zo(s,e){return $f(Wn(s),Wn(e))&&s.limitType===e.limitType}function S_(s){return`${Zf(Wn(s))}|lt:${s.limitType}`}function ss(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>T_(o)).join(", ")}]`),Ko(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>gs(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>gs(o)).join(",")),`Target(${a})`}(Wn(s))}; limitType=${s.limitType})`}function $o(s,e){return e.isFoundDocument()&&function(a,o){const f=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):ct.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(s,e)&&function(a,o){for(const f of xl(a))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const f of a.filters)if(!f.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(m,_,v){const E=sy(m,_,v);return m.inclusive?E<=0:E<0}(a.startAt,xl(a),o)||a.endAt&&!function(m,_,v){const E=sy(m,_,v);return m.inclusive?E>=0:E>0}(a.endAt,xl(a),o))}(s,e)}function vA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function b_(s){return(e,i)=>{let a=!1;for(const o of xl(s)){const f=EA(o,e,i);if(f!==0)return f;a=a||o.field.isKeyField()}return 0}}function EA(s,e,i){const a=s.field.isKeyField()?ct.comparator(e.key,i.key):function(f,m,_){const v=m.data.field(f),E=_.data.field(f);return v!==null&&E!==null?ms(v,E):dt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,f]of a)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,(i,a)=>{for(const[o,f]of a)e(o,f)})}isEmpty(){return u_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new Wt(ct.comparator);function Ni(){return TA}const R_=new Wt(ct.comparator);function Il(...s){let e=R_;for(const i of s)e=e.insert(i.key,i);return e}function w_(s){let e=R_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ua(){return zl()}function D_(){return zl()}function zl(){return new fa(s=>s.toString(),(s,e)=>s.isEqual(e))}const AA=new Wt(ct.comparator),SA=new be(ct.comparator);function Dt(...s){let e=SA;for(const i of s)e=e.add(i);return e}const bA=new be(Vt);function RA(){return bA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xo(e)?"-0":e}}function C_(s){return{integerValue:""+s}}function V_(s,e){return JT(e)?C_(e):Wf(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this._=void 0}}function wA(s,e,i){return s instanceof ko?function(o,f){const m={fields:{[h_]:{stringValue:c_},[d_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&Yf(f)&&(f=Yo(f)),f&&(m.fields[f_]=f),{mapValue:m}}(i,e):s instanceof Gl?M_(s,e):s instanceof Ql?I_(s,e):function(o,f){const m=O_(o,f),_=cy(m)+cy(o.Ie);return Of(m)&&Of(o.Ie)?C_(_):Wf(o.serializer,_)}(s,e)}function DA(s,e,i){return s instanceof Gl?M_(s,e):s instanceof Ql?I_(s,e):i}function O_(s,e){return s instanceof Fl?function(a){return Of(a)||function(f){return!!f&&"doubleValue"in f}(a)}(e)?e:{integerValue:0}:null}class ko extends Jo{}class Gl extends Jo{constructor(e){super(),this.elements=e}}function M_(s,e){const i=N_(e);for(const a of s.elements)i.some(o=>ei(o,a))||i.push(a);return{arrayValue:{values:i}}}class Ql extends Jo{constructor(e){super(),this.elements=e}}function I_(s,e){let i=N_(e);for(const a of s.elements)i=i.filter(o=>!ei(o,a));return{arrayValue:{values:i}}}class Fl extends Jo{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function cy(s){return ue(s.integerValue||s.doubleValue)}function N_(s){return Xf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i){this.field=e,this.transform=i}}function VA(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Gl&&o instanceof Gl||a instanceof Ql&&o instanceof Ql?ds(a.elements,o.elements,ei):a instanceof Fl&&o instanceof Fl?ei(a.Ie,o.Ie):a instanceof ko&&o instanceof ko}(s.transform,e.transform)}class OA{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Wo{}function U_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new z_(s.key,Oi.none()):new tc(s.key,s.data,Oi.none());{const i=s.data,a=cn.empty();let o=new be(Be.comparator);for(let f of e.fields)if(!o.has(f)){let m=i.field(f);m===null&&f.length>1&&(f=f.popLast(),m=i.field(f)),m===null?a.delete(f):a.set(f,m),o=o.add(f)}return new da(s.key,a,new xn(o.toArray()),Oi.none())}}function MA(s,e,i){s instanceof tc?function(o,f,m){const _=o.value.clone(),v=fy(o.fieldTransforms,f,m.transformResults);_.setAll(v),f.convertToFoundDocument(m.version,_).setHasCommittedMutations()}(s,e,i):s instanceof da?function(o,f,m){if(!Oo(o.precondition,f))return void f.convertToUnknownDocument(m.version);const _=fy(o.fieldTransforms,f,m.transformResults),v=f.data;v.setAll(x_(o)),v.setAll(_),f.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(s,e,i):function(o,f,m){f.convertToNoDocument(m.version).setHasCommittedMutations()}(0,e,i)}function Ll(s,e,i,a){return s instanceof tc?function(f,m,_,v){if(!Oo(f.precondition,m))return _;const E=f.value.clone(),w=dy(f.fieldTransforms,v,m);return E.setAll(w),m.convertToFoundDocument(m.version,E).setHasLocalMutations(),null}(s,e,i,a):s instanceof da?function(f,m,_,v){if(!Oo(f.precondition,m))return _;const E=dy(f.fieldTransforms,v,m),w=m.data;return w.setAll(x_(f)),w.setAll(E),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),_===null?null:_.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(x=>x.field))}(s,e,i,a):function(f,m,_){return Oo(f.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):_}(s,e,i)}function IA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),f=O_(a.transform,o||null);f!=null&&(i===null&&(i=cn.empty()),i.set(a.field,f))}return i||null}function hy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ds(a,o,(f,m)=>VA(f,m))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tc extends Wo{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class da extends Wo{constructor(e,i,a,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function x_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function fy(s,e,i){const a=new Map;Ht(s.length===i.length);for(let o=0;o<i.length;o++){const f=s[o],m=f.transform,_=e.data.field(f.field);a.set(f.field,DA(m,_,i[o]))}return a}function dy(s,e,i){const a=new Map;for(const o of s){const f=o.transform,m=i.data.field(o.field);a.set(o.field,wA(f,m,e))}return a}class z_ extends Wo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NA extends Wo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&MA(f,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=D_();return this.mutations.forEach(o=>{const f=e.get(o.key),m=f.overlayedDocument;let _=this.applyToLocalView(m,f.mutatedFields);_=i.has(o.key)?null:_;const v=U_(m,_);v!==null&&a.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(gt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(i,a)=>hy(i,a))&&ds(this.baseMutations,e.baseMutations,(i,a)=>hy(i,a))}}class td{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Ht(e.mutations.length===a.length);let o=function(){return AA}();const f=e.mutations;for(let m=0;m<f.length;m++)o=o.insert(f[m].key,a[m].version);return new td(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Nt;function LA(s){switch(s){case X.OK:return dt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt()}}function L_(s){if(s===void 0)return Ii("GRPC error has no .code"),X.UNKNOWN;switch(s){case me.OK:return X.OK;case me.CANCELLED:return X.CANCELLED;case me.UNKNOWN:return X.UNKNOWN;case me.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case me.INTERNAL:return X.INTERNAL;case me.UNAVAILABLE:return X.UNAVAILABLE;case me.UNAUTHENTICATED:return X.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case me.NOT_FOUND:return X.NOT_FOUND;case me.ALREADY_EXISTS:return X.ALREADY_EXISTS;case me.PERMISSION_DENIED:return X.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case me.ABORTED:return X.ABORTED;case me.OUT_OF_RANGE:return X.OUT_OF_RANGE;case me.UNIMPLEMENTED:return X.UNIMPLEMENTED;case me.DATA_LOSS:return X.DATA_LOSS;default:return dt()}}(Nt=me||(me={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new Er([4294967295,4294967295],0);function my(s){const e=BA().encode(s),i=new Wy;return i.update(e),new Uint8Array(i.digest())}function gy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Er([i,a],0),new Er([o,f],0)]}class ed{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Er.fromNumber(this.Ee)}Ae(e,i,a){let o=e.add(i.multiply(Er.fromNumber(a)));return o.compare(PA)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=my(e),[a,o]=gy(i);for(let f=0;f<this.hashCount;f++){const m=this.Ae(a,o,f);if(!this.Re(m))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),m=new ed(f,o,i);return a.forEach(_=>m.insert(_)),m}insert(e){if(this.Ee===0)return;const i=my(e),[a,o]=gy(i);for(let f=0;f<this.hashCount;f++){const m=this.Ae(a,o,f);this.Ve(m)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,a,o,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ec(gt.min(),o,new Wt(Vt),Ni(),Dt())}}class Xl{constructor(e,i,a,o,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,o){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=o}}class B_{constructor(e,i){this.targetId=e,this.ge=i}}class P_{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class py{constructor(){this.pe=0,this.ye=yy(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Dt(),i=Dt(),a=Dt();return this.ye.forEach((o,f)=>{switch(f){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:dt()}}),new Xl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=yy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=So(),this.Ke=So(),this.Ue=new Wt(Vt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:dt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,a=e.ge.count,o=this.Xe(i);if(o){const f=o.target;if(If(f))if(a===0){const m=new ct(f.path);this.ze(i,m,Qe.newNoDocument(m,gt.min()))}else Ht(a===1);else{const m=this.et(i);if(m!==a){const _=this.tt(e),v=_?this.nt(_,e,m):1;if(v!==0){this.Ye(i);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,E)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:f=0}=i;let m,_;try{m=br(a).toUint8Array()}catch(v){if(v instanceof o_)return fs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new ed(m,o,f)}catch(v){return fs(v instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.Ee===0?null:_}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(f=>{const m=this.ke.it(),_=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;e.mightContain(_)||(this.ze(i,f,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((f,m)=>{const _=this.Xe(m);if(_){if(f.current&&If(_.target)){const v=new ct(_.target.path);this._t(v).has(m)||this.ut(m,v)||this.ze(m,v,Qe.newNoDocument(v,e))}f.ve&&(i.set(m,f.Fe()),f.Me())}});let a=Dt();this.Ke.forEach((f,m)=>{let _=!0;m.forEachWhile(v=>{const E=this.Xe(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)}),_&&(a=a.add(f))}),this.Qe.forEach((f,m)=>m.setReadTime(e));const o=new ec(e,i,this.Ue,this.Qe,a);return this.Qe=Ni(),this.$e=So(),this.Ke=So(),this.Ue=new Wt(Vt),o}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new py,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new be(Vt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Vt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new py),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function So(){return new Wt(ct.comparator)}function yy(){return new Wt(ct.comparator)}const qA={asc:"ASCENDING",desc:"DESCENDING"},HA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jA={and:"AND",or:"OR"};class GA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Uf(s,e){return s.useProto3Json||Ko(e)?e:{value:e}}function qo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function QA(s,e){return qo(s,e.toTimestamp())}function ti(s){return Ht(!!s),gt.fromTimestamp(function(i){const a=Sr(i);return new Se(a.seconds,a.nanos)}(s))}function nd(s,e){return xf(s,e).canonicalString()}function xf(s,e){const i=function(o){return new ae(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function q_(s){const e=ae.fromString(s);return Ht(F_(e)),e}function zf(s,e){return nd(s.databaseId,e.path)}function _f(s,e){const i=q_(e);if(i.get(1)!==s.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(j_(i))}function H_(s,e){return nd(s.databaseId,e)}function FA(s){const e=q_(s);return e.length===4?ae.emptyPath():j_(e)}function Lf(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function j_(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function _y(s,e,i){return{name:zf(s,e),fields:i.value.mapValue.fields}}function KA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],f=function(E,w){return E.useProto3Json?(Ht(w===void 0||typeof w=="string"),Pe.fromBase64String(w||"")):(Ht(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pe.fromUint8Array(w||new Uint8Array))}(s,e.targetChange.resumeToken),m=e.targetChange.cause,_=m&&function(E){const w=E.code===void 0?X.UNKNOWN:L_(E.code);return new ot(w,E.message||"")}(m);i=new P_(a,o,f,_||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=_f(s,a.document.name),f=ti(a.document.updateTime),m=a.document.createTime?ti(a.document.createTime):gt.min(),_=new cn({mapValue:{fields:a.document.fields}}),v=Qe.newFoundDocument(o,f,m,_),E=a.targetIds||[],w=a.removedTargetIds||[];i=new Mo(E,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=_f(s,a.document),f=a.readTime?ti(a.readTime):gt.min(),m=Qe.newNoDocument(o,f),_=a.removedTargetIds||[];i=new Mo([],_,m.key,m)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=_f(s,a.document),f=a.removedTargetIds||[];i=new Mo([],f,o,null)}else{if(!("filter"in e))return dt();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:f}=a,m=new zA(o,f),_=a.targetId;i=new B_(_,m)}}return i}function YA(s,e){let i;if(e instanceof tc)i={update:_y(s,e.key,e.value)};else if(e instanceof z_)i={delete:zf(s,e.key)};else if(e instanceof da)i={update:_y(s,e.key,e.data),updateMask:iS(e.fieldMask)};else{if(!(e instanceof NA))return dt();i={verify:zf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(f,m){const _=m.transform;if(_ instanceof ko)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Gl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Ql)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Fl)return{fieldPath:m.field.canonicalString(),increment:_.Ie};throw dt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:QA(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:dt()}(s,e.precondition)),i}function XA(s,e){return s&&s.length>0?(Ht(e!==void 0),s.map(i=>function(o,f){let m=o.updateTime?ti(o.updateTime):ti(f);return m.isEqual(gt.min())&&(m=ti(f)),new OA(m,o.transformResults||[])}(i,e))):[]}function ZA(s,e){return{documents:[H_(s,e.path)]}}function $A(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=H_(s,o);const f=function(E){if(E.length!==0)return Q_(ni.create(E,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const m=function(E){if(E.length!==0)return E.map(w=>function(k){return{field:ls(k.field),direction:tS(k.dir)}}(w))}(e.orderBy);m&&(i.structuredQuery.orderBy=m);const _=Uf(s,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ht:i,parent:o}}function JA(s){let e=FA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1);const w=i.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let f=[];i.where&&(f=function(x){const k=G_(x);return k instanceof ni&&v_(k)?k.getFilters():[k]}(i.where));let m=[];i.orderBy&&(m=function(x){return x.map(k=>function(J){return new Po(us(J.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(k))}(i.orderBy));let _=null;i.limit&&(_=function(x){let k;return k=typeof x=="object"?x.value:x,Ko(k)?null:k}(i.limit));let v=null;i.startAt&&(v=function(x){const k=!!x.before,G=x.values||[];return new Bo(G,k)}(i.startAt));let E=null;return i.endAt&&(E=function(x){const k=!x.before,G=x.values||[];return new Bo(G,k)}(i.endAt)),pA(e,o,m,f,_,"F",v,E)}function WA(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function G_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=us(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=us(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=us(i.unaryFilter.field);return Ae.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=us(i.unaryFilter.field);return Ae.create(m,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(us(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ni.create(i.compositeFilter.filters.map(a=>G_(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt()}}(i.compositeFilter.op))}(s):dt()}function tS(s){return qA[s]}function eS(s){return HA[s]}function nS(s){return jA[s]}function ls(s){return{fieldPath:s.canonicalString()}}function us(s){return Be.fromServerFormat(s.fieldPath)}function Q_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(ay(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NAN"}};if(ry(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ay(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NAN"}};if(ry(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(i.field),op:eS(i.op),value:i.value}}}(s):s instanceof ni?function(i){const a=i.getFilters().map(o=>Q_(o));return a.length===1?a[0]:{compositeFilter:{op:nS(i.op),filters:a}}}(s):dt()}function iS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function F_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,o,f=gt.min(),m=gt.min(),_=Pe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.Tt=e}}function aS(s){const e=JA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.Tn=new lS}addToCollectionParentIndex(e,i){return this.Tn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(Ar.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class lS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new be(ae.comparator),f=!o.has(a);return this.index[i]=o.add(a),f}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new be(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K_=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(K_,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ps(0)}static Un(){return new ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="LruGarbageCollector",uS=1048576;function Ty([s,e],[i,a]){const o=Vt(s,i);return o===0?Vt(e,a):o}class oS{constructor(e){this.Hn=e,this.buffer=new be(Ty),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ty(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Ey,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){As(i)?nt(Ey,"Ignoring IndexedDB error during garbage collection: ",i):await Ts(i)}await this.er(3e5)})}}class hS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Fo.ae);const a=new oS(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(vy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,f,m,_,v,E;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,m=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(a=x,_=Date.now(),this.removeTargets(e,a,i))).next(x=>(f=x,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(x=>(E=Date.now(),as()<=Ut.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-w}ms
	Determined least recently used ${o} in `+(_-m)+`ms
	Removed ${f} targets in `+(v-_)+`ms
	Removed ${x} documents in `+(E-v)+`ms
Total Duration: ${E-w}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:x})))}}function fS(s,e){return new hS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.changes=new fa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Ll(a.mutation,o,xn.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const o=ua();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(f=>{let m=Il();return f.forEach((_,v)=>{m=m.insert(_,v.overlayedDocument)}),m}))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const o=[];return a.forEach(f=>{i.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(e,o).next(f=>{f.forEach((m,_)=>{i.set(m,_)})})}computeViews(e,i,a,o){let f=Ni();const m=zl(),_=function(){return zl()}();return i.forEach((v,E)=>{const w=a.get(E.key);o.has(E.key)&&(w===void 0||w.mutation instanceof da)?f=f.insert(E.key,E):w!==void 0?(m.set(E.key,w.mutation.getFieldMask()),Ll(w.mutation,E,w.mutation.getFieldMask(),Se.now())):m.set(E.key,xn.empty())}),this.recalculateAndSaveOverlays(e,f).next(v=>(v.forEach((E,w)=>m.set(E,w)),i.forEach((E,w)=>{var x;return _.set(E,new mS(w,(x=m.get(E))!==null&&x!==void 0?x:null))}),_))}recalculateAndSaveOverlays(e,i){const a=zl();let o=new Wt((m,_)=>m-_),f=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(m=>{for(const _ of m)_.keys().forEach(v=>{const E=i.get(v);if(E===null)return;let w=a.get(v)||xn.empty();w=_.applyToLocalView(E,w),a.set(v,w);const x=(o.get(_.batchId)||Dt()).add(v);o=o.insert(_.batchId,x)})}).next(()=>{const m=[],_=o.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),E=v.key,w=v.value,x=D_();w.forEach(k=>{if(!f.has(k)){const G=U_(i.get(k),a.get(k));G!==null&&x.set(k,G),f=f.add(k)}}),m.push(this.documentOverlayCache.saveOverlays(e,E,x))}return F.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(m){return ct.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):yA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(f=>{const m=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-f.size):F.resolve(ua());let _=kl,v=f;return m.next(E=>F.forEach(E,(w,x)=>(_<x.largestBatchId&&(_=x.largestBatchId),f.get(w)?F.resolve():this.remoteDocumentCache.getEntry(e,w).next(k=>{v=v.insert(w,k)}))).next(()=>this.populateOverlays(e,E,f)).next(()=>this.computeViews(e,v,E,Dt())).next(w=>({batchId:_,changes:w_(w)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(a=>{let o=Il();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const f=i.collectionGroup;let m=Il();return this.indexManager.getCollectionParents(e,f).next(_=>F.forEach(_,v=>{const E=function(x,k){return new Xo(k,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,E,a,o).next(w=>{w.forEach((x,k)=>{m=m.insert(x,k)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,i,a,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,f,o))).next(m=>{f.forEach((v,E)=>{const w=E.getKey();m.get(w)===null&&(m=m.insert(w,Qe.newInvalidDocument(w)))});let _=Il();return m.forEach((v,E)=>{const w=f.get(v);w!==void 0&&Ll(w.mutation,E,xn.empty(),Se.now()),$o(i,E)&&(_=_.insert(v,E))}),_})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ti(o.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:aS(o.bundledQuery),readTime:ti(o.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.overlays=new Wt(ct.comparator),this.Rr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return F.forEach(i,o=>this.getOverlay(e,o).next(f=>{f!==null&&a.set(o,f)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,f)=>{this.Et(e,i,f)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.Rr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const o=ua(),f=i.length+1,m=new ct(i.child("")),_=this.overlays.getIteratorFrom(m);for(;_.hasNext();){const v=_.getNext().value,E=v.getKey();if(!i.isPrefixOf(E.path))break;E.path.length===f&&v.largestBatchId>a&&o.set(v.getKey(),v)}return F.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let f=new Wt((E,w)=>E-w);const m=this.overlays.getIterator();for(;m.hasNext();){const E=m.getNext().value;if(E.getKey().getCollectionGroup()===i&&E.largestBatchId>a){let w=f.get(E.largestBatchId);w===null&&(w=ua(),f=f.insert(E.largestBatchId,w)),w.set(E.getKey(),E)}}const _=ua(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,w)=>_.set(E,w)),!(_.size()>=o)););return F.resolve(_)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const m=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new xA(i,a));let f=this.Rr.get(i);f===void 0&&(f=Dt(),this.Rr.set(i,f)),this.Rr.set(i,f.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.Vr=new be(Ie.mr),this.gr=new be(Ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ie(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ct(new ae([])),a=new Ie(i,e),o=new Ie(i,e+1),f=[];return this.gr.forEachInRange([a,o],m=>{this.wr(m),f.push(m.key)}),f}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ct(new ae([])),a=new Ie(i,e),o=new Ie(i,e+1);let f=Dt();return this.gr.forEachInRange([a,o],m=>{f=f.add(m.key)}),f}containsKey(e){const i=new Ie(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ct.comparator(e.key,i.key)||Vt(e.Cr,i.Cr)}static pr(e,i){return Vt(e.Cr,i.Cr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ie.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const f=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new UA(f,i,a,o);this.mutationQueue.push(m);for(const _ of o)this.Mr=this.Mr.add(new Ie(_.key,f)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return F.resolve(m)}lookupMutationBatch(e,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),f=o<0?0:o;return F.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Kf:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),f=[];return this.Mr.forEachInRange([a,o],m=>{const _=this.Or(m.Cr);f.push(_)}),F.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Vt);return i.forEach(o=>{const f=new Ie(o,0),m=new Ie(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([f,m],_=>{a=a.add(_.Cr)})}),F.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let f=a;ct.isDocumentKey(f)||(f=f.child(""));const m=new Ie(new ct(f),0);let _=new be(Vt);return this.Mr.forEachWhile(v=>{const E=v.key.path;return!!a.isPrefixOf(E)&&(E.length===o&&(_=_.add(v.Cr)),!0)},m),F.resolve(this.Br(_))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return F.forEach(i.mutations,o=>{const f=new Ie(o.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ie(i,0),o=this.Mr.firstAfterOrEqual(a);return F.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.kr=e,this.docs=function(){return new Wt(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),f=o?o.size:0,m=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(o=>{const f=this.docs.get(o);a=a.insert(o,f?f.document.mutableCopy():Qe.newInvalidDocument(o))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let f=Ni();const m=i.path,_=new ct(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:E,value:{document:w}}=v.getNext();if(!m.isPrefixOf(E.path))break;E.path.length>m.length+1||YT(KT(w),a)<=0||(o.has(w.key)||$o(i,w))&&(f=f.insert(w.key,w.mutableCopy()))}return F.resolve(f)}getAllFromCollectionGroup(e,i,a,o){dt()}qr(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new TS(this)}getSize(e){return F.resolve(this.size)}}class TS extends dS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.persistence=e,this.Qr=new fa(i=>Zf(i),$f),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new id,this.targetCount=0,this.Ur=ps.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),F.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new ps(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.zn(i),F.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let o=0;const f=[];return this.Qr.forEach((m,_)=>{_.sequenceNumber<=i&&a.get(_.targetId)===null&&(this.Qr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)}),F.waitFor(f).next(()=>o)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.Kr.Sr(i,a);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach(m=>{f.push(o.markPotentiallyOrphaned(e,m))}),F.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Fo(0),this.zr=!1,this.zr=!0,this.jr=new _S,this.referenceDelegate=e(this),this.Hr=new AS(this),this.indexManager=new sS,this.remoteDocumentCache=function(o){return new ES(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new rS(i),this.Yr=new pS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new vS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const o=new SS(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(f=>this.referenceDelegate.Xr(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}ei(e,i){return F.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class SS extends ZT{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.ti=new id,this.ni=null}static ri(e){return new rd(e)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(f=>this.ii.add(f.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,a=>{const o=ct.fromPath(a);return this.si(e,o).next(f=>{f||i.removeEntry(o,gt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ho{constructor(e,i){this.persistence=e,this.oi=new fa(a=>WT(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=fS(this,i)}static ri(e,i){return new Ho(e,i)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return F.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(f=>f?F.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.qr(e,m=>this.ar(e,m,i).next(_=>{_||(a++,f.removeEntry(m,gt.min()))})).next(()=>f.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Co(e.data.value)),i}ar(e,i,a){return F.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return F.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=Dt(),o=Dt();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new ad(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _E()?8:$T(pE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const f={result:null};return this.rs(e,i).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.ss(e,i,o,a).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new bS;return this._s(e,i,m).next(_=>{if(f.result=_,this.Xi)return this.us(e,i,m,_.size)})}).next(()=>f.result)}us(e,i,a,o){return a.documentReadCount<this.es?(as()<=Ut.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",ss(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(as()<=Ut.DEBUG&&nt("QueryEngine","Query:",ss(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(as()<=Ut.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",ss(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(i))):F.resolve())}rs(e,i){if(oy(i))return F.resolve(null);let a=Wn(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Nf(i,null,"F"),a=Wn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(f=>{const m=Dt(...f);return this.ns.getDocuments(e,m).next(_=>this.indexManager.getMinOffset(e,a).next(v=>{const E=this.cs(i,_);return this.ls(i,E,m,v.readTime)?this.rs(e,Nf(i,null,"F")):this.hs(e,E,i,v)}))})))}ss(e,i,a,o){return oy(i)||o.isEqual(gt.min())?F.resolve(null):this.ns.getDocuments(e,a).next(f=>{const m=this.cs(i,f);return this.ls(i,m,a,o)?F.resolve(null):(as()<=Ut.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ss(i)),this.hs(e,m,i,FT(o,kl)).next(_=>_))})}cs(e,i){let a=new be(b_(e));return i.forEach((o,f)=>{$o(e,f)&&(a=a.add(f))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}_s(e,i,a){return as()<=Ut.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ss(i)),this.ns.getDocumentsMatchingQuery(e,i,Ar.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(f=>(i.forEach(m=>{f=f.insert(m.key,m)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="LocalStore",wS=3e8;class DS{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new Wt(Vt),this.Is=new fa(f=>Zf(f),$f),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function CS(s,e,i,a){return new DS(s,e,i,a)}async function X_(s,e){const i=yt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(f=>(o=f,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const m=[],_=[];let v=Dt();for(const E of o){m.push(E.batchId);for(const w of E.mutations)v=v.add(w.key)}for(const E of f){_.push(E.batchId);for(const w of E.mutations)v=v.add(w.key)}return i.localDocuments.getDocuments(a,v).next(E=>({Rs:E,removedBatchIds:m,addedBatchIds:_}))})})}function VS(s,e){const i=yt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),f=i.ds.newChangeBuffer({trackRemovals:!0});return function(_,v,E,w){const x=E.batch,k=x.keys();let G=F.resolve();return k.forEach(J=>{G=G.next(()=>w.getEntry(v,J)).next(it=>{const $=E.docVersions.get(J);Ht($!==null),it.version.compareTo($)<0&&(x.applyToRemoteDocument(it,E),it.isValidDocument()&&(it.setReadTime(E.commitVersion),w.addEntry(it)))})}),G.next(()=>_.mutationQueue.removeMutationBatch(v,x))}(i,a,e,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(_){let v=Dt();for(let E=0;E<_.mutationResults.length;++E)_.mutationResults[E].transformResults.length>0&&(v=v.add(_.batch.mutations[E].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function Z_(s){const e=yt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function OS(s,e){const i=yt(s),a=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const _=[];e.targetChanges.forEach((w,x)=>{const k=o.get(x);if(!k)return;_.push(i.Hr.removeMatchingKeys(f,w.removedDocuments,x).next(()=>i.Hr.addMatchingKeys(f,w.addedDocuments,x)));let G=k.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(x)!==null?G=G.withResumeToken(Pe.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):w.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(w.resumeToken,a)),o=o.insert(x,G),function(it,$,bt){return it.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=wS?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0}(k,G,w)&&_.push(i.Hr.updateTargetData(f,G))});let v=Ni(),E=Dt();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(f,w))}),_.push(MS(f,m,e.documentUpdates).next(w=>{v=w.Vs,E=w.fs})),!a.isEqual(gt.min())){const w=i.Hr.getLastRemoteSnapshotVersion(f).next(x=>i.Hr.setTargetsMetadata(f,f.currentSequenceNumber,a));_.push(w)}return F.waitFor(_).next(()=>m.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,v,E)).next(()=>v)}).then(f=>(i.Ts=o,f))}function MS(s,e,i){let a=Dt(),o=Dt();return i.forEach(f=>a=a.add(f)),e.getEntries(s,a).next(f=>{let m=Ni();return i.forEach((_,v)=>{const E=f.get(_);v.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(_)),v.isNoDocument()&&v.version.isEqual(gt.min())?(e.removeEntry(_,v.readTime),m=m.insert(_,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),m=m.insert(_,v)):nt(sd,"Ignoring outdated watch update for ",_,". Current version:",E.version," Watch version:",v.version)}),{Vs:m,fs:o}})}function IS(s,e){const i=yt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Kf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function NS(s,e){const i=yt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,e).next(f=>f?(o=f,F.resolve(o)):i.Hr.allocateTargetId(a).next(m=>(o=new yr(e,m,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Bf(s,e,i){const a=yt(s),o=a.Ts.get(e),f=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",f,m=>a.persistence.referenceDelegate.removeTarget(m,o))}catch(m){if(!As(m))throw m;nt(sd,`Failed to update sequence numbers for target ${e}: ${m}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function Ay(s,e,i){const a=yt(s);let o=gt.min(),f=Dt();return a.persistence.runTransaction("Execute query","readwrite",m=>function(v,E,w){const x=yt(v),k=x.Is.get(w);return k!==void 0?F.resolve(x.Ts.get(k)):x.Hr.getTargetData(E,w)}(a,m,Wn(e)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(m,_.targetId).next(v=>{f=v})}).next(()=>a.Ps.getDocumentsMatchingQuery(m,e,i?o:gt.min(),i?f:Dt())).next(_=>(US(a,vA(e),_),{documents:_,gs:f})))}function US(s,e,i){let a=s.Es.get(e)||gt.min();i.forEach((o,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),s.Es.set(e,a)}class Sy{constructor(){this.activeTargetIds=RA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xS{constructor(){this.ho=new Sy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Sy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="ConnectivityMonitor";class Ry{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(by,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(by,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function Pf(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===zo?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,f){const m=Pf(),_=this.bo(e,i.toUriEncodedString());nt(vf,`Sending RPC '${e}' ${m}:`,_,a);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,o,f),this.vo(e,_,v,a).then(E=>(nt(vf,`Received RPC '${e}' ${m}: `,E),E),E=>{throw fs(vf,`RPC '${e}' ${m} failed with error: `,E,"url: ",_,"request:",a),E})}Co(e,i,a,o,f,m){return this.So(e,i,a,o,f)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Es}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,f)=>e[f]=o),a&&a.headers.forEach((o,f)=>e[f]=o)}bo(e,i){const a=LS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class kS extends BS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const f=Pf();return new Promise((m,_)=>{const v=new t_;v.setWithCredentials(!0),v.listenOnce(e_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Do.NO_ERROR:const w=v.getResponseJson();nt(je,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Do.TIMEOUT:nt(je,`RPC '${e}' ${f} timed out`),_(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:const x=v.getStatus();if(nt(je,`RPC '${e}' ${f} failed with status:`,x,"response text:",v.getResponseText()),x>0){let k=v.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k==null?void 0:k.error;if(G&&G.status&&G.message){const J=function($){const bt=$.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(bt)>=0?bt:X.UNKNOWN}(G.status);_(new ot(J,G.message))}else _(new ot(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ot(X.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{nt(je,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);nt(je,`RPC '${e}' ${f} sending request:`,o),v.send(i,"POST",E,a,15)})}Wo(e,i,a){const o=Pf(),f=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=r_(),_=i_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const w=f.join("");nt(je,`Creating RPC '${e}' stream ${o}: ${w}`,v);const x=m.createWebChannel(w,v);let k=!1,G=!1;const J=new PS({Fo:$=>{G?nt(je,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(k||(nt(je,`Opening RPC '${e}' stream ${o} transport.`),x.open(),k=!0),nt(je,`RPC '${e}' stream ${o} sending:`,$),x.send($))},Mo:()=>x.close()}),it=($,bt,mt)=>{$.listen(bt,Tt=>{try{mt(Tt)}catch(Ft){setTimeout(()=>{throw Ft},0)}})};return it(x,Ml.EventType.OPEN,()=>{G||(nt(je,`RPC '${e}' stream ${o} transport opened.`),J.Qo())}),it(x,Ml.EventType.CLOSE,()=>{G||(G=!0,nt(je,`RPC '${e}' stream ${o} transport closed`),J.Ko())}),it(x,Ml.EventType.ERROR,$=>{G||(G=!0,fs(je,`RPC '${e}' stream ${o} transport errored:`,$),J.Ko(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),it(x,Ml.EventType.MESSAGE,$=>{var bt;if(!G){const mt=$.data[0];Ht(!!mt);const Tt=mt,Ft=(Tt==null?void 0:Tt.error)||((bt=Tt[0])===null||bt===void 0?void 0:bt.error);if(Ft){nt(je,`RPC '${e}' stream ${o} received error:`,Ft);const _t=Ft.status;let xt=function(S){const C=me[S];if(C!==void 0)return L_(C)}(_t),N=Ft.message;xt===void 0&&(xt=X.INTERNAL,N="Unknown error status: "+_t+" with message "+Ft.message),G=!0,J.Ko(new ot(xt,N)),x.close()}else nt(je,`RPC '${e}' stream ${o} received:`,mt),J.Uo(mt)}}),it(_,n_.STAT_EVENT,$=>{$.stat===Cf.PROXY?nt(je,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Cf.NOPROXY&&nt(je,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.$o()},0),J}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s){return new GA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,i,a=1e3,o=1.5,f=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=f,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="PersistentStream";class J_{constructor(e,i,a,o,f,m,_,v){this.Ti=e,this.n_=a,this.r_=o,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(wy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(wy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qS extends J_{constructor(e,i,a,o,f,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,m),this.serializer=f}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=KA(this.serializer,e),a=function(f){if(!("targetChange"in f))return gt.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?gt.min():m.readTime?ti(m.readTime):gt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Lf(this.serializer),i.addTarget=function(f,m){let _;const v=m.target;if(_=If(v)?{documents:ZA(f,v)}:{query:$A(f,v).ht},_.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){_.resumeToken=k_(f,m.resumeToken);const E=Uf(f,m.expectedCount);E!==null&&(_.expectedCount=E)}else if(m.snapshotVersion.compareTo(gt.min())>0){_.readTime=qo(f,m.snapshotVersion.toTimestamp());const E=Uf(f,m.expectedCount);E!==null&&(_.expectedCount=E)}return _}(this.serializer,e);const a=WA(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Lf(this.serializer),i.removeTarget=e,this.I_(i)}}class HS extends J_{constructor(e,i,a,o,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,m),this.serializer=f}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=XA(e.writeResults,e.commitTime),a=ti(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Lf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>YA(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class GS extends jS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.So(e,xf(i,a),o,f,m)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(X.UNKNOWN,f.toString())})}Co(e,i,a,o,f){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,_])=>this.connection.Co(e,xf(i,a),o,m,_,f)).catch(m=>{throw m.name==="FirebaseError"?(m.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ot(X.UNKNOWN,m.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class FS{constructor(e,i,a,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=f,this.z_.To(m=>{a.enqueueAndForget(async()=>{ma(this)&&(nt(ha,"Restarting streams for network reachability change."),await async function(v){const E=yt(v);E.W_.add(4),await Zl(E),E.j_.set("Unknown"),E.W_.delete(4),await ic(E)}(this))})}),this.j_=new QS(a,o)}}async function ic(s){if(ma(s))for(const e of s.G_)await e(!0)}async function Zl(s){for(const e of s.G_)await e(!1)}function W_(s,e){const i=yt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),cd(i)?od(i):Ss(i).c_()&&ud(i,e))}function ld(s,e){const i=yt(s),a=Ss(i);i.U_.delete(e),a.c_()&&tv(i,e),i.U_.size===0&&(a.c_()?a.P_():ma(i)&&i.j_.set("Unknown"))}function ud(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ss(s).y_(e)}function tv(s,e){s.H_.Ne(e),Ss(s).w_(e)}function od(s){s.H_=new kA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ss(s).start(),s.j_.B_()}function cd(s){return ma(s)&&!Ss(s).u_()&&s.U_.size>0}function ma(s){return yt(s).W_.size===0}function ev(s){s.H_=void 0}async function KS(s){s.j_.set("Online")}async function YS(s){s.U_.forEach((e,i)=>{ud(s,e)})}async function XS(s,e){ev(s),cd(s)?(s.j_.q_(e),od(s)):s.j_.set("Unknown")}async function ZS(s,e,i){if(s.j_.set("Online"),e instanceof P_&&e.state===2&&e.cause)try{await async function(o,f){const m=f.cause;for(const _ of f.targetIds)o.U_.has(_)&&(await o.remoteSyncer.rejectListen(_,m),o.U_.delete(_),o.H_.removeTarget(_))}(s,e)}catch(a){nt(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jo(s,a)}else if(e instanceof Mo?s.H_.We(e):e instanceof B_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(gt.min()))try{const a=await Z_(s.localStore);i.compareTo(a)>=0&&await function(f,m){const _=f.H_.ot(m);return _.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const w=f.U_.get(E);w&&f.U_.set(E,w.withResumeToken(v.resumeToken,m))}}),_.targetMismatches.forEach((v,E)=>{const w=f.U_.get(v);if(!w)return;f.U_.set(v,w.withResumeToken(Pe.EMPTY_BYTE_STRING,w.snapshotVersion)),tv(f,v);const x=new yr(w.target,v,E,w.sequenceNumber);ud(f,x)}),f.remoteSyncer.applyRemoteEvent(_)}(s,i)}catch(a){nt(ha,"Failed to raise snapshot:",a),await jo(s,a)}}async function jo(s,e,i){if(!As(e))throw e;s.W_.add(1),await Zl(s),s.j_.set("Offline"),i||(i=()=>Z_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(ha,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await ic(s)})}function nv(s,e){return e().catch(i=>jo(s,i,e))}async function rc(s){const e=yt(s),i=wr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Kf;for(;$S(e);)try{const o=await IS(e.localStore,a);if(o===null){e.K_.length===0&&i.P_();break}a=o.batchId,JS(e,o)}catch(o){await jo(e,o)}iv(e)&&rv(e)}function $S(s){return ma(s)&&s.K_.length<10}function JS(s,e){s.K_.push(e);const i=wr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function iv(s){return ma(s)&&!wr(s).u_()&&s.K_.length>0}function rv(s){wr(s).start()}async function WS(s){wr(s).C_()}async function t1(s){const e=wr(s);for(const i of s.K_)e.b_(i.mutations)}async function e1(s,e,i){const a=s.K_.shift(),o=td.from(a,e,i);await nv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await rc(s)}async function n1(s,e){e&&wr(s).S_&&await async function(a,o){if(function(m){return LA(m)&&m!==X.ABORTED}(o.code)){const f=a.K_.shift();wr(a).h_(),await nv(a,()=>a.remoteSyncer.rejectFailedWrite(f.batchId,o)),await rc(a)}}(s,e),iv(s)&&rv(s)}async function Dy(s,e){const i=yt(s);i.asyncQueue.verifyOperationInProgress(),nt(ha,"RemoteStore received new credentials");const a=ma(i);i.W_.add(3),await Zl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await ic(i)}async function i1(s,e){const i=yt(s);e?(i.W_.delete(2),await ic(i)):e||(i.W_.add(2),await Zl(i),i.j_.set("Unknown"))}function Ss(s){return s.J_||(s.J_=function(i,a,o){const f=yt(i);return f.M_(),new qS(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(s.datastore,s.asyncQueue,{xo:KS.bind(null,s),No:YS.bind(null,s),Lo:XS.bind(null,s),p_:ZS.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),cd(s)?od(s):s.j_.set("Unknown")):(await s.J_.stop(),ev(s))})),s.J_}function wr(s){return s.Y_||(s.Y_=function(i,a,o){const f=yt(i);return f.M_(),new HS(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:WS.bind(null,s),Lo:n1.bind(null,s),D_:t1.bind(null,s),v_:e1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await rc(s)):(await s.Y_.stop(),s.K_.length>0&&(nt(ha,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,i,a,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=f,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,f){const m=Date.now()+a,_=new hd(e,i,m,o,f);return _.start(a),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),As(s))return new ot(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{static emptySet(e){return new hs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Il(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof hs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=a.getNext().key;if(!o.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new hs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.Z_=new Wt(ct.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):dt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ys{constructor(e,i,a,o,f,m,_,v,E){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,i,a,o,f){const m=[];return i.forEach(_=>{m.push({type:0,doc:_})}),new ys(e,i,hs.emptySet(i),m,a,o,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class a1{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=yt(i),f=o.queries;o.queries=Vy(),f.forEach((m,_)=>{for(const v of _.ta)v.onError(a)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function Vy(){return new fa(s=>S_(s),Zo)}async function s1(s,e){const i=yt(s);let a=3;const o=e.query;let f=i.queries.get(o);f?!f.na()&&e.ra()&&(a=2):(f=new r1,a=e.ra()?0:1);try{switch(a){case 0:f.ea=await i.onListen(o,!0);break;case 1:f.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const _=fd(m,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(_)}i.queries.set(o,f),f.ta.push(e),e.sa(i.onlineState),f.ea&&e.oa(f.ea)&&dd(i)}async function l1(s,e){const i=yt(s),a=e.query;let o=3;const f=i.queries.get(a);if(f){const m=f.ta.indexOf(e);m>=0&&(f.ta.splice(m,1),f.ta.length===0?o=e.ra()?0:1:!f.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function u1(s,e){const i=yt(s);let a=!1;for(const o of e){const f=o.query,m=i.queries.get(f);if(m){for(const _ of m.ta)_.oa(o)&&(a=!0);m.ea=o}}a&&dd(i)}function o1(s,e,i){const a=yt(s),o=a.queries.get(e);if(o)for(const f of o.ta)f.onError(i);a.queries.delete(e)}function dd(s){s.ia.forEach(e=>{e.next()})}var kf,Oy;(Oy=kf||(kf={}))._a="default",Oy.Cache="cache";class c1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ys(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.key=e}}class sv{constructor(e){this.key=e}}class h1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=b_(e),this.wa=new hs(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Cy,o=i?i.wa:this.wa;let f=i?i.mutatedKeys:this.mutatedKeys,m=o,_=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,x)=>{const k=o.get(w),G=$o(this.query,x)?x:null,J=!!k&&this.mutatedKeys.has(k.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;k&&G?k.data.isEqual(G.data)?J!==it&&(a.track({type:3,doc:G}),$=!0):this.va(k,G)||(a.track({type:2,doc:G}),$=!0,(v&&this.ya(G,v)>0||E&&this.ya(G,E)<0)&&(_=!0)):!k&&G?(a.track({type:0,doc:G}),$=!0):k&&!G&&(a.track({type:1,doc:k}),$=!0,(v||E)&&(_=!0)),$&&(G?(m=m.add(G),f=it?f.add(w):f.delete(w)):(m=m.delete(w),f=f.delete(w)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const w=this.query.limitType==="F"?m.last():m.first();m=m.delete(w.key),f=f.delete(w.key),a.track({type:1,doc:w})}return{wa:m,Da:a,ls:_,mutatedKeys:f}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const f=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const m=e.Da.X_();m.sort((w,x)=>function(G,J){const it=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return it(G)-it(J)}(w.type,x.type)||this.ya(w.doc,x.doc)),this.Ca(a),o=o!=null&&o;const _=i&&!o?this.Fa():[],v=this.pa.size===0&&this.current&&!o?1:0,E=v!==this.ga;return this.ga=v,m.length!==0||E?{snapshot:new ys(this.query,e.wa,f,m,e.mutatedKeys,v===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:_}:{Ma:_}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Cy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Dt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new sv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new av(a))}),i}Oa(e){this.fa=e.gs,this.pa=Dt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ys.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const md="SyncEngine";class f1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class d1{constructor(e){this.key=e,this.Ba=!1}}class m1{constructor(e,i,a,o,f,m){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.La={},this.ka=new fa(_=>S_(_),Zo),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(ct.comparator),this.Ka=new Map,this.Ua=new id,this.Wa={},this.Ga=new Map,this.za=ps.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g1(s,e,i=!0){const a=fv(s);let o;const f=a.ka.get(e);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),o=f.view.Na()):o=await lv(a,e,i,!0),o}async function p1(s,e){const i=fv(s);await lv(i,e,!0,!1)}async function lv(s,e,i,a){const o=await NS(s.localStore,Wn(e)),f=o.targetId,m=s.sharedClientState.addLocalQueryTarget(f,i);let _;return a&&(_=await y1(s,e,f,m==="current",o.resumeToken)),s.isPrimaryClient&&i&&W_(s.remoteStore,o),_}async function y1(s,e,i,a,o){s.Ha=(x,k,G)=>async function(it,$,bt,mt){let Tt=$.view.ba(bt);Tt.ls&&(Tt=await Ay(it.localStore,$.query,!1).then(({documents:N})=>$.view.ba(N,Tt)));const Ft=mt&&mt.targetChanges.get($.targetId),_t=mt&&mt.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(Tt,it.isPrimaryClient,Ft,_t);return Iy(it,$.targetId,xt.Ma),xt.snapshot}(s,x,k,G);const f=await Ay(s.localStore,e,!0),m=new h1(e,f.gs),_=m.ba(f.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),E=m.applyChanges(_,s.isPrimaryClient,v);Iy(s,i,E.Ma);const w=new f1(e,i,m);return s.ka.set(e,w),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),E.snapshot}async function _1(s,e,i){const a=yt(s),o=a.ka.get(e),f=a.qa.get(o.targetId);if(f.length>1)return a.qa.set(o.targetId,f.filter(m=>!Zo(m,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Bf(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ld(a.remoteStore,o.targetId),qf(a,o.targetId)}).catch(Ts)):(qf(a,o.targetId),await Bf(a.localStore,o.targetId,!0))}async function v1(s,e){const i=yt(s),a=i.ka.get(e),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ld(i.remoteStore,a.targetId))}async function E1(s,e,i){const a=D1(s);try{const o=await function(m,_){const v=yt(m),E=Se.now(),w=_.reduce((G,J)=>G.add(J.key),Dt());let x,k;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let J=Ni(),it=Dt();return v.ds.getEntries(G,w).next($=>{J=$,J.forEach((bt,mt)=>{mt.isValidDocument()||(it=it.add(bt))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,J)).next($=>{x=$;const bt=[];for(const mt of _){const Tt=IA(mt,x.get(mt.key).overlayedDocument);Tt!=null&&bt.push(new da(mt.key,Tt,p_(Tt.value.mapValue),Oi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,E,bt,_)}).next($=>{k=$;const bt=$.applyToLocalDocumentSet(x,it);return v.documentOverlayCache.saveOverlays(G,$.batchId,bt)})}).then(()=>({batchId:k.batchId,changes:w_(x)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(m,_,v){let E=m.Wa[m.currentUser.toKey()];E||(E=new Wt(Vt)),E=E.insert(_,v),m.Wa[m.currentUser.toKey()]=E}(a,o.batchId,i),await $l(a,o.changes),await rc(a.remoteStore)}catch(o){const f=fd(o,"Failed to persist write");i.reject(f)}}async function uv(s,e){const i=yt(s);try{const a=await OS(i.localStore,e);e.targetChanges.forEach((o,f)=>{const m=i.Ka.get(f);m&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?m.Ba=!0:o.modifiedDocuments.size>0?Ht(m.Ba):o.removedDocuments.size>0&&(Ht(m.Ba),m.Ba=!1))}),await $l(i,a,e)}catch(a){await Ts(a)}}function My(s,e,i){const a=yt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((f,m)=>{const _=m.view.sa(e);_.snapshot&&o.push(_.snapshot)}),function(m,_){const v=yt(m);v.onlineState=_;let E=!1;v.queries.forEach((w,x)=>{for(const k of x.ta)k.sa(_)&&(E=!0)}),E&&dd(v)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function T1(s,e,i){const a=yt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Ka.get(e),f=o&&o.key;if(f){let m=new Wt(ct.comparator);m=m.insert(f,Qe.newNoDocument(f,gt.min()));const _=Dt().add(f),v=new ec(gt.min(),new Map,new Wt(Vt),m,_);await uv(a,v),a.$a=a.$a.remove(f),a.Ka.delete(e),gd(a)}else await Bf(a.localStore,e,!1).then(()=>qf(a,e,i)).catch(Ts)}async function A1(s,e){const i=yt(s),a=e.batch.batchId;try{const o=await VS(i.localStore,e);cv(i,a,null),ov(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,o)}catch(o){await Ts(o)}}async function S1(s,e,i){const a=yt(s);try{const o=await function(m,_){const v=yt(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let w;return v.mutationQueue.lookupMutationBatch(E,_).next(x=>(Ht(x!==null),w=x.keys(),v.mutationQueue.removeMutationBatch(E,x))).next(()=>v.mutationQueue.performConsistencyCheck(E)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(E,w,_)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,w)).next(()=>v.localDocuments.getDocuments(E,w))})}(a.localStore,e);cv(a,e,i),ov(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,o)}catch(o){await Ts(o)}}function ov(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function cv(s,e,i){const a=yt(s);let o=a.Wa[a.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function qf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.br(e).forEach(a=>{s.Ua.containsKey(a)||hv(s,a)})}function hv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(ld(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),gd(s))}function Iy(s,e,i){for(const a of i)a instanceof av?(s.Ua.addReference(a.key,e),b1(s,a)):a instanceof sv?(nt(md,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||hv(s,a.key)):dt()}function b1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(md,"New document in limbo: "+i),s.Qa.add(a),gd(s))}function gd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ct(ae.fromString(e)),a=s.za.next();s.Ka.set(a,new d1(i)),s.$a=s.$a.insert(i,a),W_(s.remoteStore,new yr(Wn(Jf(i.path)),a,"TargetPurposeLimboResolution",Fo.ae))}}async function $l(s,e,i){const a=yt(s),o=[],f=[],m=[];a.ka.isEmpty()||(a.ka.forEach((_,v)=>{m.push(a.Ha(v,e,i).then(E=>{var w;if((E||i)&&a.isPrimaryClient){const x=E?!E.fromCache:(w=i==null?void 0:i.targetChanges.get(v.targetId))===null||w===void 0?void 0:w.current;a.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(E){o.push(E);const x=ad.Yi(v.targetId,E);f.push(x)}}))}),await Promise.all(m),a.La.p_(o),await async function(v,E){const w=yt(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>F.forEach(E,k=>F.forEach(k.Hi,G=>w.persistence.referenceDelegate.addReference(x,k.targetId,G)).next(()=>F.forEach(k.Ji,G=>w.persistence.referenceDelegate.removeReference(x,k.targetId,G)))))}catch(x){if(!As(x))throw x;nt(sd,"Failed to update sequence numbers: "+x)}for(const x of E){const k=x.targetId;if(!x.fromCache){const G=w.Ts.get(k),J=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(J);w.Ts=w.Ts.insert(k,it)}}}(a.localStore,f))}async function R1(s,e){const i=yt(s);if(!i.currentUser.isEqual(e)){nt(md,"User change. New user:",e.toKey());const a=await X_(i.localStore,e);i.currentUser=e,function(f,m){f.Ga.forEach(_=>{_.forEach(v=>{v.reject(new ot(X.CANCELLED,m))})}),f.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Rs)}}function w1(s,e){const i=yt(s),a=i.Ka.get(e);if(a&&a.Ba)return Dt().add(a.key);{let o=Dt();const f=i.qa.get(e);if(!f)return o;for(const m of f){const _=i.ka.get(m);o=o.unionWith(_.view.Sa)}return o}}function fv(s){const e=yt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=uv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T1.bind(null,e),e.La.p_=u1.bind(null,e.eventManager),e.La.Ja=o1.bind(null,e.eventManager),e}function D1(s){const e=yt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S1.bind(null,e),e}class Go{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return CS(this.persistence,new RS,e.initialUser,this.serializer)}Xa(e){return new Y_(rd.ri,this.serializer)}Za(e){return new xS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Go.provider={build:()=>new Go};class C1 extends Go{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ht(this.persistence.referenceDelegate instanceof Ho);const a=this.persistence.referenceDelegate.garbageCollector;return new cS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Y_(a=>Ho.ri(a,i),this.serializer)}}class Hf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>My(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=R1.bind(null,this.syncEngine),await i1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a1}()}createDatastore(e){const i=nc(e.databaseInfo.databaseId),a=function(f){return new kS(f)}(e.databaseInfo);return function(f,m,_,v){return new GS(f,m,_,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,f,m,_){return new FS(a,o,f,m,_)}(this.localStore,this.datastore,e.asyncQueue,i=>My(this.syncEngine,i,0),function(){return Ry.D()?new Ry:new zS}())}createSyncEngine(e,i){return function(o,f,m,_,v,E,w){const x=new m1(o,f,m,_,v,E);return w&&(x.ja=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const f=yt(o);nt(ha,"RemoteStore shutting down."),f.W_.add(5),await Zl(f),f.z_.shutdown(),f.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Hf.provider={build:()=>new Hf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class O1{constructor(e,i,a,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ge.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,async m=>{nt(Dr,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(a,m=>(nt(Dr,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Tf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Dr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await X_(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Ny(s,e){s.asyncQueue.verifyOperationInProgress();const i=await M1(s);nt(Dr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Dy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>Dy(e.remoteStore,o)),s._onlineComponents=e}async function M1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Dr,"Using user provided OfflineComponentProvider");try{await Tf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;fs("Error using user provided cache. Falling back to memory cache: "+i),await Tf(s,new Go)}}else nt(Dr,"Using default OfflineComponentProvider"),await Tf(s,new C1(void 0));return s._offlineComponents}async function dv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Dr,"Using user provided OnlineComponentProvider"),await Ny(s,s._uninitializedComponentsProvider._online)):(nt(Dr,"Using default OnlineComponentProvider"),await Ny(s,new Hf))),s._onlineComponents}function I1(s){return dv(s).then(e=>e.syncEngine)}async function N1(s){const e=await dv(s),i=e.eventManager;return i.onListen=g1.bind(null,e.syncEngine),i.onUnlisten=_1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=p1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=v1.bind(null,e.syncEngine),i}function U1(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget(async()=>function(f,m,_,v,E){const w=new V1({next:k=>{w.su(),m.enqueueAndForget(()=>l1(f,x));const G=k.docs.has(_);!G&&k.fromCache?E.reject(new ot(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&k.fromCache&&v&&v.source==="server"?E.reject(new ot(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(k)},error:k=>E.reject(k)}),x=new c1(Jf(_.path),w,{includeMetadataChanges:!0,Ta:!0});return s1(f,x)}(await N1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s,e,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function z1(s,e,i,a){if(e===!0&&a===!0)throw new ot(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function xy(s){if(!ct.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function pd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt()}function Kl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pd(s);throw new ot(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="firestore.googleapis.com",zy=!0;class Ly{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gv,this.ssl=zy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:zy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uS)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ly({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ly(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new BT;switch(a.type){case"firstParty":return new HT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Uy.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Uy.delete(i),a.terminate())}(this),Promise.resolve()}}function L1(s,e,i,a={}){var o;const f=(s=Kl(s,yd))._getSettings(),m=`${e}:${i}`;if(f.host!==gv&&f.host!==m&&fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),a.mockUserToken){let _,v;if(typeof a.mockUserToken=="string")_=a.mockUserToken,v=Ge.MOCK_USER;else{_=gE(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ge(E)}s._authCredentials=new PT(new a_(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new _d(this.firestore,e,this._query)}}class Cn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Yl extends _d{constructor(e,i,a){super(e,i,Jf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ct(e))}withConverter(e){return new Yl(this.firestore,e,this._path)}}function B1(s,e,...i){if(s=oa(s),arguments.length===1&&(e=s_.newId()),x1("doc","path",e),s instanceof yd){const a=ae.fromString(e,...i);return xy(a),new Cn(s,null,new ct(a))}{if(!(s instanceof Cn||s instanceof Yl))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ae.fromString(e,...i));return xy(a),new Cn(s.firestore,s instanceof Yl?s.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="AsyncQueue";class Py{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $_(this,"async_queue_retry"),this.Su=()=>{const a=Ef();a&&nt(By,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Ef();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Ef();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!As(e))throw e;nt(By,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(m){let _=m.message||"";return m.stack&&(_=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),_}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=hd.createAndSchedule(this,e,i,a,f=>this.Fu(f));return this.fu.push(o),o}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class vd extends yd{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Py,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Py(e),this._firestoreClient=void 0,await e}}}function P1(s,e){const i=typeof s=="object"?s:RT(),a=typeof s=="string"?s:zo,o=ET(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const f=dE("firestore");f&&L1(o,...f)}return o}function pv(s){if(s._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||k1(s),s._firestoreClient}function k1(s){var e,i,a;const o=s._freezeSettings(),f=function(_,v,E,w){return new nA(_,v,E,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,mv(w.experimentalLongPollingOptions),w.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new O1(s._authCredentials,s._appCheckCredentials,s._queue,f,s._componentsProvider&&function(_){const v=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(Pe.fromBase64String(e))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new _s(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==o[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=/^__.*__$/;class yv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new da(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function _v(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class Ad{constructor(e,i,a,o,f,m){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,f===void 0&&this.Bu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(_v(this.Lu)&&q1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class H1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||nc(e)}ju(e,i,a,o=!1){return new Ad({Lu:e,methodName:i,zu:a,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j1(s){const e=s._freezeSettings(),i=nc(s._databaseId);return new H1(s._databaseId,!!e.ignoreUndefinedProperties,i)}class lc extends sc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lc}}class Sd extends sc{constructor(e,i){super(e),this.Ju=i}_toFieldTransform(e){const i=new Fl(e.serializer,V_(e.serializer,this.Ju));return new CA(e.path,i)}isEqual(e){return e instanceof Sd&&this.Ju===e.Ju}}function G1(s,e,i,a){const o=s.ju(1,e,i);Ev("Data must be an object, but it was:",o,a);const f=[],m=cn.empty();Cr(a,(v,E)=>{const w=bd(e,v,i);E=oa(E);const x=o.Ku(w);if(E instanceof lc)f.push(w);else{const k=uc(E,x);k!=null&&(f.push(w),m.set(w,k))}});const _=new xn(f);return new yv(m,_,o.fieldTransforms)}function Q1(s,e,i,a,o,f){const m=s.ju(1,e,i),_=[ky(e,a,i)],v=[o];if(f.length%2!=0)throw new ot(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<f.length;k+=2)_.push(ky(e,f[k])),v.push(f[k+1]);const E=[],w=cn.empty();for(let k=_.length-1;k>=0;--k)if(!Y1(E,_[k])){const G=_[k];let J=v[k];J=oa(J);const it=m.Ku(G);if(J instanceof lc)E.push(G);else{const $=uc(J,it);$!=null&&(E.push(G),w.set(G,$))}}const x=new xn(E);return new yv(w,x,m.fieldTransforms)}function uc(s,e){if(vv(s=oa(s)))return Ev("Unsupported field value:",e,s),F1(s,e);if(s instanceof sc)return function(a,o){if(!_v(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const f=[];let m=0;for(const _ of a){let v=uc(_,o.Uu(m));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),m++}return{arrayValue:{values:f}}}(s,e)}return function(a,o){if((a=oa(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return V_(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const f=Se.fromDate(a);return{timestampValue:qo(o.serializer,f)}}if(a instanceof Se){const f=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qo(o.serializer,f)}}if(a instanceof Ed)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof _s)return{bytesValue:k_(o.serializer,a._byteString)};if(a instanceof Cn){const f=o.databaseId,m=a.firestore._databaseId;if(!m.isEqual(f))throw o.Wu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:nd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Td)return function(m,_){return{mapValue:{fields:{[m_]:{stringValue:g_},[Lo]:{arrayValue:{values:m.toArray().map(E=>{if(typeof E!="number")throw _.Wu("VectorValues must only contain numeric values.");return Wf(_.serializer,E)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${pd(a)}`)}(s,e)}function F1(s,e){const i={};return u_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(s,(a,o)=>{const f=uc(o,e.qu(a));f!=null&&(i[a]=f)}),{mapValue:{fields:i}}}function vv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Ed||s instanceof _s||s instanceof Cn||s instanceof sc||s instanceof Td)}function Ev(s,e,i){if(!vv(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=pd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function ky(s,e,i){if((e=oa(e))instanceof ac)return e._internalPath;if(typeof e=="string")return bd(s,e);throw Qo("Field path arguments must be of type string or ",s,!1,void 0,i)}const K1=new RegExp("[~\\*/\\[\\]]");function bd(s,e,i){if(e.search(K1)>=0)throw Qo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ac(...e.split("."))._internalPath}catch{throw Qo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Qo(s,e,i,a,o){const f=a&&!a.isEmpty(),m=o!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(f||m)&&(v+=" (found",f&&(v+=` in field ${a}`),m&&(v+=` in document ${o}`),v+=")"),new ot(X.INVALID_ARGUMENT,_+s+v)}function Y1(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i,a,o,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Av("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class X1 extends Tv{data(){return super.data()}}function Av(s,e){return typeof e=="string"?bd(s,e):e instanceof ac?e._internalPath:e._delegate._internalPath}class Z1{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Cr(e,(o,f)=>{a[o]=this.convertValue(f,i)}),a}convertVectorValue(e){var i,a,o;const f=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[Lo].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(m=>ue(m.doubleValue));return new Td(f)}convertGeoPoint(e){return new Ed(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Yo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ae.fromString(e);Ht(F_(a));const o=new Hl(a.get(1),a.get(3)),f=new ct(a.popFirst(5));return o.isEqual(i)||Ii(`Document ${f} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sv extends Tv{constructor(e,i,a,o,f,m){super(e,i,a,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new J1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Av("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class J1 extends Sv{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(s){s=Kl(s,Cn);const e=Kl(s.firestore,vd);return U1(pv(e),s._key).then(i=>eb(e,s,i))}class W1 extends Z1{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,i)}}function Hy(s,e,i,...a){s=Kl(s,Cn);const o=Kl(s.firestore,vd),f=j1(o);let m;return m=typeof(e=oa(e))=="string"||e instanceof ac?Q1(f,"updateDoc",s._key,e,i,a):G1(f,"updateDoc",s._key,e),tb(o,[m.toMutation(s._key,Oi.exists(!0))])}function tb(s,e){return function(a,o){const f=new Tr;return a.asyncQueue.enqueueAndForget(async()=>E1(await I1(a),o,f)),f.promise}(pv(s),e)}function eb(s,e,i){const a=i.docs.get(e._key),o=new W1(s);return new Sv(s,o,e._key,a,new $1(i.hasPendingWrites,i.fromCache),e.converter)}function nb(s){return new Sd("increment",s)}(function(e,i=!0){(function(o){Es=o})(bT),Uo(new Bl("firestore",(a,{instanceIdentifier:o,options:f})=>{const m=a.getProvider("app").getImmediate(),_=new vd(new kT(a.getProvider("auth-internal")),new jT(m,a.getProvider("app-check-internal")),function(E,w){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(E.options.projectId,w)}(m,o),m);return f=Object.assign({useFetchStreams:i},f),_._setSettings(f),_},"PUBLIC").setMultipleInstances(!0)),cs(Kp,Yp,e),cs(Kp,Yp,"esm2017")})();const ib={apiKey:"AIzaSyBqftKj604Zx_-erVbJTIFXjwOVY5pPHYg",authDomain:"simpleincrement.firebaseapp.com",projectId:"simpleincrement",storageBucket:"simpleincrement.firebasestorage.app",messagingSenderId:"1011198077000",appId:"1:1011198077000:web:080529039f31d8f98c907d",measurementId:"G-59DM3GW27F"},rb=Zy(ib),ab=P1(rb),Ro=B1(ab,"global","counter");function sb(){const[s,e]=wo.useState(0),[i,a]=wo.useState(!0),o=async()=>{try{await Hy(Ro,{count:nb(1)});const m=await qy(Ro);e(m.data().count)}catch(m){console.error("Error incrementing count: ",m)}},f=async()=>{try{const m=await qy(Ro);m.exists()?(e(m.data().count),a(!1)):(await Hy(Ro,{count:0}),e(0),c,a(!1))}catch(m){console.error("Error getting count: ",m)}};return wo.useEffect(()=>{f()},[]),os.jsxs("div",{className:"App",children:[os.jsx("h1",{children:"Global Click Counter"}),os.jsx("h2",{children:i?"Loading...":s}),os.jsx("button",{onClick:o,children:"Click Me"})]})}iE.createRoot(document.getElementById("root")).render(os.jsx(wo.StrictMode,{children:os.jsx(sb,{})}));
