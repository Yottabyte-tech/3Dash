(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var sf={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function F0(){if(Rp)return Cl;Rp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Cl.Fragment=e,Cl.jsx=i,Cl.jsxs=i,Cl}var wp;function K0(){return wp||(wp=1,sf.exports=F0()),sf.exports}var us=K0(),lf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function Y0(){if(Dp)return vt;Dp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=U&&C[U]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(C,K,at){this.props=C,this.context=K,this.refs=nt,this.updater=at||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=Z.prototype;function dt(C,K,at){this.props=C,this.context=K,this.refs=nt,this.updater=at||j}var Et=dt.prototype=new St;Et.constructor=dt,$(Et,Z.prototype),Et.isPureReactComponent=!0;var Qt=Array.isArray,yt={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function I(C,K,at,W,tt,Tt){return at=Tt.ref,{$$typeof:s,type:C,key:K,ref:at!==void 0?at:null,props:Tt}}function b(C,K){return I(C.type,K,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(at){return K[at]})}var M=/\/+/g;function z(C,K){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):K.toString(36)}function w(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ue(C,K,at,W,tt){var Tt=typeof C;(Tt==="undefined"||Tt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Tt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case e:_t=!0;break;case R:return _t=C._init,ue(_t(C._payload),K,at,W,tt)}}if(_t)return tt=tt(C),_t=W===""?"."+z(C,0):W,Qt(tt)?(at="",_t!=null&&(at=_t.replace(M,"$&/")+"/"),ue(tt,K,at,"",function(Wt){return Wt})):tt!=null&&(A(tt)&&(tt=b(tt,at+(tt.key==null||C&&C.key===tt.key?"":(""+tt.key).replace(M,"$&/")+"/")+_t)),K.push(tt)),1;_t=0;var oe=W===""?".":W+":";if(Qt(C))for(var xt=0;xt<C.length;xt++)W=C[xt],Tt=oe+z(W,xt),_t+=ue(W,K,at,Tt,tt);else if(xt=P(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(W=C.next()).done;)W=W.value,Tt=oe+z(W,xt++),_t+=ue(W,K,at,Tt,tt);else if(Tt==="object"){if(typeof C.then=="function")return ue(me(C),K,at,W,tt);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function J(C,K,at){if(C==null)return C;var W=[],tt=0;return ue(C,W,"","",function(Tt){return K.call(at,Tt,tt++)}),W}function ht(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(at){(C._status===0||C._status===-1)&&(C._status=1,C._result=at)},function(at){(C._status===0||C._status===-1)&&(C._status=2,C._result=at)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return vt.Children={map:J,forEach:function(C,K,at){J(C,function(){K.apply(this,arguments)},at)},count:function(C){var K=0;return J(C,function(){K++}),K},toArray:function(C){return J(C,function(K){return K})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},vt.Component=Z,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=dt,vt.StrictMode=a,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(C){return function(){return C.apply(null,arguments)}},vt.cloneElement=function(C,K,at){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),tt=C.key,Tt=void 0;if(K!=null)for(_t in K.ref!==void 0&&(Tt=void 0),K.key!==void 0&&(tt=""+K.key),K)!Ut.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||(W[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)W.children=at;else if(1<_t){for(var oe=Array(_t),xt=0;xt<_t;xt++)oe[xt]=arguments[xt+2];W.children=oe}return I(C.type,tt,void 0,void 0,Tt,W)},vt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},vt.createElement=function(C,K,at){var W,tt={},Tt=null;if(K!=null)for(W in K.key!==void 0&&(Tt=""+K.key),K)Ut.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=K[W]);var _t=arguments.length-2;if(_t===1)tt.children=at;else if(1<_t){for(var oe=Array(_t),xt=0;xt<_t;xt++)oe[xt]=arguments[xt+2];tt.children=oe}if(C&&C.defaultProps)for(W in _t=C.defaultProps,_t)tt[W]===void 0&&(tt[W]=_t[W]);return I(C,Tt,void 0,void 0,null,tt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(C){return{$$typeof:y,render:C}},vt.isValidElement=A,vt.lazy=function(C){return{$$typeof:R,_payload:{_status:-1,_result:C},_init:ht}},vt.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},vt.startTransition=function(C){var K=yt.T,at={};yt.T=at;try{var W=C(),tt=yt.S;tt!==null&&tt(at,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,lt)}catch(Tt){lt(Tt)}finally{yt.T=K}},vt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},vt.use=function(C){return yt.H.use(C)},vt.useActionState=function(C,K,at){return yt.H.useActionState(C,K,at)},vt.useCallback=function(C,K){return yt.H.useCallback(C,K)},vt.useContext=function(C){return yt.H.useContext(C)},vt.useDebugValue=function(){},vt.useDeferredValue=function(C,K){return yt.H.useDeferredValue(C,K)},vt.useEffect=function(C,K){return yt.H.useEffect(C,K)},vt.useId=function(){return yt.H.useId()},vt.useImperativeHandle=function(C,K,at){return yt.H.useImperativeHandle(C,K,at)},vt.useInsertionEffect=function(C,K){return yt.H.useInsertionEffect(C,K)},vt.useLayoutEffect=function(C,K){return yt.H.useLayoutEffect(C,K)},vt.useMemo=function(C,K){return yt.H.useMemo(C,K)},vt.useOptimistic=function(C,K){return yt.H.useOptimistic(C,K)},vt.useReducer=function(C,K,at){return yt.H.useReducer(C,K,at)},vt.useRef=function(C){return yt.H.useRef(C)},vt.useState=function(C){return yt.H.useState(C)},vt.useSyncExternalStore=function(C,K,at){return yt.H.useSyncExternalStore(C,K,at)},vt.useTransition=function(){return yt.H.useTransition()},vt.version="19.0.0",vt}var Cp;function Hf(){return Cp||(Cp=1,lf.exports=Y0()),lf.exports}var bo=Hf(),uf={exports:{}},Vl={},of={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function X0(){return Vp||(Vp=1,function(s){function e(J,ht){var lt=J.length;J.push(ht);t:for(;0<lt;){var Pt=lt-1>>>1,C=J[Pt];if(0<o(C,ht))J[Pt]=ht,J[lt]=C,lt=Pt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ht=J[0],lt=J.pop();if(lt!==ht){J[0]=lt;t:for(var Pt=0,C=J.length,K=C>>>1;Pt<K;){var at=2*(Pt+1)-1,W=J[at],tt=at+1,Tt=J[tt];if(0>o(W,lt))tt<C&&0>o(Tt,W)?(J[Pt]=Tt,J[tt]=lt,Pt=tt):(J[Pt]=W,J[at]=lt,Pt=at);else if(tt<C&&0>o(Tt,lt))J[Pt]=Tt,J[tt]=lt,Pt=tt;else break t}}return ht}function o(J,ht){var lt=J.sortIndex-ht.sortIndex;return lt!==0?lt:J.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var _=[],v=[],R=1,U=null,P=3,j=!1,$=!1,nt=!1,Z=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Et(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=J)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Qt(J){if(nt=!1,Et(J),!$)if(i(_)!==null)$=!0,me();else{var ht=i(v);ht!==null&&ue(Qt,ht.startTime-J)}}var yt=!1,Ut=-1,I=5,b=-1;function A(){return!(s.unstable_now()-b<I)}function D(){if(yt){var J=s.unstable_now();b=J;var ht=!0;try{t:{$=!1,nt&&(nt=!1,St(Ut),Ut=-1),j=!0;var lt=P;try{e:{for(Et(J),U=i(_);U!==null&&!(U.expirationTime>J&&A());){var Pt=U.callback;if(typeof Pt=="function"){U.callback=null,P=U.priorityLevel;var C=Pt(U.expirationTime<=J);if(J=s.unstable_now(),typeof C=="function"){U.callback=C,Et(J),ht=!0;break e}U===i(_)&&a(_),Et(J)}else a(_);U=i(_)}if(U!==null)ht=!0;else{var K=i(v);K!==null&&ue(Qt,K.startTime-J),ht=!1}}break t}finally{U=null,P=lt,j=!1}ht=void 0}}finally{ht?M():yt=!1}}}var M;if(typeof dt=="function")M=function(){dt(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=D,M=function(){w.postMessage(null)}}else M=function(){Z(D,0)};function me(){yt||(yt=!0,M())}function ue(J,ht){Ut=Z(function(){J(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){$||j||($=!0,me())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(P){case 1:case 2:case 3:var ht=3;break;default:ht=P}var lt=P;P=ht;try{return J()}finally{P=lt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=P;P=J;try{return ht()}finally{P=lt}},s.unstable_scheduleCallback=function(J,ht,lt){var Pt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,J={id:R++,callback:ht,priorityLevel:J,startTime:lt,expirationTime:C,sortIndex:-1},lt>Pt?(J.sortIndex=lt,e(v,J),i(_)===null&&J===i(v)&&(nt?(St(Ut),Ut=-1):nt=!0,ue(Qt,lt-Pt))):(J.sortIndex=C,e(_,J),$||j||($=!0,me())),J},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(J){var ht=P;return function(){var lt=P;P=ht;try{return J.apply(this,arguments)}finally{P=lt}}}}(cf)),cf}var Op;function Z0(){return Op||(Op=1,of.exports=X0()),of.exports}var hf={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function $0(){if(Mp)return qe;Mp=1;var s=Hf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,R){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:U==null?null:""+U,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qe.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},qe.flushSync=function(_){var v=d.T,R=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=R,a.d.f()}},qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,U=y(R,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:U,integrity:P,fetchPriority:j}):R==="script"&&a.d.X(_,{crossOrigin:U,integrity:P,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=y(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,U=y(R,v.crossOrigin);a.d.L(_,R,{crossOrigin:U,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=y(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},qe.requestFormReset=function(_){a.d.r(_)},qe.unstable_batchedUpdates=function(_,v){return _(v)},qe.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.0.0",qe}var Ip;function J0(){if(Ip)return hf.exports;Ip=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hf.exports=$0(),hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function W0(){if(Np)return Vl;Np=1;var s=Z0(),e=Hf(),i=J0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Qt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case y:return"Portal";case R:return"Profiler";case v:return"StrictMode";case nt:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,z;function w(t){if(M===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",z=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+z}var me=!1;function ue(t,n){if(!t||me)return"";me=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var S=p.split(`
`),O=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===O.length)for(l=S.length-1,c=O.length-1;1<=l&&0<=c&&S[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==O[c]){var H=`
`+S[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{me=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function lt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(lt(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=lt(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function at(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=at(t),n!==null)return n;t=t.sibling}return null}var W=Array.isArray,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},_t=[],oe=-1;function xt(t){return{current:t}}function Wt(t){0>oe||(t.current=_t[oe],_t[oe]=null,oe--)}function Ht(t,n){oe++,_t[oe]=t.current,t.current=n}var Qe=xt(null),ni=xt(null),cn=xt(null),Ni=xt(null);function Ui(t,n){switch(Ht(cn,n),Ht(ni,t),Ht(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?tp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=tp(t),n=ep(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Wt(Qe),Ht(Qe,n)}function ii(){Wt(Qe),Wt(ni),Wt(cn)}function Ss(t){t.memoizedState!==null&&Ht(Ni,t);var n=Qe.current,r=ep(n,t.type);n!==r&&(Ht(ni,t),Ht(Qe,r))}function ma(t){ni.current===t&&(Wt(Qe),Wt(ni)),Ni.current===t&&(Wt(Ni),Sl._currentValue=Tt)}var ga=Object.prototype.hasOwnProperty,Cr=s.unstable_scheduleCallback,pa=s.unstable_cancelCallback,lc=s.unstable_shouldYield,bs=s.unstable_requestPaint,$e=s.unstable_now,$l=s.unstable_getCurrentPriorityLevel,ge=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,ri=s.unstable_NormalPriority,Jl=s.unstable_LowPriority,Rs=s.unstable_IdlePriority,uc=s.log,Vr=s.unstable_setDisableYieldValue,xi=null,Pe=null;function ws(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}function xn(t){if(typeof uc=="function"&&Vr(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(xi,t)}catch{}}var Fe=Math.clz32?Math.clz32:tu,Ds=Math.log,Wl=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(Ds(t)/Wl|0)|0}var zn=128,zi=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,p=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Cn(r):(f&=E,f!==0?l=Cn(f):t||(p=E&~p,p!==0&&(l=Cn(p))))):(E=r&~c,E!==0?l=Cn(E):f!==0?l=Cn(f):t||(p=r&~p,p!==0&&(l=Cn(p)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,p=n&-n,c>=p||c===32&&(p&4194176)!==0)?n:l}function Li(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ya(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var t=zn;return zn<<=1,!(zn&4194176)&&(zn=128),t}function Bi(){var t=zi;return zi<<=1,!(zi&62914560)&&(zi=4194304),t}function _a(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eu(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,O=t.hiddenUpdates;for(r=p&~r;0<r;){var H=31-Fe(r),F=1<<H;E[H]=0,S[H]=-1;var B=O[H];if(B!==null)for(O[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Pi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Pi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function ki(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Fe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function nu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function iu(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:vp(t.type))}function qi(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Ln=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ln,pe="__reactProps$"+Ln,ai="__reactContainer$"+Ln,Or="__reactEvents$"+Ln,va="__reactListeners$"+Ln,Bn="__reactHandles$"+Ln,Vs="__reactResources$"+Ln,Hi="__reactMarker$"+Ln;function Mr(t){delete t[Re],delete t[pe],delete t[Or],delete t[va],delete t[Bn]}function Vn(t){var n=t[Re];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ai]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=rp(t);t!==null;){if(r=t[Re])return r;t=rp(t)}return n}t=r,r=t.parentNode}return null}function si(t){if(t=t[Re]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ji(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Gi(t){var n=t[Vs];return n||(n=t[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Xt(t){t[Hi]=!0}var Os=new Set,Ea={};function en(t,n){Je(t,n),Je(t+"Capture",n)}function Je(t,n){for(Ea[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},Is={};function ru(t){return ga.call(Is,t)?!0:ga.call(Ms,t)?!1:oc.test(t)?Is[t]=!0:(Ms[t]=!0,!1)}function Qi(t,n,r){if(ru(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Fi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function fn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function au(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cc(t){var n=au(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ir(t){t._valueTracker||(t._valueTracker=cc(t))}function Ns(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=au(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var li=/[\n"\\]/g;function te(t){return t.replace(li,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ki(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Aa(t,p,Ke(n)):r!=null?Aa(t,p,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Nr(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Aa(t,n,r){n==="number"&&Ta(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ur(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Yi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(W(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Us(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||hc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function su(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Us(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Us(t,f,n[f])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(t){return dc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mn=null;function Sa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,oi=null;function ci(t){var n=si(t);if(n&&(t=n.stateNode)){var r=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ki(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+te(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[pe]||null;if(!c)throw Error(a(90));Ki(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ns(l)}break t;case"textarea":Ur(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var zs=!1;function lu(t,n,r){if(zs)return t(n,r);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,(ui!==null||oi!==null)&&(Ju(),ui&&(n=ui,t=oi,oi=ui=null,ci(n),t)))for(n=0;n<t.length;n++)ci(t[n])}}function xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[pe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var gn=!1;if(nn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){gn=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{gn=!1}var kn=null,Xi=null,hi=null;function Ls(){if(hi)return hi;var t,n=Xi,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return hi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Bs(){return!1}function we(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Bs,this.isPropagationStopped=Bs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=we(kt),Lr=D({},kt,{view:0,detail:0}),uu=we(Lr),Ra,wa,jn,Br=D({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Ra=t.screenX-jn.screenX,wa=t.screenY-jn.screenY):wa=Ra=0,jn=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),pn=we(Br),ou=D({},Br,{dataTransfer:0}),mc=we(ou),Pr=D({},Lr,{relatedTarget:0}),Da=we(Pr),Ps=D({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=we(Ps),cu=D({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=we(cu),gc=D({},kt,{data:0}),ks=we(gc),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fu[t])?!!n[t]:!1}function qr(){return qs}var du=D({},Lr,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=we(du),mu=D({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=we(mu),fi=D({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),gu=we(fi),pu=D({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=we(pu),_u=D({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=we(_u),Ye=D({},kt,{newState:0,oldState:0}),vu=we(Ye),Eu=[9,13,27,32],Gn=nn&&"CompositionEvent"in window,u=null;nn&&"documentMode"in document&&(u=document.documentMode);var m=nn&&"TextEvent"in window&&!u,g=nn&&(!Gn||u&&8<u&&11>=u),T=" ",x=!1;function k(t,n){switch(t){case"keyup":return Eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ye(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Ot(t,n){if(Vt)return t==="compositionend"||!Gn&&k(t,n)?(t=Ls(),hi=Xi=kn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function di(t,n,r,l){ui?oi?oi.push(l):oi=[l]:ui=l,n=io(n,"onChange"),0<n.length&&(r=new ba("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ie=null,Qn=null;function js(t){Xg(t,0)}function Tu(t){var n=ji(t);if(Ns(n))return t}function bd(t,n){if(t==="change")return n}var Rd=!1;if(nn){var pc;if(nn){var yc="oninput"in document;if(!yc){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),yc=typeof wd.oninput=="function"}pc=yc}else pc=!1;Rd=pc&&(!document.documentMode||9<document.documentMode)}function Dd(){Ie&&(Ie.detachEvent("onpropertychange",Cd),Qn=Ie=null)}function Cd(t){if(t.propertyName==="value"&&Tu(Qn)){var n=[];di(n,Qn,t,Sa(t)),lu(js,n)}}function Av(t,n,r){t==="focusin"?(Dd(),Ie=n,Qn=r,Ie.attachEvent("onpropertychange",Cd)):t==="focusout"&&Dd()}function Sv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Qn)}function bv(t,n){if(t==="click")return Tu(n)}function Rv(t,n){if(t==="input"||t==="change")return Tu(n)}function wv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:wv;function Gs(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!ga.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Od(t,n){var r=Vd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Vd(r)}}function Md(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Md(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Id(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ta(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ta(t.document)}return n}function _c(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Dv(t,n){var r=Id(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Md(n.ownerDocument.documentElement,n)){if(l!==null&&_c(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Od(n,f);var p=Od(n,l);c&&p&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==p.node||r.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Cv=nn&&"documentMode"in document&&11>=document.documentMode,Ia=null,vc=null,Qs=null,Ec=!1;function Nd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ec||Ia==null||Ia!==Ta(l)||(l=Ia,"selectionStart"in l&&_c(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qs&&Gs(Qs,l)||(Qs=l,l=io(vc,"onSelect"),0<l.length&&(n=new ba("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ia)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Na={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Tc={},Ud={};nn&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function jr(t){if(Tc[t])return Tc[t];if(!Na[t])return t;var n=Na[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ud)return Tc[t]=n[r];return t}var xd=jr("animationend"),zd=jr("animationiteration"),Ld=jr("animationstart"),Vv=jr("transitionrun"),Ov=jr("transitionstart"),Mv=jr("transitioncancel"),Bd=jr("transitionend"),Pd=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Pd.set(t,n),en(n,[t])}var yn=[],Ua=0,Ac=0;function Au(){for(var t=Ua,n=Ac=Ua=0;n<t;){var r=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&qd(r,c,f)}}function Su(t,n,r,l){yn[Ua++]=t,yn[Ua++]=n,yn[Ua++]=r,yn[Ua++]=l,Ac|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sc(t,n,r,l){return Su(t,n,r,l),bu(t)}function Zi(t,n){return Su(t,null,null,n),bu(t)}function qd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Fe(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function bu(t){if(50<pl)throw pl=0,Vh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xa={},Hd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=Hd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},Hd.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var za=[],La=0,Ru=null,wu=0,vn=[],En=0,Gr=null,mi=1,gi="";function Qr(t,n){za[La++]=wu,za[La++]=Ru,Ru=t,wu=n}function jd(t,n,r){vn[En++]=mi,vn[En++]=gi,vn[En++]=Gr,Gr=t;var l=mi;t=gi;var c=32-Fe(l)-1;l&=~(1<<c),r+=1;var f=32-Fe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,mi=1<<32-Fe(n)+c|r<<c|l,gi=f+t}else mi=1<<f|r<<c|l,gi=t}function bc(t){t.return!==null&&(Qr(t,1),jd(t,1,0))}function Rc(t){for(;t===Ru;)Ru=za[--La],za[La]=null,wu=za[--La],za[La]=null;for(;t===Gr;)Gr=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null,mi=vn[--En],vn[En]=null}var Xe=null,Ne=null,Lt=!1,Mn=null,Fn=!1,wc=Error(a(519));function Fr(t){var n=Error(a(418,""));throw Ys(_n(n,t)),wc}function Gd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Re]=t,n[pe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<_l.length;r++)Dt(_l[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Nr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ir(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Yi(n,l.value,l.defaultValue,l.children),Ir(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Wg(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=ro),n=!0):n=!1,n||Fr(t)}function Qd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 3:case 27:Fn=!0;return;case 5:case 13:Fn=!1;return;default:Xe=Xe.return}}function Fs(t){if(t!==Xe)return!1;if(!Lt)return Qd(t),Lt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Fh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ne&&Fr(t),Qd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ne=Nn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ne=null}}else Ne=Xe?Nn(t.stateNode.nextSibling):null;return!0}function Ks(){Ne=Xe=null,Lt=!1}function Ys(t){Mn===null?Mn=[t]:Mn.push(t)}var Xs=Error(a(460)),Fd=Error(a(474)),Dc={then:function(){}};function Kd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Du(){}function Yd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Du,Du),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Xs?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Du,Du);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Xs?Error(a(483)):t}throw Zs=n,Xs}}var Zs=null;function Xd(){if(Zs===null)throw Error(a(459));var t=Zs;return Zs=null,t}var Ba=null,$s=0;function Cu(t){var n=$s;return $s+=1,Ba===null&&(Ba=[]),Yd(Ba,t,n)}function Js(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zd(t){var n=t._init;return n(t._payload)}function $d(t){function n(N,V){if(t){var L=N.deletions;L===null?(N.deletions=[V],N.flags|=16):L.push(V)}}function r(N,V){if(!t)return null;for(;V!==null;)n(N,V),V=V.sibling;return null}function l(N){for(var V=new Map;N!==null;)N.key!==null?V.set(N.key,N):V.set(N.index,N),N=N.sibling;return V}function c(N,V){return N=ur(N,V),N.index=0,N.sibling=null,N}function f(N,V,L){return N.index=L,t?(L=N.alternate,L!==null?(L=L.index,L<V?(N.flags|=33554434,V):L):(N.flags|=33554434,V)):(N.flags|=1048576,V)}function p(N){return t&&N.alternate===null&&(N.flags|=33554434),N}function E(N,V,L,G){return V===null||V.tag!==6?(V=Th(L,N.mode,G),V.return=N,V):(V=c(V,L),V.return=N,V)}function S(N,V,L,G){var it=L.type;return it===_?H(N,V,L.props.children,G,L.key):V!==null&&(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&Zd(it)===V.type)?(V=c(V,L.props),Js(V,L),V.return=N,V):(V=Ku(L.type,L.key,L.props,null,N.mode,G),Js(V,L),V.return=N,V)}function O(N,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Ah(L,N.mode,G),V.return=N,V):(V=c(V,L.children||[]),V.return=N,V)}function H(N,V,L,G,it){return V===null||V.tag!==7?(V=na(L,N.mode,G,it),V.return=N,V):(V=c(V,L),V.return=N,V)}function F(N,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Th(""+V,N.mode,L),V.return=N,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return L=Ku(V.type,V.key,V.props,null,N.mode,L),Js(L,V),L.return=N,L;case y:return V=Ah(V,N.mode,L),V.return=N,V;case dt:var G=V._init;return V=G(V._payload),F(N,V,L)}if(W(V)||Ut(V))return V=na(V,N.mode,L,null),V.return=N,V;if(typeof V.then=="function")return F(N,Cu(V),L);if(V.$$typeof===j)return F(N,Gu(N,V),L);Vu(N,V)}return null}function B(N,V,L,G){var it=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(N,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?S(N,V,L,G):null;case y:return L.key===it?O(N,V,L,G):null;case dt:return it=L._init,L=it(L._payload),B(N,V,L,G)}if(W(L)||Ut(L))return it!==null?null:H(N,V,L,G,null);if(typeof L.then=="function")return B(N,V,Cu(L),G);if(L.$$typeof===j)return B(N,V,Gu(N,L),G);Vu(N,L)}return null}function q(N,V,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return N=N.get(L)||null,E(V,N,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return N=N.get(G.key===null?L:G.key)||null,S(V,N,G,it);case y:return N=N.get(G.key===null?L:G.key)||null,O(V,N,G,it);case dt:var bt=G._init;return G=bt(G._payload),q(N,V,L,G,it)}if(W(G)||Ut(G))return N=N.get(L)||null,H(V,N,G,it,null);if(typeof G.then=="function")return q(N,V,L,Cu(G),it);if(G.$$typeof===j)return q(N,V,L,Gu(V,G),it);Vu(V,G)}return null}function rt(N,V,L,G){for(var it=null,bt=null,st=V,ct=V=0,Oe=null;st!==null&&ct<L.length;ct++){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var Bt=B(N,st,L[ct],G);if(Bt===null){st===null&&(st=Oe);break}t&&st&&Bt.alternate===null&&n(N,st),V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt,st=Oe}if(ct===L.length)return r(N,st),Lt&&Qr(N,ct),it;if(st===null){for(;ct<L.length;ct++)st=F(N,L[ct],G),st!==null&&(V=f(st,V,ct),bt===null?it=st:bt.sibling=st,bt=st);return Lt&&Qr(N,ct),it}for(st=l(st);ct<L.length;ct++)Oe=q(st,N,ct,L[ct],G),Oe!==null&&(t&&Oe.alternate!==null&&st.delete(Oe.key===null?ct:Oe.key),V=f(Oe,V,ct),bt===null?it=Oe:bt.sibling=Oe,bt=Oe);return t&&st.forEach(function(gr){return n(N,gr)}),Lt&&Qr(N,ct),it}function gt(N,V,L,G){if(L==null)throw Error(a(151));for(var it=null,bt=null,st=V,ct=V=0,Oe=null,Bt=L.next();st!==null&&!Bt.done;ct++,Bt=L.next()){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var gr=B(N,st,Bt.value,G);if(gr===null){st===null&&(st=Oe);break}t&&st&&gr.alternate===null&&n(N,st),V=f(gr,V,ct),bt===null?it=gr:bt.sibling=gr,bt=gr,st=Oe}if(Bt.done)return r(N,st),Lt&&Qr(N,ct),it;if(st===null){for(;!Bt.done;ct++,Bt=L.next())Bt=F(N,Bt.value,G),Bt!==null&&(V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return Lt&&Qr(N,ct),it}for(st=l(st);!Bt.done;ct++,Bt=L.next())Bt=q(st,N,ct,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&st.delete(Bt.key===null?ct:Bt.key),V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return t&&st.forEach(function(Q0){return n(N,Q0)}),Lt&&Qr(N,ct),it}function ie(N,V,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;V!==null;){if(V.key===it){if(it=L.type,it===_){if(V.tag===7){r(N,V.sibling),G=c(V,L.props.children),G.return=N,N=G;break t}}else if(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&Zd(it)===V.type){r(N,V.sibling),G=c(V,L.props),Js(G,L),G.return=N,N=G;break t}r(N,V);break}else n(N,V);V=V.sibling}L.type===_?(G=na(L.props.children,N.mode,G,L.key),G.return=N,N=G):(G=Ku(L.type,L.key,L.props,null,N.mode,G),Js(G,L),G.return=N,N=G)}return p(N);case y:t:{for(it=L.key;V!==null;){if(V.key===it)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(N,V.sibling),G=c(V,L.children||[]),G.return=N,N=G;break t}else{r(N,V);break}else n(N,V);V=V.sibling}G=Ah(L,N.mode,G),G.return=N,N=G}return p(N);case dt:return it=L._init,L=it(L._payload),ie(N,V,L,G)}if(W(L))return rt(N,V,L,G);if(Ut(L)){if(it=Ut(L),typeof it!="function")throw Error(a(150));return L=it.call(L),gt(N,V,L,G)}if(typeof L.then=="function")return ie(N,V,Cu(L),G);if(L.$$typeof===j)return ie(N,V,Gu(N,L),G);Vu(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(N,V.sibling),G=c(V,L),G.return=N,N=G):(r(N,V),G=Th(L,N.mode,G),G.return=N,N=G),p(N)):r(N,V)}return function(N,V,L,G){try{$s=0;var it=ie(N,V,L,G);return Ba=null,it}catch(st){if(st===Xs)throw st;var bt=bn(29,st,null,N.mode);return bt.lanes=G,bt.return=N,bt}finally{}}}var Kr=$d(!0),Jd=$d(!1),Pa=xt(null),Ou=xt(0);function Wd(t,n){t=wi,Ht(Ou,t),Ht(Pa,n),wi=t|n.baseLanes}function Cc(){Ht(Ou,wi),Ht(Pa,Pa.current)}function Vc(){wi=Ou.current,Wt(Pa),Wt(Ou)}var Tn=xt(null),Kn=null;function $i(t){var n=t.alternate;Ht(ve,ve.current&1),Ht(Tn,t),Kn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Kn=t)}function tm(t){if(t.tag===22){if(Ht(ve,ve.current),Ht(Tn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Ji()}function Ji(){Ht(ve,ve.current),Ht(Tn,Tn.current)}function pi(t){Wt(Tn),Kn===t&&(Kn=null),Wt(ve)}var ve=xt(0);function Mu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Iv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Nv=s.unstable_scheduleCallback,Uv=s.unstable_NormalPriority,Ee={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new Iv,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&Nv(Uv,function(){t.controller.abort()})}var tl=null,Mc=0,ka=0,qa=null;function xv(t,n){if(tl===null){var r=tl=[];Mc=0,ka=Lh(),qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Mc++,n.then(em,em),n}function em(){if(--Mc===0&&tl!==null){qa!==null&&(qa.status="fulfilled");var t=tl;tl=null,ka=0,qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var nm=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&xv(t,n),nm!==null&&nm(t,n)};var Yr=xt(null);function Ic(){var t=Yr.current;return t!==null?t:Kt.pooledCache}function Iu(t,n){n===null?Ht(Yr,Yr.current):Ht(Yr,n.pool)}function im(){var t=Ic();return t===null?null:{parent:Ee._currentValue,pool:t}}var Wi=0,At=null,jt=null,ce=null,Nu=!1,Ha=!1,Xr=!1,Uu=0,el=0,ja=null,Lv=0;function se(){throw Error(a(321))}function Nc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function Uc(t,n,r,l,c,f){return Wi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Zr:tr,Xr=!1,f=r(l,c),Xr=!1,Ha&&(f=am(n,r,l,c)),rm(t),f}function rm(t){A.H=Yn;var n=jt!==null&&jt.next!==null;if(Wi=0,ce=jt=At=null,Nu=!1,el=0,ja=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&ju(t)&&(Ce=!0))}function am(t,n,r,l){At=t;var c=0;do{if(Ha&&(ja=null),el=0,Ha=!1,25<=c)throw Error(a(301));if(c+=1,ce=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=$r,f=n(r,l)}while(Ha);return f}function Bv(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?nl(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(At.flags|=1024),n}function xc(){var t=Uu!==0;return Uu=0,t}function zc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Lc(t){if(Nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Nu=!1}Wi=0,ce=jt=At=null,Ha=!1,el=Uu=0,ja=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?At.memoizedState=ce=t:ce=ce.next=t,ce}function he(){if(jt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=ce===null?At.memoizedState:ce.next;if(n!==null)ce=n,jt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ce===null?At.memoizedState=ce=t:ce=ce.next=t}return ce}var xu;xu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nl(t){var n=el;return el+=1,ja===null&&(ja=[]),t=Yd(ja,t,n),n=At,(ce===null?n.memoizedState:ce.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Zr:tr),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===j)return ke(t)}throw Error(a(438,String(t)))}function Bc(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=xu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Qt;return n.index++,r}function yi(t,n){return typeof n=="function"?n(t):n}function Lu(t){var n=he();return Pc(n,jt,t)}function Pc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,S=null,O=n,H=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(Mt&F)===F:(Wi&F)===F){var B=O.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===ka&&(H=!0);else if((Wi&B)===B){O=O.next,B===ka&&(H=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=F,p=f):S=S.next=F,At.lanes|=B,or|=B;F=O.action,Xr&&r(f,F),f=O.hasEagerState?O.eagerState:r(f,F)}else B={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=B,p=f):S=S.next=B,At.lanes|=F,or|=F;O=O.next}while(O!==null&&O!==n);if(S===null?p=f:S.next=E,!rn(f,t.memoizedState)&&(Ce=!0,H&&(r=qa,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kc(t){var n=he(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function sm(t,n,r){var l=At,c=he(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!rn((jt||c).memoizedState,r);if(p&&(c.memoizedState=r,Ce=!0),c=c.queue,jc(om.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||ce!==null&&ce.memoizedState.tag&1){if(l.flags|=2048,Ga(9,um.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(a(349));f||Wi&60||lm(l,n,r)}return r}function lm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=xu(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function um(t,n,r,l){n.value=r,n.getSnapshot=l,cm(n)&&hm(t)}function om(t,n,r){return r(function(){cm(n)&&hm(t)})}function cm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function hm(t){var n=Zi(t,2);n!==null&&Ze(n,t,2)}function qc(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),Xr){xn(!0);try{r()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},n}function fm(t,n,r,l){return t.baseState=r,Pc(t,jt,typeof l=="function"?l:yi)}function Pv(t,n,r,l,c){if(ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,dm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function dm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,p={};A.T=p;try{var E=r(c,l),S=A.S;S!==null&&S(p,E),mm(t,n,E)}catch(O){Hc(t,n,O)}finally{A.T=f}}else try{f=r(c,l),mm(t,n,f)}catch(O){Hc(t,n,O)}}function mm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){gm(t,n,l)},function(l){return Hc(t,n,l)}):gm(t,n,r)}function gm(t,n,r){n.status="fulfilled",n.value=r,pm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,dm(t,r)))}function Hc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,pm(n),n=n.next;while(n!==l)}t.action=null}function pm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ym(t,n){return n}function _m(t,n){if(Lt){var r=Kt.formState;if(r!==null){t:{var l=At;if(Lt){if(Ne){e:{for(var c=Ne,f=Fn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ne=Nn(c.nextSibling),l=c.data==="F!";break t}}Fr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:n},r.queue=l,r=zm.bind(null,At,l),l.dispatch=r,l=qc(!1),f=Yc.bind(null,At,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Pv.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function vm(t){var n=he();return Em(n,jt,t)}function Em(t,n,r){n=Pc(t,n,ym)[0],t=Lu(yi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?nl(n):n;var l=he(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(At.flags|=2048,Ga(9,kv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function kv(t,n){t.action=n}function Tm(t){var n=he(),r=jt;if(r!==null)return Em(n,r,t);he(),n=n.memoizedState,r=he();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ga(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=At.updateQueue,n===null&&(n=xu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Am(){return he().memoizedState}function Bu(t,n,r,l){var c=We();At.flags|=t,c.memoizedState=Ga(1|n,r,{destroy:void 0},l===void 0?null:l)}function Pu(t,n,r,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&Nc(l,jt.memoizedState.deps)?c.memoizedState=Ga(n,r,f,l):(At.flags|=t,c.memoizedState=Ga(1|n,r,f,l))}function Sm(t,n){Bu(8390656,8,t,n)}function jc(t,n){Pu(2048,8,t,n)}function bm(t,n){return Pu(4,2,t,n)}function Rm(t,n){return Pu(4,4,t,n)}function wm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dm(t,n,r){r=r!=null?r.concat([t]):null,Pu(4,4,wm.bind(null,n,t),r)}function Gc(){}function Cm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Nc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Vm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Nc(n,l[1]))return l[0];if(l=t(),Xr){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[l,n],l}function Qc(t,n,r){return r===void 0||Wi&1073741824?t.memoizedState=n:(t.memoizedState=r,t=Mg(),At.lanes|=t,or|=t,r)}function Om(t,n,r,l){return rn(r,n)?r:Pa.current!==null?(t=Qc(t,r,l),rn(t,n)||(Ce=!0),t):Wi&42?(t=Mg(),At.lanes|=t,or|=t,n):(Ce=!0,t.memoizedState=r)}function Mm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=A.T,E={};A.T=E,Yc(t,!1,n,r);try{var S=c(),O=A.S;if(O!==null&&O(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=zv(S,l);il(t,n,H,un(t))}else il(t,n,l,un(t))}catch(F){il(t,n,{then:function(){},status:"rejected",reason:F},un())}finally{tt.p=f,A.T=p}}function qv(){}function Fc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Im(t).queue;Mm(t,c,n,Tt,r===null?qv:function(){return Nm(t),r(l)})}function Im(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Tt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Nm(t){var n=Im(t).next.queue;il(t,n,{},un())}function Kc(){return ke(Sl)}function Um(){return he().memoizedState}function xm(){return he().memoizedState}function Hv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=un();t=ir(r);var l=rr(n,t,r);l!==null&&(Ze(l,n,r),sl(l,n,r)),n={cache:Oc()},t.payload=n;return}n=n.return}}function jv(t,n,r){var l=un();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ku(t)?Lm(n,r):(r=Sc(t,n,r,l),r!==null&&(Ze(r,t,l),Bm(r,n,l)))}function zm(t,n,r){var l=un();il(t,n,r,l)}function il(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ku(t))Lm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,p))return Su(t,n,c,0),Kt===null&&Au(),!1}catch{}finally{}if(r=Sc(t,n,c,l),r!==null)return Ze(r,t,l),Bm(r,n,l),!0}return!1}function Yc(t,n,r,l){if(l={lane:2,revertLane:Lh(),action:l,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(n)throw Error(a(479))}else n=Sc(t,r,l,2),n!==null&&Ze(n,t,2)}function ku(t){var n=t.alternate;return t===At||n!==null&&n===At}function Lm(t,n){Ha=Nu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bm(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}var Yn={readContext:ke,use:zu,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};Yn.useCacheRefresh=se,Yn.useMemoCache=se,Yn.useHostTransitionStatus=se,Yn.useFormState=se,Yn.useActionState=se,Yn.useOptimistic=se;var Zr={readContext:ke,use:zu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Sm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Bu(4194308,4,wm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Bu(4194308,4,t,n)},useInsertionEffect:function(t,n){Bu(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(Xr){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(Xr){xn(!0);try{r(n)}finally{xn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=jv.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=qc(t);var n=t.queue,r=zm.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Gc,useDeferredValue:function(t,n){var r=We();return Qc(r,t,n)},useTransition:function(){var t=qc(!1);return t=Mm.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=We();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));Mt&60||lm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Sm(om.bind(null,l,f,t),[t]),l.flags|=2048,Ga(9,um.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=We(),n=Kt.identifierPrefix;if(Lt){var r=gi,l=mi;r=(l&~(1<<32-Fe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Lv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return We().memoizedState=Hv.bind(null,At)}};Zr.useMemoCache=Bc,Zr.useHostTransitionStatus=Kc,Zr.useFormState=_m,Zr.useActionState=_m,Zr.useOptimistic=function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Yc.bind(null,At,!0,r),r.dispatch=n,[t,n]};var tr={readContext:ke,use:zu,useCallback:Cm,useContext:ke,useEffect:jc,useImperativeHandle:Dm,useInsertionEffect:bm,useLayoutEffect:Rm,useMemo:Vm,useReducer:Lu,useRef:Am,useState:function(){return Lu(yi)},useDebugValue:Gc,useDeferredValue:function(t,n){var r=he();return Om(r,jt.memoizedState,t,n)},useTransition:function(){var t=Lu(yi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:sm,useId:Um};tr.useCacheRefresh=xm,tr.useMemoCache=Bc,tr.useHostTransitionStatus=Kc,tr.useFormState=vm,tr.useActionState=vm,tr.useOptimistic=function(t,n){var r=he();return fm(r,jt,t,n)};var $r={readContext:ke,use:zu,useCallback:Cm,useContext:ke,useEffect:jc,useImperativeHandle:Dm,useInsertionEffect:bm,useLayoutEffect:Rm,useMemo:Vm,useReducer:kc,useRef:Am,useState:function(){return kc(yi)},useDebugValue:Gc,useDeferredValue:function(t,n){var r=he();return jt===null?Qc(r,t,n):Om(r,jt.memoizedState,t,n)},useTransition:function(){var t=kc(yi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:sm,useId:Um};$r.useCacheRefresh=xm,$r.useMemoCache=Bc,$r.useHostTransitionStatus=Kc,$r.useFormState=Tm,$r.useActionState=Tm,$r.useOptimistic=function(t,n){var r=he();return jt!==null?fm(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Xc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Zc={isMounted:function(t){return(t=t._reactInternals)?lt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=un(),c=ir(l);c.payload=n,r!=null&&(c.callback=r),n=rr(t,c,l),n!==null&&(Ze(n,t,l),sl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=un(),c=ir(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=rr(t,c,l),n!==null&&(Ze(n,t,l),sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=un(),l=ir(r);l.tag=2,n!=null&&(l.callback=n),n=rr(t,l,r),n!==null&&(Ze(n,t,r),sl(n,t,r))}};function Pm(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Gs(r,l)||!Gs(c,f):!0}function km(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Zc.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qm(t){qu(t)}function Hm(t){console.error(t)}function jm(t){qu(t)}function Hu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $c(t,n,r){return r=ir(r),r.tag=3,r.payload={element:null},r.callback=function(){Hu(t,n)},r}function Qm(t){return t=ir(t),t.tag=3,t}function Fm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Gm(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Gm(n,r,l),typeof c!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Gv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&al(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Kn===null?Ih():r.alternate===null&&ne===0&&(ne=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Dc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Uh(t,l,c)),!1;case 22:return r.flags|=65536,l===Dc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Uh(t,l,c)),!1}throw Error(a(435,r.tag))}return Uh(t,l,c),Ih(),!1}if(Lt)return n=Tn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==wc&&(t=Error(a(422),{cause:l}),Ys(_n(t,r)))):(l!==wc&&(n=Error(a(423),{cause:l}),Ys(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=$c(t.stateNode,l,c),fh(t,c),ne!==4&&(ne=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),ml===null?ml=[f]:ml.push(f),ne!==4&&(ne=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=$c(r.stateNode,l,t),fh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Qm(c),Fm(c,t,r,l),fh(r,c),!1}r=r.return}while(r!==null);return!1}var Km=Error(a(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?Jd(n,null,r,l):Kr(n,t.child,r,l)}function Ym(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return ta(n),l=Uc(t,n,r,p,f,c),E=xc(),t!==null&&!Ce?(zc(t,n,c),_i(t,n,c)):(Lt&&E&&bc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Xm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Eh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Zm(t,n,f,l,c)):(t=Ku(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Gs,r(p,l)&&t.ref===n.ref)return _i(t,n,c)}return n.flags|=1,t=ur(f,l),t.ref=n.ref,t.return=n,n.child=t}function Zm(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Gs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,sh(t,c))t.flags&131072&&(Ce=!0);else return n.lanes=t.lanes,_i(t,n,c)}return Jc(t,n,r,l,c)}function $m(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,p=t!==null?t.memoizedState:null;if(rl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=p!==null?p.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Jm(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,p!==null?p.cachePool:null),p!==null?Wd(n,p):Cc(),tm(n);else return n.lanes=n.childLanes=536870912,Jm(t,n,p!==null?p.baseLanes|r:r,r)}else p!==null?(Iu(n,p.cachePool),Wd(n,p),Ji(),n.memoizedState=null):(t!==null&&Iu(n,null),Cc(),Ji());return Ue(t,n,c,r),n.child}function Jm(t,n,r,l){var c=Ic();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Iu(n,null),Cc(),tm(n),t!==null&&al(t,n,l,!0),null}function rl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Jc(t,n,r,l,c){return ta(n),r=Uc(t,n,r,l,void 0,c),l=xc(),t!==null&&!Ce?(zc(t,n,c),_i(t,n,c)):(Lt&&l&&bc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function Wm(t,n,r,l,c,f){return ta(n),n.updateQueue=null,r=am(n,l,r,c),rm(t),l=xc(),t!==null&&!Ce?(zc(t,n,f),_i(t,n,f)):(Lt&&l&&bc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function tg(t,n,r,l,c){if(ta(n),n.stateNode===null){var f=xa,p=r.contextType;typeof p=="object"&&p!==null&&(f=ke(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ch(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?ke(p):xa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Xc(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Zc.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=Jr(r,E);f.props=S;var O=f.context,H=r.contextType;p=xa,typeof H=="object"&&H!==null&&(p=ke(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==p)&&km(n,f,l,p),nr=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ll(),O=n.memoizedState,E||B!==O||nr?(typeof F=="function"&&(Xc(n,r,F,l),O=n.memoizedState),(S=nr||Pm(n,r,S,l,B,O,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=p,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hh(t,n),p=n.memoizedProps,H=Jr(r,p),f.props=H,F=n.pendingProps,B=f.context,O=r.contextType,S=xa,typeof O=="object"&&O!==null&&(S=ke(O)),E=r.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==F||B!==S)&&km(n,f,l,S),nr=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ll();var q=n.memoizedState;p!==F||B!==q||nr||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Xc(n,r,E,l),q=n.memoizedState),(H=nr||Pm(n,r,H,l,B,q,S)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=S,l=H):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,rl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Kr(n,t.child,null,c),n.child=Kr(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=_i(t,n,c),t}function eg(t,n,r,l){return Ks(),n.flags|=256,Ue(t,n,r,l),n.child}var Wc={dehydrated:null,treeContext:null,retryLane:0};function th(t){return{baseLanes:t,cachePool:im()}}function eh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function ng(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?$i(n):Ji(),Lt){var E=Ne,S;if(S=E){t:{for(S=E,E=Fn;S.nodeType!==8;){if(!E){E=null;break t}if(S=Nn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Gr!==null?{id:mi,overflow:gi}:null,retryLane:536870912},S=bn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Xe=n,Ne=null,S=!0):S=!1}S||Fr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;pi(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=ih({mode:"hidden",children:E},c),l=na(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=th(r),c.childLanes=eh(t,p,r),n.memoizedState=Wc,l):($i(n),nh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=rh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=ih({mode:"visible",children:l.children},E),c=na(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Kr(n,t.child,null,r),l=n.child,l.memoizedState=th(r),l.childLanes=eh(t,p,r),n.memoizedState=Wc,n=c);else if($i(n),E.data==="$!"){if(p=E.nextSibling&&E.nextSibling.dataset,p)var O=p.dgst;p=O,l=Error(a(419)),l.stack="",l.digest=p,Ys({value:l,source:null,stack:null}),n=rh(t,n,r)}else if(Ce||al(t,n,r,!1),p=(r&t.childLanes)!==0,Ce||p){if(p=Kt,p!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(p.suspendedLanes|r)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,Zi(t,l),Ze(p,t,l),Km}E.data==="$?"||Ih(),n=rh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=a0.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Ne=Nn(E.nextSibling),Xe=n,Lt=!0,Mn=null,Fn=!1,t!==null&&(vn[En++]=mi,vn[En++]=gi,vn[En++]=Gr,mi=t.id,gi=t.overflow,Gr=n),n=nh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,S=t.child,O=S.sibling,l=ur(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,O!==null?c=ur(O,c):(c=na(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=th(r):(S=E.cachePool,S!==null?(O=Ee._currentValue,S=S.parent!==O?{parent:O,pool:O}:S):S=im(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=eh(t,p,r),n.memoizedState=Wc,l):($i(n),r=t.child,t=r.sibling,r=ur(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function nh(t,n){return n=ih({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ih(t,n){return Cg(t,n,0,null)}function rh(t,n,r){return Kr(n,t.child,null,r),t=nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ig(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uh(t.return,n,r)}function ah(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function rg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=ve.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ig(t,r,n);else if(t.tag===19)ig(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(ve,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Mu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),ah(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Mu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}ah(n,!0,r,null,f);break;case"together":ah(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function _i(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),or|=n.lanes,!(r&n.childLanes))if(t!==null){if(al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ur(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ur(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function sh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function Qv(t,n,r){switch(n.tag){case 3:Ui(n,n.stateNode.containerInfo),er(n,Ee,t.memoizedState.cache),Ks();break;case 27:case 5:Ss(n);break;case 4:Ui(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):r&n.child.childLanes?ng(t,n,r):($i(n),t=_i(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(al(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return rg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,$m(t,n,r);case 24:er(n,Ee,t.memoizedState.cache)}return _i(t,n,r)}function ag(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!sh(t,r)&&!(n.flags&128))return Ce=!1,Qv(t,n,r);Ce=!!(t.flags&131072)}else Ce=!1,Lt&&n.flags&1048576&&jd(n,wu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Eh(l)?(t=Jr(l,t),n.tag=1,n=tg(null,n,l,t,r)):(n.tag=0,n=Jc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=Ym(null,n,l,t,r);break t}else if(c===St){n.tag=14,n=Xm(null,n,l,t,r);break t}}throw n=b(l)||l,Error(a(306,n,""))}}return n;case 0:return Jc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Jr(l,n.pendingProps),tg(t,n,l,c,r);case 3:t:{if(Ui(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,hh(t,n),ul(n,f,null,r);var p=n.memoizedState;if(f=p.cache,er(n,Ee,f),f!==c.cache&&oh(n,[Ee],r,!0),ll(),f=p.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=eg(t,n,f,r);break t}else if(f!==l){l=_n(Error(a(424)),n),Ys(l),n=eg(t,n,f,r);break t}else for(Ne=Nn(n.stateNode.containerInfo.firstChild),Xe=n,Lt=!0,Mn=null,Fn=!0,r=Jd(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),f===l){n=_i(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return rl(t,n),t===null?(r=up(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=ao(cn.current).createElement(r),l[Re]=n,l[pe]=t,xe(l,r,t),Xt(l),n.stateNode=l):n.memoizedState=up(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ss(n),t===null&&Lt&&(l=n.stateNode=ap(n.type,n.pendingProps,cn.current),Xe=n,Fn=!0,Ne=Nn(l.firstChild)),l=n.pendingProps.children,t!==null||Lt?Ue(t,n,l,r):n.child=Kr(n,null,l,r),rl(t,n),n.child;case 5:return t===null&&Lt&&((c=l=Ne)&&(l=T0(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Xe=n,Ne=Nn(l.firstChild),Fn=!1,c=!0):c=!1),c||Fr(n)),Ss(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Fh(c,f)?l=null:p!==null&&Fh(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Uc(t,n,Bv,null,null,r),Sl._currentValue=c),rl(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=Ne)&&(r=A0(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Xe=n,Ne=null,t=!0):t=!1),t||Fr(n)),null;case 13:return ng(t,n,r);case 4:return Ui(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Kr(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return Ym(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,er(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=ke(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return Xm(t,n,n.type,n.pendingProps,r);case 15:return Zm(t,n,n.type,n.pendingProps,r);case 19:return rg(t,n,r);case 22:return $m(t,n,r);case 24:return ta(n),l=ke(Ee),t===null?(c=Ic(),c===null&&(c=Kt,f=Oc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ch(n),er(n,Ee,c)):(t.lanes&r&&(hh(t,n),ul(n,null,null,r),ll()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),er(n,Ee,l)):(l=f.cache,er(n,Ee,l),l!==c.cache&&oh(n,[Ee],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var lh=xt(null),Wr=null,vi=null;function er(t,n,r){Ht(lh,n._currentValue),n._currentValue=r}function Ei(t){t._currentValue=lh.current,Wt(lh)}function uh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function oh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),uh(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),uh(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function al(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;rn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ni.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}c=c.return}t!==null&&oh(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return sg(Wr,t)}function Gu(t,n){return Wr===null&&ta(t),sg(t,n)}function sg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},vi===null){if(t===null)throw Error(a(308));vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vi=vi.next=n;return r}var nr=!1;function ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,$t&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=bu(t),qd(t,null,r),n}return Su(t,l,n,r),bu(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}function fh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var dh=!1;function ll(){if(dh){var t=qa;if(t!==null)throw t}}function ul(t,n,r,l){dh=!1;var c=t.updateQueue;nr=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,O=S.next;S.next=null,p===null?f=O:p.next=O,p=S;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=S))}if(f!==null){var F=c.baseState;p=0,H=O=S=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Mt&B)===B:(l&B)===B){B!==0&&B===ka&&(dh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,gt=E;B=n;var ie=r;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){F=rt.call(ie,F,B);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,B=typeof rt=="function"?rt.call(ie,F,B):rt,B==null)break t;F=D({},F,B);break t;case 2:nr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=q,S=F):H=H.next=q,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(S=F),c.baseState=S,c.firstBaseUpdate=O,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),or|=p,t.lanes=p,t.memoizedState=F}}function lg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ug(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)lg(r[t],n)}function ol(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function ar(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var S=r;try{E()}catch(O){Ft(c,S,O)}}}l=l.next}while(l!==f)}}catch(O){Ft(n,n.return,O)}}function og(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ug(n,r)}catch(l){Ft(t,t.return,l)}}}function cg(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function ea(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Ft(t,n,f)}}function an(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function hg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function fg(t,n,r){try{var l=t.stateNode;p0(l,t.type,r,n),l[pe]=n}catch(c){Ft(t,t.return,c)}}function dg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function mh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ro));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gh(t,n,r),t=t.sibling;t!==null;)gh(t,n,r),t=t.sibling}function Qu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Qu(t,n,r),t=t.sibling;t!==null;)Qu(t,n,r),t=t.sibling}var Ti=!1,ee=!1,ph=!1,mg=typeof WeakSet=="function"?WeakSet:Set,Ve=null,gg=!1;function Fv(t,n){if(t=t.containerInfo,Gh=ho,t=Id(t),_c(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,S=-1,O=0,H=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=p+c),F!==f||l!==0&&F.nodeType!==3||(S=p+l),F.nodeType===3&&(p+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++O===c&&(E=p),B===f&&++H===l&&(S=p),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qh={focusedElem:t,selectionRange:r},ho=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=Jr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(r,r.return,gt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Xh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return rt=gg,gg=!1,rt}function pg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Si(t,r),l&4&&ol(5,r);break;case 1:if(Si(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&og(r),l&512&&ea(r,r.return);break;case 3:if(Si(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ug(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:Si(t,r),l&512&&ea(r,r.return);break;case 27:case 5:Si(t,r),n===null&&l&4&&hg(r),l&512&&ea(r,r.return);break;case 12:Si(t,r);break;case 13:Si(t,r),l&4&&vg(t,r);break;case 22:if(c=r.memoizedState!==null||Ti,!c){n=n!==null&&n.memoizedState!==null||ee;var f=Ti,p=ee;Ti=c,(ee=n)&&!p?sr(t,r,(r.subtreeFlags&8772)!==0):Si(t,r),Ti=f,ee=p}l&512&&(r.memoizedProps.mode==="manual"?ea(r,r.return):an(r,r.return));break;default:Si(t,r)}}function yg(t){var n=t.alternate;n!==null&&(t.alternate=null,yg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,sn=!1;function Ai(t,n,r){for(r=r.child;r!==null;)_g(t,n,r),r=r.sibling}function _g(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(xi,r)}catch{}switch(r.tag){case 26:ee||an(r,n),Ai(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ee||an(r,n);var l=fe,c=sn;for(fe=r.stateNode,Ai(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Mr(r),fe=l,sn=c;break;case 5:ee||an(r,n);case 6:c=fe;var f=sn;if(fe=null,Ai(t,n,r),fe=c,sn=f,fe!==null)if(sn)try{t=fe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(p){Ft(r,n,p)}else try{fe.removeChild(r.stateNode)}catch(p){Ft(r,n,p)}break;case 18:fe!==null&&(sn?(n=fe,r=r.stateNode,n.nodeType===8?Yh(n.parentNode,r):n.nodeType===1&&Yh(n,r),Dl(n)):Yh(fe,r.stateNode));break;case 4:l=fe,c=sn,fe=r.stateNode.containerInfo,sn=!0,Ai(t,n,r),fe=l,sn=c;break;case 0:case 11:case 14:case 15:ee||ar(2,r,n),ee||ar(4,r,n),Ai(t,n,r);break;case 1:ee||(an(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&cg(r,n,l)),Ai(t,n,r);break;case 21:Ai(t,n,r);break;case 22:ee||an(r,n),ee=(l=ee)||r.memoizedState!==null,Ai(t,n,r),ee=l;break;default:Ai(t,n,r)}}function vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(r){Ft(n,n.return,r)}}function Kv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mg),n;default:throw Error(a(435,t.tag))}}function yh(t,n){var r=Kv(t);n.forEach(function(l){var c=s0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function An(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:case 5:fe=E.stateNode,sn=!1;break t;case 3:fe=E.stateNode.containerInfo,sn=!0;break t;case 4:fe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));_g(f,p,c),fe=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Eg(n,t),n=n.sibling}var In=null;function Eg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),Sn(t),l&4&&(ar(3,t,t.return),ol(3,t),ar(5,t,t.return));break;case 1:An(n,t),Sn(t),l&512&&(ee||r===null||an(r,r.return)),l&64&&Ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(An(n,t),Sn(t),l&512&&(ee||r===null||an(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Hi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),xe(f,l,r),f[Re]=t,Xt(f),l=f;break t;case"link":var p=hp("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;case"meta":if(p=hp("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Re]=t,Xt(f),l=f}t.stateNode=l}else fp(c,t.type,t.stateNode);else t.stateNode=cp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?fp(c,t.type,t.stateNode):cp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var O=S.nextSibling,H=S.nodeName;S[Hi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}for(var F=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);xe(c,F,f),c[Re]=t,c[pe]=f}catch(rt){Ft(t,t.return,rt)}}case 5:if(An(n,t),Sn(t),l&512&&(ee||r===null||an(r,r.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(rt){Ft(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,fg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(ph=!0);break;case 6:if(An(n,t),Sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(rt){Ft(t,t.return,rt)}}break;case 3:if(uo=null,c=In,In=so(n.containerInfo),An(n,t),In=c,Sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Dl(n.containerInfo)}catch(rt){Ft(t,t.return,rt)}ph&&(ph=!1,Tg(t));break;case 4:l=In,In=so(t.stateNode.containerInfo),An(n,t),Sn(t),In=l;break;case 12:An(n,t),Sn(t);break;case 13:An(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wh=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yh(t,l)));break;case 22:if(l&512&&(ee||r===null||an(r,r.return)),S=t.memoizedState!==null,O=r!==null&&r.memoizedState!==null,H=Ti,F=ee,Ti=H||S,ee=F||O,An(n,t),ee=F,Ti=H,Sn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Ti||ee,r===null||O||n||Qa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){O=r=n;try{if(c=O.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=O.stateNode,E=O.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;p.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Ft(O,O.return,rt)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=S?"":O.memoizedProps}catch(rt){Ft(O,O.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,yh(t,r))));break;case 19:An(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yh(t,l)));break;case 21:break;default:An(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(dg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=mh(t);Qu(t,f,c);break;case 5:var p=l.stateNode;l.flags&32&&(dn(p,""),l.flags&=-33);var E=mh(t);Qu(t,E,p);break;case 3:case 4:var S=l.stateNode.containerInfo,O=mh(t);gh(t,O,S);break;default:throw Error(a(161))}}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pg(t,n.alternate,n),n=n.sibling}function Qa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),Qa(n);break;case 1:an(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&cg(n,n.return,r),Qa(n);break;case 26:case 27:case 5:an(n,n.return),Qa(n);break;case 22:an(n,n.return),n.memoizedState===null&&Qa(n);break;default:Qa(n)}t=t.sibling}}function sr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:sr(c,f,r),ol(4,f);break;case 1:if(sr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ft(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)lg(S[c],E)}catch(O){Ft(l,l.return,O)}}r&&p&64&&og(f),ea(f,f.return);break;case 26:case 27:case 5:sr(c,f,r),r&&l===null&&p&4&&hg(f),ea(f,f.return);break;case 12:sr(c,f,r);break;case 13:sr(c,f,r),r&&p&4&&vg(c,f);break;case 22:f.memoizedState===null&&sr(c,f,r),ea(f,f.return);break;default:sr(c,f,r)}n=n.sibling}}function _h(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ws(r))}function vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t))}function lr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ag(t,n,r,l),n=n.sibling}function Ag(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:lr(t,n,r,l),c&2048&&ol(9,n);break;case 3:lr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t)));break;case 12:if(c&2048){lr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ft(n,n.return,S)}}else lr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?lr(t,n,r,l):cl(t,n):f._visibility&4?lr(t,n,r,l):(f._visibility|=4,Fa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&_h(n.alternate,n);break;case 24:lr(t,n,r,l),c&2048&&vh(n.alternate,n);break;default:lr(t,n,r,l)}}function Fa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,S=l,O=p.flags;switch(p.tag){case 0:case 11:case 15:Fa(f,p,E,S,c),ol(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&4?Fa(f,p,E,S,c):cl(f,p):(H._visibility|=4,Fa(f,p,E,S,c)),c&&O&2048&&_h(p.alternate,p);break;case 24:Fa(f,p,E,S,c),c&&O&2048&&vh(p.alternate,p);break;default:Fa(f,p,E,S,c)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:cl(r,l),c&2048&&_h(l.alternate,l);break;case 24:cl(r,l),c&2048&&vh(l.alternate,l);break;default:cl(r,l)}n=n.sibling}}var hl=8192;function Ka(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Sg(t),t=t.sibling}function Sg(t){switch(t.tag){case 26:Ka(t),t.flags&hl&&t.memoizedState!==null&&x0(In,t.memoizedState,t.memoizedProps);break;case 5:Ka(t);break;case 3:case 4:var n=In;In=so(t.stateNode.containerInfo),Ka(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=hl,hl=16777216,Ka(t),hl=n):Ka(t));break;default:Ka(t)}}function bg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,wg(l,t)}bg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rg(t),t=t.sibling}function Rg(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&ar(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Fu(t)):fl(t);break;default:fl(t)}}function Fu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,wg(l,t)}bg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ar(8,n,n.return),Fu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Fu(n));break;default:Fu(n)}t=t.sibling}}function wg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ws(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(yg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}function Yv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,n,r,l){return new Yv(t,n,r,l)}function Eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ur(t,n){var r=t.alternate;return r===null?(r=bn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Dg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ku(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")Eh(t)&&(p=1);else if(typeof t=="string")p=N0(t,r,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return na(r.children,c,f,n);case v:p=8,c|=24;break;case R:return t=bn(12,r,n,c|2),t.elementType=R,t.lanes=f,t;case nt:return t=bn(13,r,n,c),t.elementType=nt,t.lanes=f,t;case Z:return t=bn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case Et:return Cg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case j:p=10;break t;case P:p=9;break t;case $:p=11;break t;case St:p=14;break t;case dt:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=bn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function na(t,n,r,l){return t=bn(7,t,l,n),t.lanes=r,t}function Cg(t,n,r,l){t=bn(22,t,l,n),t.elementType=Et,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var p=Zi(f,2);p!==null&&(c._pendingVisibility|=2,Ze(p,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if(c._pendingVisibility&2){var p=Zi(f,2);p!==null&&(c._pendingVisibility&=-3,Ze(p,f,2))}}};return t.stateNode=c,t}function Th(t,n,r){return t=bn(6,t,null,n),t.lanes=r,t}function Ah(t,n,r){return n=bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function bi(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!dp(n)){if(n=Tn.current,n!==null&&((Mt&4194176)===Mt?Kn!==null:(Mt&62914560)!==Mt&&!(Mt&536870912)||n!==Kn))throw Zs=Dc,Fd;t.flags|=8192}}function Yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,Xa|=n)}function dl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Zt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Xv(t,n,r){var l=n.pendingProps;switch(Rc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(Ee),ii(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?bi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Oh(Mn),Mn=null))),Zt(n),null;case 26:return r=n.memoizedState,t===null?(bi(n),r!==null?(Zt(n),Vg(n,r)):(Zt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(bi(n),Zt(n),Vg(n,r)):(Zt(n),n.flags&=-16777217):(t.memoizedProps!==l&&bi(n),Zt(n),n.flags&=-16777217),null;case 27:ma(n),r=cn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Zt(n),null}t=Qe.current,Fs(n)?Gd(n):(t=ap(c,l,r),n.stateNode=t,bi(n))}return Zt(n),null;case 5:if(ma(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Zt(n),null}if(t=Qe.current,Fs(n))Gd(n);else{switch(c=ao(cn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Re]=n,t[pe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&bi(n)}}return Zt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=cn.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Wg(t.nodeValue,r)),t||Fr(n)}else t=ao(t).createTextNode(l),t[Re]=n,n.stateNode=t}return Zt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Re]=n}else Ks(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Zt(n),c=!1}else Mn!==null&&(Oh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(pi(n),n):(pi(n),null)}if(pi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Yu(n,n.updateQueue),Zt(n),null;case 4:return ii(),t===null&&qh(n.stateNode.containerInfo),Zt(n),null;case 10:return Ei(n.type),Zt(n),null;case 19:if(Wt(ve),c=n.memoizedState,c===null)return Zt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)dl(c,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Mu(t),f!==null){for(n.flags|=128,dl(c,!1),t=f.updateQueue,n.updateQueue=t,Yu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Dg(r,t),r=r.sibling;return Ht(ve,ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&$e()>Xu&&(n.flags|=128,l=!0,dl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Mu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Yu(n,t),dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return Zt(n),null}else 2*$e()-c.renderingStartTime>Xu&&r!==536870912&&(n.flags|=128,l=!0,dl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=$e(),n.sibling=null,t=ve.current,Ht(ve,l?t&1|2:t&1),n):(Zt(n),null);case 22:case 23:return pi(n),Vc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),r=n.updateQueue,r!==null&&Yu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Wt(Yr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(Ee),Zt(n),null;case 25:return null}throw Error(a(156,n.tag))}function Zv(t,n){switch(Rc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ei(Ee),ii(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ma(n),null;case 13:if(pi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Wt(ve),null;case 4:return ii(),null;case 10:return Ei(n.type),null;case 22:case 23:return pi(n),Vc(),t!==null&&Wt(Yr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ei(Ee),null;case 25:return null;default:return null}}function Og(t,n){switch(Rc(n),n.tag){case 3:Ei(Ee),ii();break;case 26:case 27:case 5:ma(n);break;case 4:ii();break;case 13:pi(n);break;case 19:Wt(ve);break;case 10:Ei(n.type);break;case 22:case 23:pi(n),Vc(),t!==null&&Wt(Yr);break;case 24:Ei(Ee)}}var $v={getCacheForType:function(t){var n=ke(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},Jv=typeof WeakMap=="function"?WeakMap:Map,$t=0,Kt=null,Rt=null,Mt=0,Yt=0,ln=null,Ri=!1,Ya=!1,Sh=!1,wi=0,ne=0,or=0,ia=0,bh=0,Rn=0,Xa=0,ml=null,Xn=null,Rh=!1,wh=0,Xu=1/0,Zu=null,cr=null,$u=!1,ra=null,gl=0,Dh=0,Ch=null,pl=0,Vh=null;function un(){if($t&2&&Mt!==0)return Mt&-Mt;if(A.T!==null){var t=ka;return t!==0?t:Lh()}return iu()}function Mg(){Rn===0&&(Rn=!(Mt&536870912)||Lt?Cs():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),Rn}function Ze(t,n,r){(t===Kt&&Yt===2||t.cancelPendingCommit!==null)&&(Za(t,0),Di(t,Mt,Rn,!1)),ae(t,r),(!($t&2)||t!==Kt)&&(t===Kt&&(!($t&2)&&(ia|=r),ne===4&&Di(t,Mt,Rn,!1)),Zn(t))}function Ig(t,n,r){if($t&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Li(t,n),c=l?e0(t,n):Nh(t,n,!0),f=l;do{if(c===0){Ya&&!l&&Di(t,n,0,!1);break}else if(c===6)Di(t,n,0,!Ri);else{if(r=t.current.alternate,f&&!Wv(r)){c=Nh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=ml;var S=E.current.memoizedState.isDehydrated;if(S&&(Za(E,p).flags|=256),p=Nh(E,p,!1),p!==2){if(Sh&&!S){E.errorRecoveryDisabledLanes|=f,ia|=f,c=4;break t}f=Xn,Xn=c,f!==null&&Oh(f)}c=p}if(f=!1,c!==2)continue}}if(c===1){Za(t,0),Di(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Di(l,n,Rn,!Ri);break t}break;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=wh+300-$e(),10<f)){if(Di(l,n,Rn,!Ri),hn(l,0)!==0)break t;l.timeoutHandle=np(Ng.bind(null,l,r,Xn,Zu,Rh,n,Rn,ia,Xa,Ri,2,-0,0),f);break t}Ng(l,r,Xn,Zu,Rh,n,Rn,ia,Xa,Ri,0,-0,0)}}break}while(!0);Zn(t)}function Oh(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function Ng(t,n,r,l,c,f,p,E,S,O,H,F,B){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:U0},Sg(n),n=z0(),n!==null)){t.cancelPendingCommit=n(kg.bind(null,t,r,l,c,p,E,S,1,F,B)),Di(t,f,p,!O);return}kg(t,r,l,c,p,E,S,H,F,B)}function Wv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(t,n,r,l){n&=~bh,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&Pi(t,r,n)}function Ju(){return $t&6?!0:(yl(0),!1)}function Mh(){if(Rt!==null){if(Yt===0)var t=Rt.return;else t=Rt,vi=Wr=null,Lc(t),Ba=null,$s=0,t=Rt;for(;t!==null;)Og(t.alternate,t),t=t.return;Rt=null}}function Za(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,_0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Mh(),Kt=t,Rt=r=ur(t.current,null),Mt=n,Yt=0,ln=null,Ri=!1,Ya=Li(t,n),Sh=!1,Xa=Rn=bh=ia=or=ne=0,Xn=ml=null,Rh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Au(),r}function Ug(t,n){At=null,A.H=Yn,n===Xs?(n=Xd(),Yt=3):n===Fd?(n=Xd(),Yt=4):Yt=n===Km?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Rt===null&&(ne=1,Hu(t,_n(n,t.current)))}function xg(){var t=A.H;return A.H=Yn,t===null?Yn:t}function zg(){var t=A.A;return A.A=$v,t}function Ih(){ne=4,Ri||(Mt&4194176)!==Mt&&Tn.current!==null||(Ya=!0),!(or&134217727)&&!(ia&134217727)||Kt===null||Di(Kt,Mt,Rn,!1)}function Nh(t,n,r){var l=$t;$t|=2;var c=xg(),f=zg();(Kt!==t||Mt!==n)&&(Zu=null,Za(t,n)),n=!1;var p=ne;t:do try{if(Yt!==0&&Rt!==null){var E=Rt,S=ln;switch(Yt){case 8:Mh(),p=6;break t;case 3:case 2:case 6:Tn.current===null&&(n=!0);var O=Yt;if(Yt=0,ln=null,$a(t,E,S,O),r&&Ya){p=0;break t}break;default:O=Yt,Yt=0,ln=null,$a(t,E,S,O)}}t0(),p=ne;break}catch(H){Ug(t,H)}while(!0);return n&&t.shellSuspendCounter++,vi=Wr=null,$t=l,A.H=c,A.A=f,Rt===null&&(Kt=null,Mt=0,Au()),p}function t0(){for(;Rt!==null;)Lg(Rt)}function e0(t,n){var r=$t;$t|=2;var l=xg(),c=zg();Kt!==t||Mt!==n?(Zu=null,Xu=$e()+500,Za(t,n)):Ya=Li(t,n);t:do try{if(Yt!==0&&Rt!==null){n=Rt;var f=ln;e:switch(Yt){case 1:Yt=0,ln=null,$a(t,n,f,1);break;case 2:if(Kd(f)){Yt=0,ln=null,Bg(n);break}n=function(){Yt===2&&Kt===t&&(Yt=7),Zn(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Kd(f)?(Yt=0,ln=null,Bg(n)):(Yt=0,ln=null,$a(t,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(!p||dp(p)){Yt=0,ln=null;var S=E.sibling;if(S!==null)Rt=S;else{var O=E.return;O!==null?(Rt=O,Wu(O)):Rt=null}break e}}Yt=0,ln=null,$a(t,n,f,5);break;case 6:Yt=0,ln=null,$a(t,n,f,6);break;case 8:Mh(),ne=6;break t;default:throw Error(a(462))}}n0();break}catch(H){Ug(t,H)}while(!0);return vi=Wr=null,A.H=l,A.A=c,$t=r,Rt!==null?0:(Kt=null,Mt=0,Au(),ne)}function n0(){for(;Rt!==null&&!lc();)Lg(Rt)}function Lg(t){var n=ag(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?Wu(t):Rt=n}function Bg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Wm(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Wm(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Lc(n);default:Og(r,n),n=Rt=Dg(n,wi),n=ag(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?Wu(t):Rt=n}function $a(t,n,r,l){vi=Wr=null,Lc(n),Ba=null,$s=0;var c=n.return;try{if(Gv(t,c,n,r,Mt)){ne=1,Hu(t,_n(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ne=1,Hu(t,_n(r,t.current)),Rt=null;return}n.flags&32768?(Lt||l===1?t=!0:Ya||Mt&536870912?t=!1:(Ri=t=!0,(l===2||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Pg(n,t)):Wu(n)}function Wu(t){var n=t;do{if(n.flags&32768){Pg(n,Ri);return}t=n.return;var r=Xv(n.alternate,n,wi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ne===0&&(ne=5)}function Pg(t,n){do{var r=Zv(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ne=6,Rt=null}function kg(t,n,r,l,c,f,p,E,S,O){var H=A.T,F=tt.p;try{tt.p=2,A.T=null,i0(t,n,r,l,F,c,f,p,E,S,O)}finally{A.T=H,tt.p=F}}function i0(t,n,r,l,c,f,p,E){do Ja();while(ra!==null);if($t&6)throw Error(a(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=S.lanes|S.childLanes;if(O|=Ac,eu(t,l,O,f,p,E),t===Kt&&(Rt=Kt=null,Mt=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||$u||($u=!0,Dh=O,Ch=r,l0(ri,function(){return Ja(),null})),r=(S.flags&15990)!==0,S.subtreeFlags&15990||r?(r=A.T,A.T=null,f=tt.p,tt.p=2,p=$t,$t|=4,Fv(t,S),Eg(S,t),Dv(Qh,t.containerInfo),ho=!!Gh,Qh=Gh=null,t.current=S,pg(t,S.alternate,S),bs(),$t=p,tt.p=f,A.T=r):t.current=S,$u?($u=!1,ra=t,gl=l):qg(t,O),O=t.pendingLanes,O===0&&(cr=null),ws(S.stateNode),Zn(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)O=n[S],c(O.value,{componentStack:O.stack});return gl&3&&Ja(),O=t.pendingLanes,l&4194218&&O&42?t===Vh?pl++:(pl=0,Vh=t):pl=0,yl(0),null}function qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ws(n)))}function Ja(){if(ra!==null){var t=ra,n=Dh;Dh=0;var r=nu(gl),l=A.T,c=tt.p;try{if(tt.p=32>r?32:r,A.T=null,ra===null)var f=!1;else{r=Ch,Ch=null;var p=ra,E=gl;if(ra=null,gl=0,$t&6)throw Error(a(331));var S=$t;if($t|=4,Rg(p.current),Ag(p,p.current,E,r),$t=S,yl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(xi,p)}catch{}f=!0}return f}finally{tt.p=c,A.T=l,qg(t,n)}}return!1}function Hg(t,n,r){n=_n(r,n),n=$c(t.stateNode,n,2),t=rr(t,n,2),t!==null&&(ae(t,2),Zn(t))}function Ft(t,n,r){if(t.tag===3)Hg(t,t,r);else for(;n!==null;){if(n.tag===3){Hg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cr===null||!cr.has(l))){t=_n(r,t),r=Qm(2),l=rr(n,r,2),l!==null&&(Fm(r,l,n,t),ae(l,2),Zn(l));break}}n=n.return}}function Uh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Jv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Sh=!0,c.add(r),t=r0.bind(null,t,n,r),n.then(t,t))}function r0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Mt&r)===r&&(ne===4||ne===3&&(Mt&62914560)===Mt&&300>$e()-wh?!($t&2)&&Za(t,0):bh|=r,Xa===Mt&&(Xa=0)),Zn(t)}function jg(t,n){n===0&&(n=Bi()),t=Zi(t,n),t!==null&&(ae(t,n),Zn(t))}function a0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),jg(t,r)}function s0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),jg(t,r)}function l0(t,n){return Cr(t,n)}var to=null,Wa=null,xh=!1,eo=!1,zh=!1,aa=0;function Zn(t){t!==Wa&&t.next===null&&(Wa===null?to=Wa=t:Wa=Wa.next=t),eo=!0,xh||(xh=!0,o0(u0))}function yl(t,n){if(!zh&&eo){zh=!0;do for(var r=!1,l=to;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(p&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Fg(l,f))}else f=Mt,f=hn(l,l===Kt?f:0),!(f&3)||Li(l,f)||(r=!0,Fg(l,f));l=l.next}while(r);zh=!1}}function u0(){eo=xh=!1;var t=0;aa!==0&&(y0()&&(t=aa),aa=0);for(var n=$e(),r=null,l=to;l!==null;){var c=l.next,f=Gg(l,n);f===0?(l.next=null,r===null?to=c:r.next=c,c===null&&(Wa=r)):(r=l,(t!==0||f&3)&&(eo=!0)),l=c}yl(t)}function Gg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Fe(f),E=1<<p,S=c[p];S===-1?(!(E&r)||E&l)&&(c[p]=ya(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,r=Mt,r=hn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Yt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pa(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Li(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&pa(l),nu(r)){case 2:case 8:r=be;break;case 32:r=ri;break;case 268435456:r=Rs;break;default:r=ri}return l=Qg.bind(null,t),r=Cr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&pa(l),t.callbackPriority=2,t.callbackNode=null,2}function Qg(t,n){var r=t.callbackNode;if(Ja()&&t.callbackNode!==r)return null;var l=Mt;return l=hn(t,t===Kt?l:0),l===0?null:(Ig(t,l,n),Gg(t,$e()),t.callbackNode!=null&&t.callbackNode===r?Qg.bind(null,t):null)}function Fg(t,n){if(Ja())return null;Ig(t,n,!0)}function o0(t){v0(function(){$t&6?Cr(ge,t):t()})}function Lh(){return aa===0&&(aa=Cs()),aa}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pn(""+t)}function Yg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function c0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Kg((c[pe]||null).action),p=l.submitter;p&&(n=(n=p[pe]||null)?Kg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new ba("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var S=p?Yg(c,p):new FormData(c);Fc(r,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=p?Yg(c,p):new FormData(c),Fc(r,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Bh=0;Bh<kd.length;Bh++){var Ph=kd[Bh],h0=Ph.toLowerCase(),f0=Ph[0].toUpperCase()+Ph.slice(1);On(h0,"on"+f0)}On(xd,"onAnimationEnd"),On(zd,"onAnimationIteration"),On(Ld,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Vv,"onTransitionRun"),On(Ov,"onTransitionStart"),On(Mv,"onTransitionCancel"),On(Bd,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Xg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){qu(H)}c.currentTarget=null,f=S}else for(p=0;p<l.length;p++){if(E=l[p],S=E.instance,O=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){qu(H)}c.currentTarget=null,f=S}}}}function Dt(t,n){var r=n[Or];r===void 0&&(r=n[Or]=new Set);var l=t+"__bubble";r.has(l)||(Zg(n,t,2,!1),r.add(l))}function kh(t,n,r){var l=0;n&&(l|=4),Zg(r,t,l,n)}var no="_reactListening"+Math.random().toString(36).slice(2);function qh(t){if(!t[no]){t[no]=!0,Os.forEach(function(r){r!=="selectionchange"&&(d0.has(r)||kh(r,!1,t),kh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[no]||(n[no]=!0,kh("selectionchange",!1,n))}}function Zg(t,n,r,l){switch(vp(n)){case 2:var c=P0;break;case 8:c=k0;break;default:c=tf}r=c.bind(null,n,r,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Hh(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;p=p.return}for(;E!==null;){if(p=Vn(E),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){l=f=p;continue t}E=E.parentNode}}l=l.return}lu(function(){var O=f,H=Sa(r),F=[];t:{var B=Pd.get(t);if(B!==void 0){var q=ba,rt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":q=Oa;break;case"focusin":rt="focus",q=Da;break;case"focusout":rt="blur",q=Da;break;case"beforeblur":case"afterblur":q=Da;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gu;break;case xd:case zd:case Ld:q=Ca;break;case Bd:q=yu;break;case"scroll":case"scrollend":q=uu;break;case"wheel":q=Ma;break;case"copy":case"cut":case"paste":q=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Hs;break;case"toggle":case"beforetoggle":q=vu}var gt=(n&4)!==0,ie=!gt&&(t==="scroll"||t==="scrollend"),N=gt?B!==null?B+"Capture":null:B;gt=[];for(var V=O,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||N===null||(G=xr(V,N),G!=null&&gt.push(vl(V,G,L))),ie)break;V=V.return}0<gt.length&&(B=new q(B,rt,null,r,H),F.push({event:B,listeners:gt}))}}if(!(n&7)){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==mn&&(rt=r.relatedTarget||r.fromElement)&&(Vn(rt)||rt[ai]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=O,rt=rt?Vn(rt):null,rt!==null&&(ie=lt(rt),gt=rt.tag,rt!==ie||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(q=null,rt=O),q!==rt)){if(gt=pn,G="onMouseLeave",N="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Hs,G="onPointerLeave",N="onPointerEnter",V="pointer"),ie=q==null?B:ji(q),L=rt==null?B:ji(rt),B=new gt(G,V+"leave",q,r,H),B.target=ie,B.relatedTarget=L,G=null,Vn(H)===O&&(gt=new gt(N,V+"enter",rt,r,H),gt.target=L,gt.relatedTarget=ie,G=gt),ie=G,q&&rt)e:{for(gt=q,N=rt,V=0,L=gt;L;L=ts(L))V++;for(L=0,G=N;G;G=ts(G))L++;for(;0<V-L;)gt=ts(gt),V--;for(;0<L-V;)N=ts(N),L--;for(;V--;){if(gt===N||N!==null&&gt===N.alternate)break e;gt=ts(gt),N=ts(N)}gt=null}else gt=null;q!==null&&$g(F,B,q,gt,!1),rt!==null&&ie!==null&&$g(F,ie,rt,gt,!0)}}t:{if(B=O?ji(O):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var it=bd;else if(_e(B))if(Rd)it=Rv;else{it=Sv;var bt=Av}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?O&&xs(O.elementType)&&(it=bd):it=bv;if(it&&(it=it(t,O))){di(F,it,r,H);break t}bt&&bt(t,B,O),t==="focusout"&&O&&B.type==="number"&&O.memoizedProps.value!=null&&Aa(B,"number",B.value)}switch(bt=O?ji(O):window,t){case"focusin":(_e(bt)||bt.contentEditable==="true")&&(Ia=bt,vc=O,Qs=null);break;case"focusout":Qs=vc=Ia=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,Nd(F,r,H);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":Nd(F,r,H)}var st;if(Gn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Vt?k(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(g&&r.locale!=="ko"&&(Vt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vt&&(st=Ls()):(kn=H,Xi="value"in kn?kn.value:kn.textContent,Vt=!0)),bt=io(O,ct),0<bt.length&&(ct=new ks(ct,t,null,r,H),F.push({event:ct,listeners:bt}),st?ct.data=st:(st=X(r),st!==null&&(ct.data=st)))),(st=m?ye(t,r):Ot(t,r))&&(ct=io(O,"onBeforeInput"),0<ct.length&&(bt=new ks("onBeforeInput","beforeinput",null,r,H),F.push({event:bt,listeners:ct}),bt.data=st)),c0(F,t,O,r,H)}Xg(F,n)})}function vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function io(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=xr(t,r),c!=null&&l.unshift(vl(t,c,f)),c=xr(t,n),c!=null&&l.push(vl(t,c,f))),t=t.return}return l}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $g(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,S=E.alternate,O=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||O===null||(S=O,c?(O=xr(r,f),O!=null&&p.unshift(vl(r,O,S))):c||(O=xr(r,f),O!=null&&p.push(vl(r,O,S)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var m0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function Jg(t){return(typeof t=="string"?t:""+t).replace(m0,`
`).replace(g0,"")}function Wg(t,n){return n=Jg(n),Jg(t)===n}function ro(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Fi(t,"class",l);break;case"tabIndex":Fi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(t,r,l);break;case"style":su(t,l,f);break;case"data":if(n!=="object"){Fi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Pn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ro);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Pn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Qi(t,"popover",l);break;case"xlinkActuate":fn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fc.get(r)||r,Qi(t,r,l))}}function jh(t,n,r,l,c,f){switch(r){case"style":su(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Qi(t,r,l)}}}function xe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,p,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=p=c=null,S=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":p=H;break;case"checked":S=H;break;case"defaultChecked":O=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Gt(t,n,l,H,r,null)}}Nr(t,f,E,S,O,p,c,!1),Ir(t);return;case"select":Dt("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,p,E,r,null)}Yi(t,l,c,f),Ir(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,S,l,r,null)}return;case"dialog":Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Dt(_l[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,O,l,r,null)}return;default:if(xs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&jh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function p0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,S=null,O=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=F;default:l.hasOwnProperty(q)||Gt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":O=q;break;case"defaultChecked":H=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Gt(t,n,B,q,l,F)}}Ki(t,p,E,S,O,H,f,c);return;case"select":q=p=E=B=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=r[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==S&&Gt(t,n,c,f,l,S)}n=E,r=p,l=q,B!=null?zt(t,!!r,B,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,p,c,l,f)}Ur(t,B,q);return;case"option":for(var rt in r)if(B=r[rt],r.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Gt(t,n,rt,null,l,B)}for(S in l)if(B=l[S],q=r[S],l.hasOwnProperty(S)&&B!==q&&(B!=null||q!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gt(t,n,S,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,B);for(O in l)if(B=l[O],q=r[O],l.hasOwnProperty(O)&&B!==q&&(B!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Gt(t,n,O,B,l,q)}return;default:if(xs(n)){for(var ie in r)B=r[ie],r.hasOwnProperty(ie)&&B!==void 0&&!l.hasOwnProperty(ie)&&jh(t,n,ie,void 0,l,B);for(H in l)B=l[H],q=r[H],!l.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||jh(t,n,H,B,l,q);return}}for(var N in r)B=r[N],r.hasOwnProperty(N)&&B!=null&&!l.hasOwnProperty(N)&&Gt(t,n,N,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Gt(t,n,F,B,l,q)}var Gh=null,Qh=null;function ao(t){return t.nodeType===9?t:t.ownerDocument}function tp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ep(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kh=null;function y0(){var t=window.event;return t&&t.type==="popstate"?t===Kh?!1:(Kh=t,!0):(Kh=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(t){return ip.resolve(null).then(t).catch(E0)}:np;function E0(t){setTimeout(function(){throw t})}function Yh(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Dl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Dl(n)}function Xh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xh(r),Mr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function T0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function A0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Nn(t.nextSibling),t===null))return null;return t}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function rp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ap(t,n,r){switch(n=ao(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var wn=new Map,sp=new Set;function so(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ci=tt.d;tt.d={f:S0,r:b0,D:R0,C:w0,L:D0,m:C0,X:O0,S:V0,M:M0};function S0(){var t=Ci.f(),n=Ju();return t||n}function b0(t){var n=si(t);n!==null&&n.tag===5&&n.type==="form"?Nm(n):Ci.r(t)}var es=typeof document>"u"?null:document;function lp(t,n,r){var l=es;if(l&&typeof n=="string"&&n){var c=te(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),sp.has(c)||(sp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),xe(n,"link",t),Xt(n),l.head.appendChild(n)))}}function R0(t){Ci.D(t),lp("dns-prefetch",t,null)}function w0(t,n){Ci.C(t,n),lp("preconnect",t,n)}function D0(t,n,r){Ci.L(t,n,r);var l=es;if(l&&t&&n){var c='link[rel="preload"][as="'+te(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+te(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+te(r.imageSizes)+'"]')):c+='[href="'+te(t)+'"]';var f=c;switch(n){case"style":f=ns(t);break;case"script":f=is(t)}wn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(El(f))||n==="script"&&l.querySelector(Tl(f))||(n=l.createElement("link"),xe(n,"link",t),Xt(n),l.head.appendChild(n)))}}function C0(t,n){Ci.m(t,n);var r=es;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+te(l)+'"][href="'+te(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=is(t)}if(!wn.has(f)&&(t=D({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(f)))return}l=r.createElement("link"),xe(l,"link",t),Xt(l),r.head.appendChild(l)}}}function V0(t,n,r){Ci.S(t,n,r);var l=es;if(l&&t){var c=Gi(l).hoistableStyles,f=ns(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(El(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&Zh(t,r);var S=p=l.createElement("link");Xt(S),xe(S,"link",t),S._p=new Promise(function(O,H){S.onload=O,S.onerror=H}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lo(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function O0(t,n){Ci.X(t,n);var r=es;if(r&&t){var l=Gi(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=D({src:t,async:!0},n),(n=wn.get(c))&&$h(t,n),f=r.createElement("script"),Xt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function M0(t,n){Ci.M(t,n);var r=es;if(r&&t){var l=Gi(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&$h(t,n),f=r.createElement("script"),Xt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function up(t,n,r,l){var c=(c=cn.current)?so(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ns(r.href),r=Gi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ns(r.href);var f=Gi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(El(t)))&&!f._p&&(p.instance=f,p.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||I0(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=is(r),r=Gi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ns(t){return'href="'+te(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function op(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function I0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xe(n,"link",r),Xt(n),t.head.appendChild(n))}function is(t){return'[src="'+te(t)+'"]'}function Tl(t){return"script[async]"+t}function cp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+te(r.href)+'"]');if(l)return n.instance=l,Xt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Xt(l),xe(l,"style",c),lo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ns(r.href);var f=t.querySelector(El(c));if(f)return n.state.loading|=4,n.instance=f,Xt(f),f;l=op(r),(c=wn.get(c))&&Zh(l,c),f=(t.ownerDocument||t).createElement("link"),Xt(f);var p=f;return p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(f,"link",l),n.state.loading|=4,lo(f,r.precedence,t),n.instance=f;case"script":return f=is(r.src),(c=t.querySelector(Tl(f)))?(n.instance=c,Xt(c),c):(l=r,(c=wn.get(f))&&(l=D({},r),$h(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Xt(c),xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,lo(l,r.precedence,t));return n.instance}function lo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Zh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $h(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uo=null;function hp(t,n,r){if(uo===null){var l=new Map,c=uo=new Map;c.set(r,l)}else c=uo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Hi]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function fp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function N0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Al=null;function U0(){}function x0(t,n,r){if(Al===null)throw Error(a(475));var l=Al;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ns(r.href),f=t.querySelector(El(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=oo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Xt(f);return}f=t.ownerDocument||t,r=op(r),(c=wn.get(c))&&Zh(r,c),f=f.createElement("link"),Xt(f);var p=f;p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=oo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function z0(){if(Al===null)throw Error(a(475));var t=Al;return t.stylesheets&&t.count===0&&Jh(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Jh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function oo(){if(this.count--,this.count===0){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var co=null;function Jh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,co=new Map,n.forEach(L0,t),co=null,oo.call(t))}function L0(t,n){if(!(n.state.loading&4)){var r=co.get(t);if(r)var l=r.get(null);else{r=new Map,co.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=oo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Sl={$$typeof:j,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function B0(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function mp(t,n,r,l,c,f,p,E,S,O,H,F){return t=new B0(t,n,r,p,E,S,O,F),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),t.current=f,f.stateNode=t,n=Oc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ch(f),t}function gp(t){return t?(t=xa,t):xa}function pp(t,n,r,l,c,f){c=gp(c),l.context===null?l.context=c:l.pendingContext=c,l=ir(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=rr(t,l,n),r!==null&&(Ze(r,t,n),sl(r,t,n))}function yp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Wh(t,n){yp(t,n),(t=t.alternate)&&yp(t,n)}function _p(t){if(t.tag===13){var n=Zi(t,67108864);n!==null&&Ze(n,t,67108864),Wh(t,67108864)}}var ho=!0;function P0(t,n,r,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=2,tf(t,n,r,l)}finally{tt.p=f,A.T=c}}function k0(t,n,r,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=8,tf(t,n,r,l)}finally{tt.p=f,A.T=c}}function tf(t,n,r,l){if(ho){var c=ef(l);if(c===null)Hh(t,n,l,fo,r),Ep(t,l);else if(H0(c,t,n,r,l))l.stopPropagation();else if(Ep(t,l),n&4&&-1<q0.indexOf(t)){for(;c!==null;){var f=si(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Cn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var S=1<<31-Fe(p);E.entanglements[1]|=S,p&=~S}Zn(f),!($t&6)&&(Xu=$e()+500,yl(0))}}break;case 13:E=Zi(f,2),E!==null&&Ze(E,f,2),Ju(),Wh(f,2)}if(f=ef(l),f===null&&Hh(t,n,l,fo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Hh(t,n,l,null,r)}}function ef(t){return t=Sa(t),nf(t)}var fo=null;function nf(t){if(fo=null,t=Vn(t),t!==null){var n=lt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return fo=t,null}function vp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case ge:return 2;case be:return 8;case ri:case Jl:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var rf=!1,hr=null,fr=null,dr=null,bl=new Map,Rl=new Map,mr=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ep(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function wl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=si(n),n!==null&&_p(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function H0(t,n,r,l,c){switch(n){case"focusin":return hr=wl(hr,t,n,r,l,c),!0;case"dragenter":return fr=wl(fr,t,n,r,l,c),!0;case"mouseover":return dr=wl(dr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return bl.set(f,wl(bl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Rl.set(f,wl(Rl.get(f)||null,t,n,r,l,c)),!0}return!1}function Tp(t){var n=Vn(t.target);if(n!==null){var r=lt(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,qi(t.priority,function(){if(r.tag===13){var l=un(),c=Zi(r,l);c!==null&&Ze(c,r,l),Wh(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=ef(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mn=l,r.target.dispatchEvent(l),mn=null}else return n=si(r),n!==null&&_p(n),t.blockedOn=r,!1;n.shift()}return!0}function Ap(t,n,r){mo(t)&&r.delete(n)}function j0(){rf=!1,hr!==null&&mo(hr)&&(hr=null),fr!==null&&mo(fr)&&(fr=null),dr!==null&&mo(dr)&&(dr=null),bl.forEach(Ap),Rl.forEach(Ap)}function go(t,n){t.blockedOn===n&&(t.blockedOn=null,rf||(rf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,j0)))}var po=null;function Sp(t){po!==t&&(po=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){po===t&&(po=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(nf(l||r)===null)continue;break}var f=si(r);f!==null&&(t.splice(n,3),n-=3,Fc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Dl(t){function n(S){return go(S,t)}hr!==null&&go(hr,t),fr!==null&&go(fr,t),dr!==null&&go(dr,t),bl.forEach(n),Rl.forEach(n);for(var r=0;r<mr.length;r++){var l=mr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)Tp(r),r.blockedOn===null&&mr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[pe]||null;if(typeof f=="function")p||Sp(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[pe]||null)E=p.formAction;else if(nf(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Sp(r)}}}function af(t){this._internalRoot=t}yo.prototype.render=af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=un();pp(r,l,t,n,null,null)},yo.prototype.unmount=af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Ja(),pp(t.current,2,null,t,null,null),Ju(),n[ai]=null}};function yo(t){this._internalRoot=t}yo.prototype.unstable_scheduleHydration=function(t){if(t){var n=iu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<mr.length&&n!==0&&n<mr[r].priority;r++);mr.splice(r,0,t),r===0&&Tp(t)}};var bp=e.version;if(bp!=="19.0.0")throw Error(a(527,bp,"19.0.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var G0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{xi=_o.inject(G0),Pe=_o}catch{}}return Vl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=qm,f=Hm,p=jm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=mp(t,1,!1,null,null,r,l,c,f,p,E,null),t[ai]=n.current,qh(t.nodeType===8?t.parentNode:t),new af(n)},Vl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=qm,p=Hm,E=jm,S=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=mp(t,1,!0,n,r??null,l,c,f,p,E,S,O),n.context=gp(null),r=n.current,l=un(),c=ir(l),c.callback=null,rr(r,c,l),n.current.lanes=l,ae(n,l),Zn(n),t[ai]=n.current,qh(t),new yo(n)},Vl.version="19.0.0",Vl}var Up;function tE(){if(Up)return uf.exports;Up=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),uf.exports=W0(),uf.exports}var eE=tE(),xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},nE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,R=h>>2,U=(h&3)<<4|y>>4;let P=(y&15)<<2|v>>6,j=v&63;_||(j=64,d||(P=64)),a.push(i[R],i[U],i[P],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(qy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):nE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const U=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||v==null||U==null)throw new iE;const P=h<<2|y>>4;if(a.push(P),v!==64){const j=y<<4&240|v>>2;if(a.push(j),U!==64){const $=v<<6&192|U;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class iE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rE=function(s){const e=qy(s);return Hy.encodeByteArray(e,!0)},Oo=function(s){return rE(s).replace(/\./g,"")},aE=function(s){try{return Hy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=()=>sE().__FIREBASE_DEFAULTS__,uE=()=>{if(typeof process>"u"||typeof xp>"u")return;const s=xp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},oE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&aE(s[1]);return e&&JSON.parse(e)},jf=()=>{try{return lE()||uE()||oE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},cE=s=>{var e,i;return(i=(e=jf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},hE=s=>{const e=cE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},jy=()=>{var s;return(s=jf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Oo(JSON.stringify(i)),Oo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gE(){var s;const e=(s=jf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pE(){return!gE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yE(){try{return typeof indexedDB=="object"}catch{return!1}}function _E(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="FirebaseError";class _s extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=vE,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gy.prototype.create)}}class Gy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?EE(h,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new _s(o,y,a)}}function EE(s,e){return s.replace(TE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const TE=/\{\$([^}]+)}/g;function Tf(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(zp(h)&&zp(d)){if(!Tf(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function zp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(s){return s&&s._delegate?s._delegate:s}class Ll{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new fE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bE(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:SE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SE(s){return s===sa?void 0:s}function bE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new AE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const wE={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},DE=Nt.INFO,CE={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},VE=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=CE[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=DE,this._logHandler=VE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const OE=(s,e)=>e.some(i=>s instanceof i);let Lp,Bp;function ME(){return Lp||(Lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IE(){return Bp||(Bp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fy=new WeakMap,Af=new WeakMap,Ky=new WeakMap,ff=new WeakMap,Gf=new WeakMap;function NE(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(yr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Fy.set(i,s)}).catch(()=>{}),Gf.set(e,s),e}function UE(s){if(Af.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Af.set(s,e)}let Sf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Af.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Ky.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function xE(s){Sf=s(Sf)}function zE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(df(this),e,...i);return Ky.set(a,e.sort?e.sort():[e]),yr(a)}:IE().includes(s)?function(...e){return s.apply(df(this),e),yr(Fy.get(this))}:function(...e){return yr(s.apply(df(this),e))}}function LE(s){return typeof s=="function"?zE(s):(s instanceof IDBTransaction&&UE(s),OE(s,ME())?new Proxy(s,Sf):s)}function yr(s){if(s instanceof IDBRequest)return NE(s);if(ff.has(s))return ff.get(s);const e=LE(s);return e!==s&&(ff.set(s,e),Gf.set(e,s)),e}const df=s=>Gf.get(s);function BE(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=yr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(yr(d.result),_.oldVersion,_.newVersion,yr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const PE=["get","getKey","getAll","getAllKeys","count"],kE=["put","add","delete","clear"],mf=new Map;function Pp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=kE.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||PE.includes(i)))return;const h=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),o&&_.done]))[0]};return mf.set(e,h),h}xE(s=>({...s,get:(e,i,a)=>Pp(e,i)||s.get(e,i,a),has:(e,i)=>!!Pp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HE(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function HE(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bf="@firebase/app",kp="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Qy("@firebase/app"),jE="@firebase/app-compat",GE="@firebase/analytics-compat",QE="@firebase/analytics",FE="@firebase/app-check-compat",KE="@firebase/app-check",YE="@firebase/auth",XE="@firebase/auth-compat",ZE="@firebase/database",$E="@firebase/data-connect",JE="@firebase/database-compat",WE="@firebase/functions",tT="@firebase/functions-compat",eT="@firebase/installations",nT="@firebase/installations-compat",iT="@firebase/messaging",rT="@firebase/messaging-compat",aT="@firebase/performance",sT="@firebase/performance-compat",lT="@firebase/remote-config",uT="@firebase/remote-config-compat",oT="@firebase/storage",cT="@firebase/storage-compat",hT="@firebase/firestore",fT="@firebase/vertexai",dT="@firebase/firestore-compat",mT="firebase",gT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="[DEFAULT]",pT={[bf]:"fire-core",[jE]:"fire-core-compat",[QE]:"fire-analytics",[GE]:"fire-analytics-compat",[KE]:"fire-app-check",[FE]:"fire-app-check-compat",[YE]:"fire-auth",[XE]:"fire-auth-compat",[ZE]:"fire-rtdb",[$E]:"fire-data-connect",[JE]:"fire-rtdb-compat",[WE]:"fire-fn",[tT]:"fire-fn-compat",[eT]:"fire-iid",[nT]:"fire-iid-compat",[iT]:"fire-fcm",[rT]:"fire-fcm-compat",[aT]:"fire-perf",[sT]:"fire-perf-compat",[lT]:"fire-rc",[uT]:"fire-rc-compat",[oT]:"fire-gcs",[cT]:"fire-gcs-compat",[hT]:"fire-fst",[dT]:"fire-fst-compat",[fT]:"fire-vertex","fire-js":"fire-js",[mT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Map,yT=new Map,wf=new Map;function qp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Io(s){const e=s.name;if(wf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;wf.set(e,s);for(const i of Mo.values())qp(i,s);for(const i of yT.values())qp(i,s);return!0}function _T(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function vT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new Gy("app","Firebase",ET);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=gT;function Yy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Rf,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(i||(i=jy()),!i)throw _r.create("no-options");const h=Mo.get(o);if(h){if(Tf(i,h.options)&&Tf(a,h.config))return h;throw _r.create("duplicate-app",{appName:o})}const d=new RE(o);for(const _ of wf.values())d.addComponent(_);const y=new TT(i,a,d);return Mo.set(o,y),y}function ST(s=Rf){const e=Mo.get(s);if(!e&&s===Rf&&jy())return Yy();if(!e)throw _r.create("no-app",{appName:s});return e}function os(s,e,i){var a;let o=(a=pT[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const y=[`Unable to register library "${o}" with version "${e}":`];h&&y.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&y.push("and"),d&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(y.join(" "));return}Io(new Ll(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebase-heartbeat-database",RT=1,Bl="firebase-heartbeat-store";let gf=null;function Xy(){return gf||(gf=BE(bT,RT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),gf}async function wT(s){try{const i=(await Xy()).transaction(Bl),a=await i.objectStore(Bl).get(Zy(s));return await i.done,a}catch(e){if(e instanceof _s)Oi.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Hp(s,e){try{const a=(await Xy()).transaction(Bl,"readwrite");await a.objectStore(Bl).put(e,Zy(s)),await a.done}catch(i){if(i instanceof _s)Oi.warn(i.message);else{const a=_r.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function Zy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=1024,CT=30;class VT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=jp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>CT){const d=IT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=jp(),{heartbeatsToSend:a,unsentEntries:o}=OT(this._heartbeatsCache.heartbeats),h=Oo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function jp(){return new Date().toISOString().substring(0,10)}function OT(s,e=DT){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Gp(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class MT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yE()?_E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Gp(s){return Oo(JSON.stringify({version:2,heartbeats:s})).length}function IT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(s){Io(new Ll("platform-logger",e=>new qE(e),"PRIVATE")),Io(new Ll("heartbeat",e=>new VT(e),"PRIVATE")),os(bf,kp,s),os(bf,kp,"esm2017"),os("fire-js","")}NT("");var UT="firebase",xT="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(UT,xT,"app");var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,$y;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function A(){}A.prototype=b.prototype,I.D=b.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(D,M,z){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return b.prototype[M].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,A){A||(A=0);var D=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)D[M]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=I.g[0],A=I.g[1],M=I.g[2];var z=I.g[3],w=b+(z^A&(M^z))+D[0]+3614090360&4294967295;b=A+(w<<7&4294967295|w>>>25),w=z+(M^b&(A^M))+D[1]+3905402710&4294967295,z=b+(w<<12&4294967295|w>>>20),w=M+(A^z&(b^A))+D[2]+606105819&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(b^M&(z^b))+D[3]+3250441966&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(z^A&(M^z))+D[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(M^b&(A^M))+D[5]+1200080426&4294967295,z=b+(w<<12&4294967295|w>>>20),w=M+(A^z&(b^A))+D[6]+2821735955&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(b^M&(z^b))+D[7]+4249261313&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(z^A&(M^z))+D[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(M^b&(A^M))+D[9]+2336552879&4294967295,z=b+(w<<12&4294967295|w>>>20),w=M+(A^z&(b^A))+D[10]+4294925233&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(b^M&(z^b))+D[11]+2304563134&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(z^A&(M^z))+D[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(M^b&(A^M))+D[13]+4254626195&4294967295,z=b+(w<<12&4294967295|w>>>20),w=M+(A^z&(b^A))+D[14]+2792965006&4294967295,M=z+(w<<17&4294967295|w>>>15),w=A+(b^M&(z^b))+D[15]+1236535329&4294967295,A=M+(w<<22&4294967295|w>>>10),w=b+(M^z&(A^M))+D[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(b^A))+D[6]+3225465664&4294967295,z=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(z^b))+D[11]+643717713&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(M^z))+D[0]+3921069994&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(M^z&(A^M))+D[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(b^A))+D[10]+38016083&4294967295,z=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(z^b))+D[15]+3634488961&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(M^z))+D[4]+3889429448&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(M^z&(A^M))+D[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(b^A))+D[14]+3275163606&4294967295,z=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(z^b))+D[3]+4107603335&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(M^z))+D[8]+1163531501&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(M^z&(A^M))+D[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^M&(b^A))+D[2]+4243563512&4294967295,z=b+(w<<9&4294967295|w>>>23),w=M+(b^A&(z^b))+D[7]+1735328473&4294967295,M=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(M^z))+D[12]+2368359562&4294967295,A=M+(w<<20&4294967295|w>>>12),w=b+(A^M^z)+D[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^M)+D[8]+2272392833&4294967295,z=b+(w<<11&4294967295|w>>>21),w=M+(z^b^A)+D[11]+1839030562&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^b)+D[14]+4259657740&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(A^M^z)+D[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^M)+D[4]+1272893353&4294967295,z=b+(w<<11&4294967295|w>>>21),w=M+(z^b^A)+D[7]+4139469664&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^b)+D[10]+3200236656&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(A^M^z)+D[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^M)+D[0]+3936430074&4294967295,z=b+(w<<11&4294967295|w>>>21),w=M+(z^b^A)+D[3]+3572445317&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^b)+D[6]+76029189&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(A^M^z)+D[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^M)+D[12]+3873151461&4294967295,z=b+(w<<11&4294967295|w>>>21),w=M+(z^b^A)+D[15]+530742520&4294967295,M=z+(w<<16&4294967295|w>>>16),w=A+(M^z^b)+D[2]+3299628645&4294967295,A=M+(w<<23&4294967295|w>>>9),w=b+(M^(A|~z))+D[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~M))+D[7]+1126891415&4294967295,z=b+(w<<10&4294967295|w>>>22),w=M+(b^(z|~A))+D[14]+2878612391&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~b))+D[5]+4237533241&4294967295,A=M+(w<<21&4294967295|w>>>11),w=b+(M^(A|~z))+D[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~M))+D[3]+2399980690&4294967295,z=b+(w<<10&4294967295|w>>>22),w=M+(b^(z|~A))+D[10]+4293915773&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~b))+D[1]+2240044497&4294967295,A=M+(w<<21&4294967295|w>>>11),w=b+(M^(A|~z))+D[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~M))+D[15]+4264355552&4294967295,z=b+(w<<10&4294967295|w>>>22),w=M+(b^(z|~A))+D[6]+2734768916&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~b))+D[13]+1309151649&4294967295,A=M+(w<<21&4294967295|w>>>11),w=b+(M^(A|~z))+D[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~M))+D[11]+3174756917&4294967295,z=b+(w<<10&4294967295|w>>>22),w=M+(b^(z|~A))+D[2]+718787259&4294967295,M=z+(w<<15&4294967295|w>>>17),w=A+(z^(M|~b))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}a.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var A=b-this.blockSize,D=this.B,M=this.h,z=0;z<b;){if(M==0)for(;z<=A;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<b;)if(D[M++]=I.charCodeAt(z++),M==this.blockSize){o(this,D),M=0;break}}else for(;z<b;)if(D[M++]=I[z++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=b},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var A=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=A&255,A/=256;for(this.u(I),I=Array(16),b=A=0;4>b;++b)for(var D=0;32>D;D+=8)I[A++]=this.g[b]>>>D&255;return I};function h(I,b){var A=y;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=b(I)}function d(I,b){this.h=b;for(var A=[],D=!0,M=I.length-1;0<=M;M--){var z=I[M]|0;D&&z==b||(A[M]=z,D=!1)}this.g=A}var y={};function _(I){return-128<=I&&128>I?h(I,function(b){return new d([b|0],0>b?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return U;if(0>I)return Z(v(-I));for(var b=[],A=1,D=0;I>=A;D++)b[D]=I/A|0,A*=4294967296;return new d(b,0)}function R(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Z(R(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),D=U,M=0;M<I.length;M+=8){var z=Math.min(8,I.length-M),w=parseInt(I.substring(M,M+z),b);8>z?(z=v(Math.pow(b,z)),D=D.j(z).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var U=_(0),P=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Z(this).m();for(var I=0,b=1,A=0;A<this.g.length;A++){var D=this.i(A);I+=(0<=D?D:4294967296+D)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(I);for(var b=v(Math.pow(I,6)),A=this,D="";;){var M=Qt(A,b).g;A=St(A,M.j(b));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=M,$(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function nt(I){return I.h==-1}s.l=function(I){return I=St(this,I),nt(I)?-1:$(I)?0:1};function Z(I){for(var b=I.g.length,A=[],D=0;D<b;D++)A[D]=~I.g[D];return new d(A,~I.h).add(P)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],D=0,M=0;M<=b;M++){var z=D+(this.i(M)&65535)+(I.i(M)&65535),w=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);D=w>>>16,z&=65535,w&=65535,A[M]=w<<16|z}return new d(A,A[A.length-1]&-2147483648?-1:0)};function St(I,b){return I.add(Z(b))}s.j=function(I){if($(this)||$(I))return U;if(nt(this))return nt(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(nt(I))return Z(this.j(Z(I)));if(0>this.l(j)&&0>I.l(j))return v(this.m()*I.m());for(var b=this.g.length+I.g.length,A=[],D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<I.g.length;M++){var z=this.i(D)>>>16,w=this.i(D)&65535,me=I.i(M)>>>16,ue=I.i(M)&65535;A[2*D+2*M]+=w*ue,dt(A,2*D+2*M),A[2*D+2*M+1]+=z*ue,dt(A,2*D+2*M+1),A[2*D+2*M+1]+=w*me,dt(A,2*D+2*M+1),A[2*D+2*M+2]+=z*me,dt(A,2*D+2*M+2)}for(D=0;D<b;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=b;D<2*b;D++)A[D]=0;return new d(A,0)};function dt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function Et(I,b){this.g=I,this.h=b}function Qt(I,b){if($(b))throw Error("division by zero");if($(I))return new Et(U,U);if(nt(I))return b=Qt(Z(I),b),new Et(Z(b.g),Z(b.h));if(nt(b))return b=Qt(I,Z(b)),new Et(Z(b.g),b.h);if(30<I.g.length){if(nt(I)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var A=P,D=b;0>=D.l(I);)A=yt(A),D=yt(D);var M=Ut(A,1),z=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!$(D);){var w=z.add(D);0>=w.l(I)&&(M=M.add(A),z=w),D=Ut(D,1),A=Ut(A,1)}return b=St(I,M.j(b)),new Et(M,b)}for(M=U;0<=I.l(b);){for(A=Math.max(1,Math.floor(I.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=v(A),w=z.j(b);nt(w)||0<w.l(I);)A-=D,z=v(A),w=z.j(b);$(z)&&(z=P),M=M.add(z),I=St(I,w)}return new Et(M,I)}s.A=function(I){return Qt(this,I).h},s.and=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)&I.i(D);return new d(A,this.h&I.h)},s.or=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)|I.i(D);return new d(A,this.h|I.h)},s.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)^I.i(D);return new d(A,this.h^I.h)};function yt(I){for(var b=I.g.length+1,A=[],D=0;D<b;D++)A[D]=I.i(D)<<1|I.i(D-1)>>>31;return new d(A,I.h)}function Ut(I,b){var A=b>>5;b%=32;for(var D=I.g.length-A,M=[],z=0;z<D;z++)M[z]=0<b?I.i(z+A)>>>b|I.i(z+A+1)<<32-b:I.i(z+A);return new d(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,$y=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,vr=d}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});var vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jy,Ol,Wy,Ro,Df,t_,e_,n_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vo=="object"&&vo];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in g))break t;g=g[x]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var g=0,T=!1,x={next:function(){if(!T&&g<u.length){var k=g++;return{value:m(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},y=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function R(u,m,g){return u.call.apply(u.bind,arguments)}function U(u,m,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),u.apply(m,x)}}return function(){return u.apply(m,arguments)}}function P(u,m,g){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:U,P.apply(null,arguments)}function j(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,x,k){for(var X=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)X[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,X)}}function nt(u){const m=u.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function Z(u,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const x=u.length||0,k=T.length||0;u.length=x+k;for(let X=0;X<k;X++)u[x+X]=T[X]}else u.push(T)}}class St{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function Et(){var u=y.navigator;return u&&(u=u.userAgent)?u:""}function Qt(u){return Qt[" "](u),u}Qt[" "]=function(){};var yt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function Ut(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function I(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function b(u){const m={};for(const g in u)m[g]=u[g];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)u[g]=T[g];for(let k=0;k<A.length;k++)g=A[k],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function M(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function z(u){y.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,g){const T=ue.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new St(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,lt=!1,Pt=new me,C=()=>{const u=y.Promise.resolve(void 0);ht=()=>{u.then(K)}};var K=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(g){z(g)}var m=ue;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};y.addEventListener("test",g,m),y.removeEventListener("test",g,m)}catch{}return u}();function Tt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{Qt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}$(Tt,W);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),xt=0;function Wt(u,m,g,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function Ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,g,T,x){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var X=cn(u,m,T,x);return-1<X?(m=u[X],g||(m.fa=!1)):(m=new Wt(m,this.src,k,!!T,x),m.fa=g,u.push(m)),m};function ni(u,m){var g=m.type;if(g in u.g){var T=u.g[g],x=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=x)&&Array.prototype.splice.call(T,x,1),k&&(Ht(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function cn(u,m,g,T){for(var x=0;x<u.length;++x){var k=u[x];if(!k.da&&k.listener==m&&k.capture==!!g&&k.ha==T)return x}return-1}var Ni="closure_lm_"+(1e6*Math.random()|0),Ui={};function ii(u,m,g,T,x){if(Array.isArray(m)){for(var k=0;k<m.length;k++)ii(u,m[k],g,T,x);return null}return g=$l(g),u&&u[oe]?u.K(m,g,v(T)?!!T.capture:!1,x):Ss(u,m,g,!1,T,x)}function Ss(u,m,g,T,x,k){if(!m)throw Error("Invalid event type");var X=v(x)?!!x.capture:!!x,Vt=bs(u);if(Vt||(u[Ni]=Vt=new Qe(u)),g=Vt.add(m,g,T,X,k),g.proxy)return g;if(T=ma(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)tt||(x=X),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent(pa(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ma(){function u(g){return m.call(u.src,u.listener,g)}const m=lc;return u}function ga(u,m,g,T,x){if(Array.isArray(m))for(var k=0;k<m.length;k++)ga(u,m[k],g,T,x);else T=v(T)?!!T.capture:!!T,g=$l(g),u&&u[oe]?(u=u.i,m=String(m).toString(),m in u.g&&(k=u.g[m],g=cn(k,g,T,x),-1<g&&(Ht(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete u.g[m],u.h--)))):u&&(u=bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=cn(m,g,T,x)),(g=-1<u?m[u]:null)&&Cr(g))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])ni(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(pa(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=bs(m))?(ni(g,u),g.h==0&&(g.src=null,m[Ni]=null)):Ht(u)}}}function pa(u){return u in Ui?Ui[u]:Ui[u]="on"+u}function lc(u,m){if(u.da)u=!0;else{m=new Tt(m,this);var g=u.listener,T=u.ha||u.src;u.fa&&Cr(u),u=g.call(T,m)}return u}function bs(u){return u=u[Ni],u instanceof Qe?u:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(u){return typeof u=="function"?u:(u[$e]||(u[$e]=function(m){return u.handleEvent(m)}),u[$e])}function ge(){at.call(this),this.i=new Qe(this),this.M=this,this.F=null}$(ge,at),ge.prototype[oe]=!0,ge.prototype.removeEventListener=function(u,m,g,T){ga(this,u,m,g,T)};function be(u,m){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var x=m;m=new W(T,u),D(m,x)}if(x=!0,g)for(var k=g.length-1;0<=k;k--){var X=m.g=g[k];x=ri(X,T,!0,m)&&x}if(X=m.g=u,x=ri(X,T,!0,m)&&x,x=ri(X,T,!1,m)&&x,g)for(k=0;k<g.length;k++)X=m.g=g[k],x=ri(X,T,!1,m)&&x}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],T=0;T<g.length;T++)Ht(g[T]);delete u.g[m],u.h--}}this.F=null},ge.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},ge.prototype.L=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function ri(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,k=0;k<m.length;++k){var X=m[k];if(X&&!X.da&&X.capture==g){var Vt=X.listener,ye=X.ha||X.src;X.fa&&ni(u.i,X),x=Vt.call(ye,T)!==!1&&x}}return x&&!T.defaultPrevented}function Jl(u,m,g){if(typeof u=="function")g&&(u=P(u,g));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:y.setTimeout(u,m||0)}function Rs(u){u.g=Jl(()=>{u.g=null,u.i&&(u.i=!1,Rs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class uc extends at{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(u){at.call(this),this.h=u,this.g={}}$(Vr,at);var xi=[];function Pe(u){Ut(u.g,function(m,g){this.g.hasOwnProperty(g)&&Cr(m)},u),u.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Pe(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ws=y.JSON.stringify,xn=y.JSON.parse,Fe=class{stringify(u){return y.JSON.stringify(u,void 0)}parse(u){return y.JSON.parse(u,void 0)}};function Ds(){}Ds.prototype.h=null;function Wl(u){return u.h||(u.h=u.i())}function tu(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){W.call(this,"d")}$(zi,W);function Cn(){W.call(this,"c")}$(Cn,W);var hn={},Li=null;function ya(){return Li=Li||new ge}hn.La="serverreachability";function Cs(u){W.call(this,hn.La,u)}$(Cs,W);function Bi(u){const m=ya();be(m,new Cs(m))}hn.STAT_EVENT="statevent";function _a(u,m){W.call(this,hn.STAT_EVENT,u),this.stat=m}$(_a,W);function ae(u){const m=ya();be(m,new _a(m,u))}hn.Ma="timingevent";function eu(u,m){W.call(this,hn.Ma,u),this.size=m}$(eu,W);function Pi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){u()},m)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function nu(u,m,g,T,x,k){u.info(function(){if(u.g)if(k)for(var X="",Vt=k.split("&"),ye=0;ye<Vt.length;ye++){var Ot=Vt[ye].split("=");if(1<Ot.length){var De=Ot[0];Ot=Ot[1];var _e=De.split("_");X=2<=_e.length&&_e[1]=="type"?X+(De+"="+Ot+"&"):X+(De+"=redacted&")}}else X=null;else X=k;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+g+`
`+X})}function iu(u,m,g,T,x,k,X){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+g+`
`+k+" "+X})}function qi(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Re(u,g)+(T?" "+T:"")})}function Ln(u,m){u.info(function(){return"TIMEOUT: "+m})}ki.prototype.info=function(){};function Re(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var X=1;X<x.length;X++)x[X]=""}}}}return ws(g)}catch{return m}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function va(){}$(va,Ds),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},Or=new va;function Bn(u,m,g,T){this.j=u,this.i=m,this.l=g,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}var Hi={},Mr={};function Vn(u,m,g){u.L=1,u.v=Ur(te(m)),u.m=g,u.P=!0,si(u,null)}function si(u,m){u.F=Date.now(),Xt(u),u.A=te(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),oi(g.i,"t",T),u.C=0,g=u.j.J,u.h=new Vs,u.g=yu(u.j,g?m:null,!u.m),0<u.O&&(u.M=new uc(P(u.Y,u,u.g),u.O)),m=u.U,g=u.g,T=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(xi[0]=x.toString()),x=xi);for(var k=0;k<x.length;k++){var X=ii(g,x[k],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),nu(u.i,u.u,u.A,u.l,u.R,u.m)}Bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&pn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const _e=pn(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||_e!=4||m==7||(m==8||0>=di?Bi(3):Bi(2)),Ea(this);var g=this.g.Z();this.X=g;e:if(ji(this)){var T=ou(this.g);u="";var x=T.length,k=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),en(this);var X="";break e}this.h.i=new y.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(k&&m==x-1)});T.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,iu(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Vt)){var Ot=Vt;break e}}Ot=null}if(g=Ot)qi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nn(this,g);else{this.o=!1,this.s=3,ae(12),Je(this),en(this);break t}}if(this.P){g=!0;let Ie;for(;!this.J&&this.C<X.length;)if(Ie=Gi(this,X),Ie==Mr){_e==4&&(this.s=4,ae(14),g=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Hi){this.s=4,ae(15),qi(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else qi(this.i,this.l,Ie,null),nn(this,Ie);if(ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||X.length!=0||this.h.h||(this.s=1,ae(16),g=!1),this.o=this.o&&g,!g)qi(this.i,this.l,X,"[Invalid Chunked Response]"),Je(this),en(this);else if(0<X.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),qr(De),De.M=!0,ae(11))}}else qi(this.i,this.l,X,null),nn(this,X);_e==4&&Je(this),this.o&&!this.J&&(_e==4?mu(this.j,this):(this.o=!1,Xt(this)))}else mc(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Je(this),en(this)}}}catch{}finally{}};function ji(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gi(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?Mr:(g=Number(m.substring(g,T)),isNaN(g)?Hi:(T+=1,T+g>m.length?Mr:(m=m.slice(T,T+g),u.C=T+g,m)))}Bn.prototype.cancel=function(){this.J=!0,Je(this)};function Xt(u){u.S=Date.now()+u.I,Os(u,u.I)}function Os(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Pi(P(u.ba,u),m)}function Ea(u){u.B&&(y.clearTimeout(u.B),u.B=null)}Bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ln(this.i,this.A),this.L!=2&&(Bi(),ae(17)),Je(this),this.s=2,en(this)):Os(this,this.S-u)};function en(u){u.j.G==0||u.J||mu(u.j,u)}function Je(u){Ea(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function nn(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||Qi(g.h,u))){if(!u.K&&Qi(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Oa(g),Ca(g);else break t;qs(g),ae(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=Pi(P(g.Za,g),6e3));if(1>=ru(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else fi(g,11)}else if((u.K||g.g==u)&&Oa(g),!dt(m))for(x=g.Da.g.parse(m),m=0;m<x.length;m++){let Ot=x[m];if(g.T=Ot[0],Ot=Ot[1],g.G==2)if(Ot[0]=="c"){g.K=Ot[1],g.ia=Ot[2];const De=Ot[3];De!=null&&(g.la=De,g.j.info("VER="+g.la));const _e=Ot[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const di=Ot[5];di!=null&&typeof di=="number"&&0<di&&(T=1.5*di,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ie=u.g;if(Ie){const Qn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var k=T.h;k.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Fi(k,k.h),k.h=null))}if(T.D){const js=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(T.ya=js,zt(T.I,T.D,js))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var X=u;if(T.qa=pu(T,T.J?T.ia:null,T.W),X.K){fn(T.h,X);var Vt=X,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Ea(Vt),Xt(Vt)),T.g=X}else fu(T);0<g.i.length&&Va(g)}else Ot[0]!="stop"&&Ot[0]!="close"||fi(g,7);else g.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?fi(g,7):Ps(g):Ot[0]!="noop"&&g.l&&g.l.ta(Ot),g.v=0)}}Bi(4)}catch{}}var oc=class{constructor(u,m){this.g=u,this.map=m}};function Ms(u){this.l=u||10,y.PerformanceNavigationTiming?(u=y.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Is(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ru(u){return u.h?1:u.g?u.g.size:0}function Qi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fi(u,m){u.g?u.g.add(m):u.h=m}function fn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ms.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ke(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return nt(u.i)}function au(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],g=u.length,T=0;T<g;T++)m.push(u[T]);return m}m=[],g=0;for(T in u)m[g++]=u[T];return m}function cc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const T in u)m[g++]=T;return m}}}function Ir(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=cc(u),T=au(u),x=T.length,k=0;k<x;k++)m.call(void 0,T[k],g&&g[k],u)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),x=null;if(0<=T){var k=u[g].substring(0,T);x=u[g].substring(T+1)}else k=u[g];m(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function li(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof li){this.h=u.h,Ki(this,u.j),this.o=u.o,this.g=u.g,Nr(this,u.s),this.l=u.l;var m=u.i,g=new Pn;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Aa(this,g),this.m=u.m}else u&&(m=String(u).match(Ns))?(this.h=!1,Ki(this,m[1]||"",!0),this.o=Yi(m[2]||""),this.g=Yi(m[3]||"",!0),Nr(this,m[4]),this.l=Yi(m[5]||"",!0),Aa(this,m[6]||"",!0),this.m=Yi(m[7]||"")):(this.h=!1,this.i=new Pn(null,this.h))}li.prototype.toString=function(){var u=[],m=this.j;m&&u.push(dn(m,Us,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dn(m,Us,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(dn(g,g.charAt(0)=="/"?xs:su,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",dn(g,dc)),u.join("")};function te(u){return new li(u)}function Ki(u,m,g){u.j=g?Yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Nr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Aa(u,m,g){m instanceof Pn?(u.i=m,zs(u.i,u.h)):(g||(m=dn(m,fc)),u.i=new Pn(m,u.h))}function zt(u,m,g){u.i.set(m,g)}function Ur(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dn(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,hc),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,su=/[#\?:]/g,xs=/[#\?]/g,fc=/[#\?@]/g,dc=/#/g;function Pn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=Pn.prototype,s.add=function(u,m){mn(this),this.i=null,u=ci(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Sa(u,m){mn(u),m=ci(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ui(u,m){return mn(u),m=ci(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(g,T){g.forEach(function(x){u.call(m,x,T,this)},this)},this)},s.na=function(){mn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const x=u[T];for(let k=0;k<x.length;k++)g.push(m[T])}return g},s.V=function(u){mn(this);let m=[];if(typeof u=="string")ui(this,u)&&(m=m.concat(this.g.get(ci(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},s.set=function(u,m){return mn(this),this.i=null,u=ci(this,u),ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function oi(u,m,g){Sa(u,m),0<g.length&&(u.i=null,u.g.set(ci(u,m),nt(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const k=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var x=k;X[T]!==""&&(x+="="+encodeURIComponent(String(X[T]))),u.push(x)}}return this.i=u.join("&")};function ci(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zs(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(Sa(this,T),oi(this,x,g))},u)),u.j=m}function lu(u,m){const g=new ki;if(y.Image){const T=new Image;T.onload=j(gn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=j(gn,g,"TestLoadImage: error",!1,m,T),T.onabort=j(gn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(gn,g,"TestLoadImage: timeout",!1,m,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function xr(u,m){const g=new ki,T=new AbortController,x=setTimeout(()=>{T.abort(),gn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(x),k.ok?gn(g,"TestPingServer: ok",!0,m):gn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),gn(g,"TestPingServer: error",!1,m)})}function gn(u,m,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function zr(){this.g=new Fe}function kn(u,m,g){const T=g||"";try{Ir(u,function(x,k){let X=x;v(x)&&(X=ws(x)),m.push(T+k+"="+encodeURIComponent(X))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Xi,Ds),Xi.prototype.g=function(){return new hi(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function hi(u,m){ge.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(hi,ge),s=hi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||y).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ls(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ls(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Hn(this),this.readyState==3&&Ls(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},s.Qa=function(u){this.g&&(this.response=u,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bs(u){let m="";return Ut(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function we(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Bs(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):zt(u,m,g))}function kt(u){ge.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,ge);var ba=/^https?$/i,Lr=["POST","PUT"];s=kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?Wl(this.o):Wl(Or),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){uu(this,k);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),x=y.FormData&&u instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Lr,m,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,X]of g)this.g.setRequestHeader(k,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){uu(this,k)}};function uu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ra(u),jn(u)}function Ra(u){u.A||(u.A=!0,be(u,"complete"),be(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,be(this,"complete"),be(this,"abort"),jn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},s.bb=function(){wa(this)};function wa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||pn(u)!=4||u.Z()!=2)){if(u.u&&pn(u)==4)Jl(u.Ea,0,u);else if(be(u,"readystatechange"),pn(u)==4){u.h=!1;try{const X=u.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=X===0){var x=String(u.D).match(Ns)[1]||null;!x&&y.self&&y.self.location&&(x=y.self.location.protocol.slice(0,-1)),T=!ba.test(x?x.toLowerCase():"")}g=T}if(g)be(u,"complete"),be(u,"success");else{u.m=6;try{var k=2<pn(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",Ra(u)}}finally{jn(u)}}}}function jn(u,m){if(u.g){Br(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||be(u,"ready");try{g.onreadystatechange=T}catch{}}}function Br(u){u.I&&(y.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function pn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xn(m)}};function ou(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mc(u){const m={};u=(u.g&&2<=pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var g=M(u[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=m[x]||[];m[x]=k,k.push(g)}I(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Da(u){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,u),this.cb=Pr("retryDelaySeedMs",1e4,u),this.Wa=Pr("forwardChannelMaxRetries",2,u),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ms(u&&u.concurrentRequestLimit),this.Da=new zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Da.prototype,s.la=8,s.G=1,s.connect=function(u,m,g,T){ae(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=pu(this,null,this.W),Va(this)};function Ps(u){if(cu(u),u.G==3){var m=u.U++,g=te(u.I);if(zt(g,"SID",u.K),zt(g,"RID",m),zt(g,"TYPE","terminate"),kr(u,g),m=new Bn(u,u.j,m),m.L=2,m.v=Ur(te(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=m.v,g=!0),g||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xt(m)}gu(u)}function Ca(u){u.g&&(qr(u),u.g.cancel(),u.g=null)}function cu(u){Ca(u),u.u&&(y.clearTimeout(u.u),u.u=null),Oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&y.clearTimeout(u.s),u.s=null)}function Va(u){if(!Is(u.h)&&!u.s){u.s=!0;var m=u.Ga;ht||C(),lt||(ht(),lt=!0),Pt.add(m,u),u.B=0}}function gc(u,m){return ru(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Pi(P(u.Ga,u,m),Hs(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const x=new Bn(this,this.j,u);let k=this.o;if(this.S&&(k?(k=b(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=hu(this,x,m),g=te(this.I),zt(g,"RID",u),zt(g,"CVER",22),this.D&&zt(g,"X-HTTP-Session-Id",this.D),kr(this,g),k&&(this.O?m="headers="+encodeURIComponent(String(Bs(k)))+"&"+m:this.m&&we(g,this.m,k)),Fi(this.h,x),this.Ua&&zt(g,"TYPE","init"),this.P?(zt(g,"$req",m),zt(g,"SID","null"),x.T=!0,Vn(x,g,null)):Vn(x,g,m),this.G=2}}else this.G==3&&(u?ks(this,u):this.i.length==0||Is(this.h)||ks(this))};function ks(u,m){var g;m?g=m.l:g=u.U++;const T=te(u.I);zt(T,"SID",u.K),zt(T,"RID",g),zt(T,"AID",u.T),kr(u,T),u.m&&u.o&&we(T,u.m,u.o),g=new Bn(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=hu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fi(u.h,g),Vn(g,T,m)}function kr(u,m){u.H&&Ut(u.H,function(g,T){zt(m,T,g)}),u.l&&Ir({},function(g,T){zt(m,T,g)})}function hu(u,m,g){g=Math.min(u.i.length,g);var T=u.l?P(u.l.Na,u.l,u):null;t:{var x=u.i;let k=-1;for(;;){const X=["count="+g];k==-1?0<g?(k=x[0].g,X.push("ofs="+k)):k=0:X.push("ofs="+k);let Vt=!0;for(let ye=0;ye<g;ye++){let Ot=x[ye].g;const De=x[ye].map;if(Ot-=k,0>Ot)k=Math.max(0,x[ye].g-100),Vt=!1;else try{kn(De,X,"req"+Ot+"_")}catch{T&&T(De)}}if(Vt){T=X.join("&");break t}}}return u=u.i.splice(0,g),m.D=u,T}function fu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ht||C(),lt||(ht(),lt=!0),Pt.add(m,u),u.v=0}}function qs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Pi(P(u.Fa,u),Hs(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Pi(P(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Ca(this),du(this))};function qr(u){u.A!=null&&(y.clearTimeout(u.A),u.A=null)}function du(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=te(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),kr(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ur(te(m)),g.m=null,g.P=!0,si(g,u)}s.Za=function(){this.C!=null&&(this.C=null,Ca(this),qs(this),ae(19))};function Oa(u){u.C!=null&&(y.clearTimeout(u.C),u.C=null)}function mu(u,m){var g=null;if(u.g==m){Oa(u),qr(u),u.g=null;var T=2}else if(Qi(u.h,m))g=m.D,fn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var x=u.B;T=ya(),be(T,new eu(T,g)),Va(u)}else fu(u);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&gc(u,m)||T==2&&qs(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),x){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function Hs(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var g=P(u.fb,u),T=u.Xa;const x=!T;T=new li(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Ki(T,"https"),Ur(T),x?lu(T.toString(),g):xr(T.toString(),g)}else ae(2);u.G=0,u.l&&u.l.sa(m),gu(u),cu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function gu(u){if(u.G=0,u.ka=[],u.l){const m=Ke(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function pu(u,m,g){var T=g instanceof li?te(g):new li(g);if(T.g!="")m&&(T.g=m+"."+T.g),Nr(T,T.s);else{var x=y.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var k=new li(null);T&&Ki(k,T),m&&(k.g=m),x&&Nr(k,x),g&&(k.l=g),T=k}return g=u.D,m=u.ya,g&&m&&zt(T,g,m),zt(T,"VER",u.la),kr(u,T),T}function yu(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Xi({eb:g})):new kt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ma(){}Ma.prototype.g=function(u,m){return new Ye(u,m)};function Ye(u,m){ge.call(this),this.g=new Da(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}$(Ye,ge),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Ps(this.g)},Ye.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=ws(u),u=g);m.i.push(new oc(m.Ya++,u)),m.G==3&&Va(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,Ye.aa.N.call(this)};function vu(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(vu,zi);function Eu(){Cn.call(this),this.status=1}$(Eu,Cn);function Gn(u){this.g=u}$(Gn,_u),Gn.prototype.ua=function(){be(this.g,"a")},Gn.prototype.ta=function(u){be(this.g,new vu(u))},Gn.prototype.sa=function(u){be(this.g,new Eu)},Gn.prototype.ra=function(){be(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,n_=function(){return new Ma},e_=function(){return ya()},t_=hn,Df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,Ro=pe,ai.COMPLETE="complete",Wy=ai,tu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Ol=tu,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,Jy=kt}).apply(typeof vo<"u"?vo:typeof self<"u"?self:typeof window<"u"?window:{});const Fp="@firebase/firestore",Kp="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vs="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Qy("@firebase/firestore");function rs(){return oa.logLevel}function et(s,...e){if(oa.logLevel<=Nt.DEBUG){const i=e.map(Qf);oa.debug(`Firestore (${vs}): ${s}`,...i)}}function Mi(s,...e){if(oa.logLevel<=Nt.ERROR){const i=e.map(Qf);oa.error(`Firestore (${vs}): ${s}`,...i)}}function hs(s,...e){if(oa.logLevel<=Nt.WARN){const i=e.map(Qf);oa.warn(`Firestore (${vs}): ${s}`,...i)}}function Qf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s="Unexpected state"){const e=`FIRESTORE (${vs}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function qt(s,e){s||ft()}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class LT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class BT{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Er,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},y=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Er)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string"),new i_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new je(e)}}class PT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kT{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new PT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const a=h=>{h.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Yp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new Yp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=HT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Ct(s,e){return s<e?-1:s>e?1:0}function fs(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-62135596800,Zp=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Zp);return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Xp)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zp}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Ae(0,0))}static max(){return new mt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(),a===void 0?a=e.length-i:a>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=$n.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),o=$n.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?$n.extractNumericId(e).compare($n.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class re extends $n{construct(e,i,a){return new re(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new re(i)}static emptyPath(){return new re([])}}const jT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends $n{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return jT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$p}static keyField(){return new Le([$p])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ut(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ut(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(h(),o++)}if(h(),d)throw new ut(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(re.fromString(e))}static fromName(e){return new ot(re.fromString(e).popFirst(5))}static empty(){return new ot(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new re(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function GT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=mt.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new Tr(o,ot.empty(),e)}function QT(s){return new Tr(s.readTime,s.key,Pl)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(mt.min(),ot.empty(),Pl)}static max(){return new Tr(mt.max(),ot.empty(),Pl)}}function FT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:Ct(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==KT)throw s;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let o=0,h=0,d=!1;e.forEach(y=>{++o,y.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(o=>o?Q.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,o)=>{const h=e.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++y,y===h&&a(d)},R=>o(R))}})}static doWhile(e,i){return new Q((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function XT(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ts(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Go.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=-1;function Qo(s){return s==null}function No(s){return s===0&&1/s==-1/0}function ZT(s){return typeof s=="number"&&Number.isInteger(s)&&!No(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="";function $T(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Jp(e)),e=JT(s.get(i),e);return Jp(e)}function JT(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case a_:i+="";break;default:i+=h}}return i}function Jp(s){return s+a_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Dr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function s_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new Jt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eo(this.root,e,this.comparator,!0)}}class Eo{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new ze(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,a,o,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ty(this.data.getIterator())}getIteratorFrom(e){return new ty(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class ty{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Se(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new l_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const WT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(s){if(qt(!!s),typeof s=="string"){let e=0;const i=WT.exec(s);if(qt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Sr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="server_timestamp",o_="__type__",c_="__previous_value__",h_="__local_write_time__";function Kf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[o_])===null||i===void 0?void 0:i.stringValue)===u_}function Fo(s){const e=s.mapValue.fields[c_];return Kf(e)?Fo(e):e}function kl(s){const e=Ar(s.mapValue.fields[h_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,i,a,o,h,d,y,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v}}const Uo="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||Uo}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===Uo}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="__type__",eA="__max__",To={mapValue:{}},d_="__vector__",xo="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Kf(s)?4:iA(s)?9007199254740991:nA(s)?10:11:ft()}function ti(s,e){if(s===e)return!0;const i=br(s);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return kl(s).isEqual(kl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ar(o.timestampValue),y=Ar(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return Sr(o.bytesValue).isEqual(Sr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return le(o.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(o.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return le(o.integerValue)===le(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=le(o.doubleValue),y=le(h.doubleValue);return d===y?No(d)===No(y):isNaN(d)&&isNaN(y)}return!1}(s,e);case 9:return fs(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Wp(d)!==Wp(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!ti(d[_],y[_])))return!1;return!0}(s,e);default:return ft()}}function Hl(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function ds(s,e){if(s===e)return 0;const i=br(s),a=br(e);if(i!==a)return Ct(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(s.booleanValue,e.booleanValue);case 2:return function(h,d){const y=le(h.integerValue||h.doubleValue),_=le(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1}(s,e);case 3:return ey(s.timestampValue,e.timestampValue);case 4:return ey(kl(s),kl(e));case 5:return Ct(s.stringValue,e.stringValue);case 6:return function(h,d){const y=Sr(h),_=Sr(d);return y.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const R=Ct(y[v],_[v]);if(R!==0)return R}return Ct(y.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const y=Ct(le(h.latitude),le(d.latitude));return y!==0?y:Ct(le(h.longitude),le(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ny(s.arrayValue,e.arrayValue);case 10:return function(h,d){var y,_,v,R;const U=h.fields||{},P=d.fields||{},j=(y=U[xo])===null||y===void 0?void 0:y.arrayValue,$=(_=P[xo])===null||_===void 0?void 0:_.arrayValue,nt=Ct(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((R=$==null?void 0:$.values)===null||R===void 0?void 0:R.length)||0);return nt!==0?nt:ny(j,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===To.mapValue&&d===To.mapValue)return 0;if(h===To.mapValue)return 1;if(d===To.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let U=0;U<_.length&&U<R.length;++U){const P=Ct(_[U],R[U]);if(P!==0)return P;const j=ds(y[_[U]],v[R[U]]);if(j!==0)return j}return Ct(_.length,R.length)}(s.mapValue,e.mapValue);default:throw ft()}}function ey(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ct(s,e);const i=Ar(s),a=Ar(e),o=Ct(i.seconds,a.seconds);return o!==0?o:Ct(i.nanos,a.nanos)}function ny(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ds(i[o],a[o]);if(h)return h}return Ct(i.length,a.length)}function ms(s){return Cf(s)}function Cf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Ar(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Sr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Cf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Cf(i.fields[d])}`;return o+"}"}(s.mapValue):ft()}function wo(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fo(s);return e?16+wo(e):16;case 5:return 2*s.stringValue.length;case 6:return Sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+wo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Dr(a.fields,(h,d)=>{o+=h.length+wo(d)}),o}(s.mapValue);default:throw ft()}}function Vf(s){return!!s&&"integerValue"in s}function Yf(s){return!!s&&"arrayValue"in s}function iy(s){return!!s&&"nullValue"in s}function ry(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Do(s){return!!s&&"mapValue"in s}function nA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[f_])===null||i===void 0?void 0:i.stringValue)===d_}function Nl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Dr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Nl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Nl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function iA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Do(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(i)}setAll(e){let i=Le.emptyPath(),a={},o=[];e.forEach((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=Nl(d):o.push(y.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Do(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Do(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Dr(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new on(Nl(this.value))}}function m_(s){const e=[];return Dr(s.fields,(i,a)=>{const o=new Le([i]);if(Do(a)){const h=m_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,i,a,o,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ge(e,0,mt.min(),mt.min(),mt.min(),on.empty(),0)}static newFoundDocument(e,i,a,o){return new Ge(e,1,i,mt.min(),a,o,0)}static newNoDocument(e,i){return new Ge(e,2,i,mt.min(),mt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Ge(e,3,i,mt.min(),mt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,i){this.position=e,this.inclusive=i}}function ay(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=ds(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function sy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,i="asc"){this.field=e,this.dir=i}}function rA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{}class Te extends g_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new sA(e,i,a):i==="array-contains"?new oA(e,a):i==="in"?new cA(e,a):i==="not-in"?new hA(e,a):i==="array-contains-any"?new fA(e,a):new Te(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new lA(e,a):new uA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ds(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(ds(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends g_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ei(e,i)}matches(e){return p_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function p_(s){return s.op==="and"}function y_(s){return aA(s)&&p_(s)}function aA(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function Of(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+ms(s.value);if(y_(s))return s.filters.map(e=>Of(e)).join(",");{const e=s.filters.map(i=>Of(i)).join(",");return`${s.op}(${e})`}}function __(s,e){return s instanceof Te?function(a,o){return o instanceof Te&&a.op===o.op&&a.field.isEqual(o.field)&&ti(a.value,o.value)}(s,e):s instanceof ei?function(a,o){return o instanceof ei&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,y)=>h&&__(d,o.filters[y]),!0):!1}(s,e):void ft()}function v_(s){return s instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${ms(i.value)}`}(s):s instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(v_).join(" ,")+"}"}(s):"Filter"}class sA extends Te{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class lA extends Te{constructor(e,i){super(e,"in",i),this.keys=E_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class uA extends Te{constructor(e,i){super(e,"not-in",i),this.keys=E_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function E_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class oA extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Yf(i)&&Hl(i.arrayValue,this.value)}}class cA extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class hA extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Hl(this.value.arrayValue,i)}}class fA extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Yf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Hl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,i=null,a=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.le=null}}function ly(s,e=null,i=[],a=[],o=null,h=null,d=null){return new dA(s,e,i,a,o,h,d)}function Xf(s){const e=pt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Of(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Qo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ms(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ms(a)).join(",")),e.le=i}return e.le}function Zf(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!rA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!__(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!sy(s.startAt,e.startAt)&&sy(s.endAt,e.endAt)}function Mf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i=null,a=[],o=[],h=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mA(s,e,i,a,o,h,d,y){return new Ko(s,e,i,a,o,h,d,y)}function $f(s){return new Ko(s)}function uy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gA(s){return s.collectionGroup!==null}function Ul(s){const e=pt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Se(Le.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(y=y.add(v.field))})}),y})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Lo(h,a))}),i.has(Le.keyField().canonicalString())||e.he.push(new Lo(Le.keyField(),a))}return e.he}function Jn(s){const e=pt(s);return e.Pe||(e.Pe=pA(e,Ul(s))),e.Pe}function pA(s,e){if(s.limitType==="F")return ly(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Lo(o.field,h)});const i=s.endAt?new zo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new zo(s.startAt.position,s.startAt.inclusive):null;return ly(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function If(s,e,i){return new Ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Yo(s,e){return Zf(Jn(s),Jn(e))&&s.limitType===e.limitType}function T_(s){return`${Xf(Jn(s))}|lt:${s.limitType}`}function as(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>v_(o)).join(", ")}]`),Qo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ms(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ms(o)).join(",")),`Target(${a})`}(Jn(s))}; limitType=${s.limitType})`}function Xo(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Ul(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,y,_){const v=ay(d,y,_);return d.inclusive?v<=0:v<0}(a.startAt,Ul(a),o)||a.endAt&&!function(d,y,_){const v=ay(d,y,_);return d.inclusive?v>=0:v>0}(a.endAt,Ul(a),o))}(s,e)}function yA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function A_(s){return(e,i)=>{let a=!1;for(const o of Ul(s)){const h=_A(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function _A(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?ds(_,v):ft()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return s_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Jt(ot.comparator);function Ii(){return vA}const S_=new Jt(ot.comparator);function Ml(...s){let e=S_;for(const i of s)e=e.insert(i.key,i);return e}function b_(s){let e=S_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function la(){return xl()}function R_(){return xl()}function xl(){return new ha(s=>s.toString(),(s,e)=>s.isEqual(e))}const EA=new Jt(ot.comparator),TA=new Se(ot.comparator);function wt(...s){let e=TA;for(const i of s)e=e.add(i);return e}const AA=new Se(Ct);function SA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:No(e)?"-0":e}}function w_(s){return{integerValue:""+s}}function D_(s,e){return ZT(e)?w_(e):Jf(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this._=void 0}}function bA(s,e,i){return s instanceof Bo?function(o,h){const d={fields:{[o_]:{stringValue:u_},[h_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Kf(h)&&(h=Fo(h)),h&&(d.fields[c_]=h),{mapValue:d}}(i,e):s instanceof jl?V_(s,e):s instanceof Gl?O_(s,e):function(o,h){const d=C_(o,h),y=oy(d)+oy(o.Ie);return Vf(d)&&Vf(o.Ie)?w_(y):Jf(o.serializer,y)}(s,e)}function RA(s,e,i){return s instanceof jl?V_(s,e):s instanceof Gl?O_(s,e):i}function C_(s,e){return s instanceof Ql?function(a){return Vf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Bo extends Zo{}class jl extends Zo{constructor(e){super(),this.elements=e}}function V_(s,e){const i=M_(e);for(const a of s.elements)i.some(o=>ti(o,a))||i.push(a);return{arrayValue:{values:i}}}class Gl extends Zo{constructor(e){super(),this.elements=e}}function O_(s,e){let i=M_(e);for(const a of s.elements)i=i.filter(o=>!ti(o,a));return{arrayValue:{values:i}}}class Ql extends Zo{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function oy(s){return le(s.integerValue||s.doubleValue)}function M_(s){return Yf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i){this.field=e,this.transform=i}}function DA(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof jl&&o instanceof jl||a instanceof Gl&&o instanceof Gl?fs(a.elements,o.elements,ti):a instanceof Ql&&o instanceof Ql?ti(a.Ie,o.Ie):a instanceof Bo&&o instanceof Bo}(s.transform,e.transform)}class CA{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Co(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class $o{}function I_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new U_(s.key,Vi.none()):new Jo(s.key,s.data,Vi.none());{const i=s.data,a=on.empty();let o=new Se(Le.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new fa(s.key,a,new Un(o.toArray()),Vi.none())}}function VA(s,e,i){s instanceof Jo?function(o,h,d){const y=o.value.clone(),_=hy(o.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,e,i):s instanceof fa?function(o,h,d){if(!Co(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=hy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(N_(o)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function zl(s,e,i,a){return s instanceof Jo?function(h,d,y,_){if(!Co(h.precondition,d))return y;const v=h.value.clone(),R=fy(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof fa?function(h,d,y,_){if(!Co(h.precondition,d))return y;const v=fy(h.fieldTransforms,_,d),R=d.data;return R.setAll(N_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(U=>U.field))}(s,e,i,a):function(h,d,y){return Co(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y}(s,e,i)}function OA(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=C_(a.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(a.field,h))}return i||null}function cy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fs(a,o,(h,d)=>DA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jo extends $o{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fa extends $o{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function N_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function hy(s,e,i){const a=new Map;qt(s.length===i.length);for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);a.set(h.field,RA(d,y,i[o]))}return a}function fy(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,bA(h,d,e))}return a}class U_ extends $o{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends $o{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&VA(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=R_();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const _=I_(d,y);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),wt())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(i,a)=>cy(i,a))&&fs(this.baseMutations,e.baseMutations,(i,a)=>cy(i,a))}}class Wf{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length);let o=function(){return EA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Wf(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,It;function xA(s){switch(s){case Y.OK:return ft();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ft()}}function x_(s){if(s===void 0)return Mi("GRPC error has no .code"),Y.UNKNOWN;switch(s){case de.OK:return Y.OK;case de.CANCELLED:return Y.CANCELLED;case de.UNKNOWN:return Y.UNKNOWN;case de.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case de.INTERNAL:return Y.INTERNAL;case de.UNAVAILABLE:return Y.UNAVAILABLE;case de.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case de.NOT_FOUND:return Y.NOT_FOUND;case de.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case de.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case de.ABORTED:return Y.ABORTED;case de.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case de.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case de.DATA_LOSS:return Y.DATA_LOSS;default:return ft()}}(It=de||(de={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new vr([4294967295,4294967295],0);function dy(s){const e=zA().encode(s),i=new $y;return i.update(e),new Uint8Array(i.digest())}function my(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new vr([i,a],0),new vr([o,h],0)]}class td{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(a<0)throw new Il(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=vr.fromNumber(this.Ee)}Ae(e,i,a){let o=e.add(i.multiply(vr.fromNumber(a)));return o.compare(LA)===1&&(o=new vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=dy(e),[a,o]=my(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new td(h,o,i);return a.forEach(y=>d.insert(y)),d}insert(e){if(this.Ee===0)return;const i=dy(e),[a,o]=my(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Wo(mt.min(),o,new Jt(Ct),Ii(),wt())}}class Yl{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Yl(a,i,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,i,a,o){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=o}}class z_{constructor(e,i){this.targetId=e,this.ge=i}}class L_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class gy{constructor(){this.pe=0,this.ye=py(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=wt(),i=wt(),a=wt();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ft()}}),new Yl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=py()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ii(),this.$e=Ao(),this.Ke=Ao(),this.Ue=new Jt(Ct)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,a=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Mf(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Ge.newNoDocument(d,mt.min()))}else qt(a===1);else{const d=this.et(i);if(d!==a){const y=this.tt(e),_=y?this.nt(y,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Sr(a).toUint8Array()}catch(_){if(_ instanceof l_)return hs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new td(d,o,h)}catch(_){return hs(_ instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.Ee===0?null:y}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ke.it(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const y=this.Xe(d);if(y){if(h.current&&Mf(y.target)){const _=new ot(y.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ge.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=wt();this.Ke.forEach((h,d)=>{let y=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new Wo(e,i,this.Ue,this.Qe,a);return this.Qe=Ii(),this.$e=Ao(),this.Ke=Ao(),this.Ue=new Jt(Ct),o}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new gy,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Se(Ct),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(Ct),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||et("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Ao(){return new Jt(ot.comparator)}function py(){return new Jt(ot.comparator)}const PA={asc:"ASCENDING",desc:"DESCENDING"},kA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qA={and:"AND",or:"OR"};class HA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nf(s,e){return s.useProto3Json||Qo(e)?e:{value:e}}function Po(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function jA(s,e){return Po(s,e.toTimestamp())}function Wn(s){return qt(!!s),mt.fromTimestamp(function(i){const a=Ar(i);return new Ae(a.seconds,a.nanos)}(s))}function ed(s,e){return Uf(s,e).canonicalString()}function Uf(s,e){const i=function(o){return new re(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function P_(s){const e=re.fromString(s);return qt(G_(e)),e}function xf(s,e){return ed(s.databaseId,e.path)}function pf(s,e){const i=P_(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(q_(i))}function k_(s,e){return ed(s.databaseId,e)}function GA(s){const e=P_(s);return e.length===4?re.emptyPath():q_(e)}function zf(s){return new re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function q_(s){return qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function yy(s,e,i){return{name:xf(s,e),fields:i.value.mapValue.fields}}function QA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(qt(R===void 0||typeof R=="string"),Be.fromBase64String(R||"")):(qt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),Be.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&function(v){const R=v.code===void 0?Y.UNKNOWN:x_(v.code);return new ut(R,v.message||"")}(d);i=new L_(a,o,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=pf(s,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):mt.min(),y=new on({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(o,h,d,y),v=a.targetIds||[],R=a.removedTargetIds||[];i=new Vo(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=pf(s,a.document),h=a.readTime?Wn(a.readTime):mt.min(),d=Ge.newNoDocument(o,h),y=a.removedTargetIds||[];i=new Vo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=pf(s,a.document),h=a.removedTargetIds||[];i=new Vo([],h,o,null)}else{if(!("filter"in e))return ft();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new UA(o,h),y=a.targetId;i=new z_(y,d)}}return i}function FA(s,e){let i;if(e instanceof Jo)i={update:yy(s,e.key,e.value)};else if(e instanceof U_)i={delete:xf(s,e.key)};else if(e instanceof fa)i={update:yy(s,e.key,e.data),updateMask:eS(e.fieldMask)};else{if(!(e instanceof MA))return ft();i={verify:xf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const y=d.transform;if(y instanceof Bo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ql)return{fieldPath:d.field.canonicalString(),increment:y.Ie};throw ft()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:jA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(s,e.precondition)),i}function KA(s,e){return s&&s.length>0?(qt(e!==void 0),s.map(i=>function(o,h){let d=o.updateTime?Wn(o.updateTime):Wn(h);return d.isEqual(mt.min())&&(d=Wn(h)),new CA(d,o.transformResults||[])}(i,e))):[]}function YA(s,e){return{documents:[k_(s,e.path)]}}function XA(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=k_(s,o);const h=function(v){if(v.length!==0)return j_(ei.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(P){return{field:ss(P.field),direction:JA(P.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Nf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:o}}function ZA(s){let e=GA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1);const R=i.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(U){const P=H_(U);return P instanceof ei&&y_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(U){return U.map(P=>function($){return new Lo(ls($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(P))}(i.orderBy));let y=null;i.limit&&(y=function(U){let P;return P=typeof U=="object"?U.value:U,Qo(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(U){const P=!!U.before,j=U.values||[];return new zo(j,P)}(i.startAt));let v=null;return i.endAt&&(v=function(U){const P=!U.before,j=U.values||[];return new zo(j,P)}(i.endAt)),mA(e,o,d,h,y,"F",_,v)}function $A(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function H_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ls(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ls(i.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ls(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ls(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(s):s.fieldFilter!==void 0?function(i){return Te.create(ls(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(a=>H_(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(s):ft()}function JA(s){return PA[s]}function WA(s){return kA[s]}function tS(s){return qA[s]}function ss(s){return{fieldPath:s.canonicalString()}}function ls(s){return Le.fromServerFormat(s.fieldPath)}function j_(s){return s instanceof Te?function(i){if(i.op==="=="){if(ry(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NAN"}};if(iy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ry(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NAN"}};if(iy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(i.field),op:WA(i.op),value:i.value}}}(s):s instanceof ei?function(i){const a=i.getFilters().map(o=>j_(o));return a.length===1?a[0]:{compositeFilter:{op:tS(i.op),filters:a}}}(s):ft()}function eS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function G_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,i,a,o,h=mt.min(),d=mt.min(),y=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.Tt=e}}function iS(s){const e=ZA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.Tn=new aS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Tr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class aS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Se(re.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Se(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q_=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Q_,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new gs(0)}static Un(){return new gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="LruGarbageCollector",sS=1048576;function Ey([s,e],[i,a]){const o=Ct(s,i);return o===0?Ct(e,a):o}class lS{constructor(e){this.Hn=e,this.buffer=new Se(Ey),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ey(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){et(vy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ts(i)?et(vy,"Ignoring IndexedDB error during garbage collection: ",i):await Es(i)}await this.er(3e5)})}}class oS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Go.ae);const a=new lS(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(_y)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_y):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,h,d,y,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,d=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(a=U,y=Date.now(),this.removeTargets(e,a,i))).next(U=>(h=U,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(U=>(v=Date.now(),rs()<=Nt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${U} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:U})))}}function cS(s,e){return new oS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.changes=new ha(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&zl(a.mutation,o,Un.empty(),Ae.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,wt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=wt()){const o=la();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Ml();return h.forEach((y,_)=>{d=d.insert(y,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,wt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,y)=>{i.set(d,y)})})}computeViews(e,i,a,o){let h=Ii();const d=xl(),y=function(){return xl()}();return i.forEach((_,v)=>{const R=a.get(v.key);o.has(v.key)&&(R===void 0||R.mutation instanceof fa)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),zl(R.mutation,v,R.mutation.getFieldMask(),Ae.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var U;return y.set(v,new fS(R,(U=d.get(v))!==null&&U!==void 0?U:null))}),y))}recalculateAndSaveOverlays(e,i){const a=xl();let o=new Jt((d,y)=>d-y),h=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const y of d)y.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=a.get(_)||Un.empty();R=y.applyToLocalView(v,R),a.set(_,R);const U=(o.get(y.batchId)||wt()).add(_);o=o.insert(y.batchId,U)})}).next(()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,R=_.value,U=R_();R.forEach(P=>{if(!h.has(P)){const j=I_(i.get(P),a.get(P));j!==null&&U.set(P,j),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,U))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):gA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Q.resolve(la());let y=Pl,_=h;return d.next(v=>Q.forEach(v,(R,U)=>(y<U.largestBatchId&&(y=U.largestBatchId),h.get(R)?Q.resolve():this.remoteDocumentCache.getEntry(e,R).next(P=>{_=_.insert(R,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,wt())).next(R=>({batchId:y,changes:b_(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let o=Ml();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(y=>Q.forEach(y,_=>{const v=function(U,P){return new Ko(P,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(R=>{R.forEach((U,P)=>{d=d.insert(U,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Ge.newInvalidDocument(R)))});let y=Ml();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&zl(R.mutation,v,Un.empty(),Ae.now()),Xo(i,v)&&(y=y.insert(_,v))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Wn(o.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:iS(o.bundledQuery),readTime:Wn(o.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.overlays=new Jt(ot.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return Q.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const o=la(),h=i.length+1,d=new ot(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new Jt((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let R=h.get(v.largestBatchId);R===null&&(R=la(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const y=la(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>y.set(v,R)),!(y.size()>=o)););return Q.resolve(y)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new NA(i,a));let h=this.Rr.get(i);h===void 0&&(h=wt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.Vr=new Se(Me.mr),this.gr=new Se(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Me(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ot(new re([])),a=new Me(i,e),o=new Me(i,e+1),h=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new re([])),a=new Me(i,e),o=new Me(i,e+1);let h=wt();return this.gr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||Ct(e.Cr,i.Cr)}static pr(e,i){return Ct(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Me.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IA(h,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Mr=this.Mr.add(new Me(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),h=o<0?0:o;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Ff:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,o],d=>{const y=this.Or(d.Cr);h.push(y)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(Ct);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],y=>{a=a.add(y.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ot(h),0);let y=new Se(Ct);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(y=y.add(_.Cr)),!0)},d),Q.resolve(this.Br(y))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Me(i,0),o=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.kr=e,this.docs=function(){return new Jt(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(e,i){let a=Ii();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ge.newInvalidDocument(o))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ii();const d=i.path,y=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||FT(QT(R),a)<=0||(o.has(R.key)||Xo(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,o){ft()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new vS(this)}getSize(e){return Q.resolve(this.size)}}class vS extends hS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.persistence=e,this.Qr=new ha(i=>Xf(i),Zf),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new nd,this.targetCount=0,this.Ur=gs.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new gs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.Qr.forEach((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),Q.waitFor(h).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Kr.Sr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Go(0),this.zr=!1,this.zr=!0,this.jr=new pS,this.referenceDelegate=e(this),this.Hr=new ES(this),this.indexManager=new rS,this.remoteDocumentCache=function(o){return new _S(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new nS(i),this.Yr=new mS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new yS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){et("MemoryPersistence","Starting transaction:",e);const o=new TS(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class TS extends YT{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.ti=new nd,this.ni=null}static ri(e){return new id(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const o=ot.fromPath(a);return this.si(e,o).next(h=>{h||i.removeEntry(o,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class ko{constructor(e,i){this.persistence=e,this.oi=new ha(a=>$T(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=cS(this,i)}static ri(e,i){return new ko(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(h=>h?Q.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(y=>{y||(a++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wo(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Q.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=wt(),o=wt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new rd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pE()?8:XT(mE())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new AS;return this._s(e,i,d).next(y=>{if(h.result=y,this.Xi)return this.us(e,i,d,y.size)})}).next(()=>h.result)}us(e,i,a,o){return a.documentReadCount<this.es?(rs()<=Nt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",as(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(rs()<=Nt.DEBUG&&et("QueryEngine","Query:",as(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(rs()<=Nt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",as(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):Q.resolve())}rs(e,i){if(uy(i))return Q.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=If(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=wt(...h);return this.ns.getDocuments(e,d).next(y=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,y);return this.ls(i,v,d,_.readTime)?this.rs(e,If(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,o){return uy(i)||o.isEqual(mt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,o)?Q.resolve(null):(rs()<=Nt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),as(i)),this.hs(e,d,i,GT(o,Pl)).next(y=>y))})}cs(e,i){let a=new Se(A_(e));return i.forEach((o,h)=>{Xo(e,h)&&(a=a.add(h))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,a){return rs()<=Nt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",as(i)),this.ns.getDocumentsMatchingQuery(e,i,Tr.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="LocalStore",bS=3e8;class RS{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new Jt(Ct),this.Is=new ha(h=>Xf(h),Zf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function wS(s,e,i,a){return new RS(s,e,i,a)}async function K_(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],y=[];let _=wt();for(const v of o){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){y.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:y}))})})}function DS(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(y,_,v,R){const U=v.batch,P=U.keys();let j=Q.resolve();return P.forEach($=>{j=j.next(()=>R.getEntry(_,$)).next(nt=>{const Z=v.docVersions.get($);qt(Z!==null),nt.version.compareTo(Z)<0&&(U.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),R.addEntry(nt)))})}),j.next(()=>y.mutationQueue.removeMutationBatch(_,U))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let _=wt();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function Y_(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function CS(s,e){const i=pt(s),a=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const y=[];e.targetChanges.forEach((R,U)=>{const P=o.get(U);if(!P)return;y.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,U).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,U)));let j=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(U)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):R.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(R.resumeToken,a)),o=o.insert(U,j),function(nt,Z,St){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=bS?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(P,j,R)&&y.push(i.Hr.updateTargetData(h,j))});let _=Ii(),v=wt();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),y.push(VS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!a.isEqual(mt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(U=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(R)}return Q.waitFor(y).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=o,h))}function VS(s,e,i){let a=wt(),o=wt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ii();return i.forEach((y,_)=>{const v=h.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):et(ad,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:o}})}function OS(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Ff),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function MS(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,e).next(h=>h?(o=h,Q.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new pr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Lf(s,e,i){const a=pt(s),o=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ts(d))throw d;et(ad,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function Ty(s,e,i){const a=pt(s);let o=mt.min(),h=wt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const U=pt(_),P=U.Is.get(R);return P!==void 0?Q.resolve(U.Ts.get(P)):U.Hr.getTargetData(v,R)}(a,d,Jn(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,y.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?o:mt.min(),i?h:wt())).next(y=>(IS(a,yA(e),y),{documents:y,gs:h})))}function IS(s,e,i){let a=s.Es.get(e)||mt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Ay{constructor(){this.activeTargetIds=SA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NS{constructor(){this.ho=new Ay,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ay,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="ConnectivityMonitor";class by{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){et(Sy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){et(Sy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So=null;function Bf(){return So===null?So=function(){return 268435456+Math.round(2147483648*Math.random())}():So++,"0x"+So.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",xS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Uo?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,h){const d=Bf(),y=this.bo(e,i.toUriEncodedString());et(yf,`Sending RPC '${e}' ${d}:`,y,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,o,h),this.vo(e,y,_,a).then(v=>(et(yf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw hs(yf,`RPC '${e}' ${d} failed with error: `,v,"url: ",y,"request:",a),v})}Co(e,i,a,o,h,d){return this.So(e,i,a,o,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const a=xS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class BS extends zS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const h=Bf();return new Promise((d,y)=>{const _=new Jy;_.setWithCredentials(!0),_.listenOnce(Wy.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ro.NO_ERROR:const R=_.getResponseJson();et(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case Ro.TIMEOUT:et(He,`RPC '${e}' ${h} timed out`),y(new ut(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const U=_.getStatus();if(et(He,`RPC '${e}' ${h} failed with status:`,U,"response text:",_.getResponseText()),U>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P==null?void 0:P.error;if(j&&j.status&&j.message){const $=function(Z){const St=Z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(St)>=0?St:Y.UNKNOWN}(j.status);y(new ut($,j.message))}else y(new ut(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(Y.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{et(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);et(He,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const o=Bf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=n_(),y=e_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const R=h.join("");et(He,`Creating RPC '${e}' stream ${o}: ${R}`,_);const U=d.createWebChannel(R,_);let P=!1,j=!1;const $=new LS({Fo:Z=>{j?et(He,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(P||(et(He,`Opening RPC '${e}' stream ${o} transport.`),U.open(),P=!0),et(He,`RPC '${e}' stream ${o} sending:`,Z),U.send(Z))},Mo:()=>U.close()}),nt=(Z,St,dt)=>{Z.listen(St,Et=>{try{dt(Et)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return nt(U,Ol.EventType.OPEN,()=>{j||(et(He,`RPC '${e}' stream ${o} transport opened.`),$.Qo())}),nt(U,Ol.EventType.CLOSE,()=>{j||(j=!0,et(He,`RPC '${e}' stream ${o} transport closed`),$.Ko())}),nt(U,Ol.EventType.ERROR,Z=>{j||(j=!0,hs(He,`RPC '${e}' stream ${o} transport errored:`,Z),$.Ko(new ut(Y.UNAVAILABLE,"The operation could not be completed")))}),nt(U,Ol.EventType.MESSAGE,Z=>{var St;if(!j){const dt=Z.data[0];qt(!!dt);const Et=dt,Qt=(Et==null?void 0:Et.error)||((St=Et[0])===null||St===void 0?void 0:St.error);if(Qt){et(He,`RPC '${e}' stream ${o} received error:`,Qt);const yt=Qt.status;let Ut=function(A){const D=de[A];if(D!==void 0)return x_(D)}(yt),I=Qt.message;Ut===void 0&&(Ut=Y.INTERNAL,I="Unknown error status: "+yt+" with message "+Qt.message),j=!0,$.Ko(new ut(Ut,I)),U.close()}else et(He,`RPC '${e}' stream ${o} received:`,dt),$.Uo(dt)}}),nt(y,t_.STAT_EVENT,Z=>{Z.stat===Df.PROXY?et(He,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Df.NOPROXY&&et(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(s){return new HA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="PersistentStream";class Z_{constructor(e,i,a,o,h,d,y,_){this.Ti=e,this.n_=a,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new X_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new ut(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return et(Ry,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(et(Ry,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PS extends Z_{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=QA(this.serializer,e),a=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?Wn(d.readTime):mt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=zf(this.serializer),i.addTarget=function(h,d){let y;const _=d.target;if(y=Mf(_)?{documents:YA(h,_)}:{query:XA(h,_).ht},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=B_(h,d.resumeToken);const v=Nf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){y.readTime=Po(h,d.snapshotVersion.toTimestamp());const v=Nf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}return y}(this.serializer,e);const a=$A(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=zf(this.serializer),i.removeTarget=e,this.I_(i)}}class kS extends Z_{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=KA(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=zf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>FA(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{}class HS extends qS{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Uf(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(Y.UNKNOWN,h.toString())})}Co(e,i,a,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection.Co(e,Uf(i,a),o,d,y,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Y.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class jS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):et("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class GS{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{da(this)&&(et(ca,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await Xl(v),v.j_.set("Unknown"),v.W_.delete(4),await ec(v)}(this))})}),this.j_=new jS(a,o)}}async function ec(s){if(da(s))for(const e of s.G_)await e(!0)}async function Xl(s){for(const e of s.G_)await e(!1)}function $_(s,e){const i=pt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),od(i)?ud(i):As(i).c_()&&ld(i,e))}function sd(s,e){const i=pt(s),a=As(i);i.U_.delete(e),a.c_()&&J_(i,e),i.U_.size===0&&(a.c_()?a.P_():da(i)&&i.j_.set("Unknown"))}function ld(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}As(s).y_(e)}function J_(s,e){s.H_.Ne(e),As(s).w_(e)}function ud(s){s.H_=new BA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),As(s).start(),s.j_.B_()}function od(s){return da(s)&&!As(s).u_()&&s.U_.size>0}function da(s){return pt(s).W_.size===0}function W_(s){s.H_=void 0}async function QS(s){s.j_.set("Online")}async function FS(s){s.U_.forEach((e,i)=>{ld(s,e)})}async function KS(s,e){W_(s),od(s)?(s.j_.q_(e),ud(s)):s.j_.set("Unknown")}async function YS(s,e,i){if(s.j_.set("Online"),e instanceof L_&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const y of h.targetIds)o.U_.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.U_.delete(y),o.H_.removeTarget(y))}(s,e)}catch(a){et(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await qo(s,a)}else if(e instanceof Vo?s.H_.We(e):e instanceof z_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(mt.min()))try{const a=await Y_(s.localStore);i.compareTo(a)>=0&&await function(h,d){const y=h.H_.ot(d);return y.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.U_.get(v);R&&h.U_.set(v,R.withResumeToken(_.resumeToken,d))}}),y.targetMismatches.forEach((_,v)=>{const R=h.U_.get(_);if(!R)return;h.U_.set(_,R.withResumeToken(Be.EMPTY_BYTE_STRING,R.snapshotVersion)),J_(h,_);const U=new pr(R.target,_,v,R.sequenceNumber);ld(h,U)}),h.remoteSyncer.applyRemoteEvent(y)}(s,i)}catch(a){et(ca,"Failed to raise snapshot:",a),await qo(s,a)}}async function qo(s,e,i){if(!Ts(e))throw e;s.W_.add(1),await Xl(s),s.j_.set("Offline"),i||(i=()=>Y_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{et(ca,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await ec(s)})}function tv(s,e){return e().catch(i=>qo(s,i,e))}async function nc(s){const e=pt(s),i=Rr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ff;for(;XS(e);)try{const o=await OS(e.localStore,a);if(o===null){e.K_.length===0&&i.P_();break}a=o.batchId,ZS(e,o)}catch(o){await qo(e,o)}ev(e)&&nv(e)}function XS(s){return da(s)&&s.K_.length<10}function ZS(s,e){s.K_.push(e);const i=Rr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function ev(s){return da(s)&&!Rr(s).u_()&&s.K_.length>0}function nv(s){Rr(s).start()}async function $S(s){Rr(s).C_()}async function JS(s){const e=Rr(s);for(const i of s.K_)e.b_(i.mutations)}async function WS(s,e,i){const a=s.K_.shift(),o=Wf.from(a,e,i);await tv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await nc(s)}async function t1(s,e){e&&Rr(s).S_&&await async function(a,o){if(function(d){return xA(d)&&d!==Y.ABORTED}(o.code)){const h=a.K_.shift();Rr(a).h_(),await tv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await nc(a)}}(s,e),ev(s)&&nv(s)}async function wy(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),et(ca,"RemoteStore received new credentials");const a=da(i);i.W_.add(3),await Xl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await ec(i)}async function e1(s,e){const i=pt(s);e?(i.W_.delete(2),await ec(i)):e||(i.W_.add(2),await Xl(i),i.j_.set("Unknown"))}function As(s){return s.J_||(s.J_=function(i,a,o){const h=pt(i);return h.M_(),new PS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:QS.bind(null,s),No:FS.bind(null,s),Lo:KS.bind(null,s),p_:YS.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),od(s)?ud(s):s.j_.set("Unknown")):(await s.J_.stop(),W_(s))})),s.J_}function Rr(s){return s.Y_||(s.Y_=function(i,a,o){const h=pt(i);return h.M_(),new kS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:$S.bind(null,s),Lo:t1.bind(null,s),D_:JS.bind(null,s),v_:WS.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await nc(s)):(await s.Y_.stop(),s.K_.length>0&&(et(ca,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,y=new cd(e,i,d,o,h);return y.start(a),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ts(s))return new ut(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Z_=new Jt(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ps{constructor(e,i,a,o,h,d,y,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(y=>{d.push({type:0,doc:y})}),new ps(e,i,cs.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class i1{constructor(){this.queries=Cy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=pt(i),h=o.queries;o.queries=Cy(),h.forEach((d,y)=>{for(const _ of y.ta)_.onError(a)})})(this,new ut(Y.ABORTED,"Firestore shutting down"))}}function Cy(){return new ha(s=>T_(s),Yo)}async function r1(s,e){const i=pt(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(a=2):(h=new n1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=hd(d,`Initialization of query '${as(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&fd(i)}async function a1(s,e){const i=pt(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function s1(s,e){const i=pt(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.ta)y.oa(o)&&(a=!0);d.ea=o}}a&&fd(i)}function l1(s,e,i){const a=pt(s),o=a.queries.get(e);if(o)for(const h of o.ta)h.onError(i);a.queries.delete(e)}function fd(s){s.ia.forEach(e=>{e.next()})}var Pf,Vy;(Vy=Pf||(Pf={}))._a="default",Vy.Cache="cache";class u1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ps(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.key=e}}class rv{constructor(e){this.key=e}}class o1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=wt(),this.mutatedKeys=wt(),this.ya=A_(e),this.wa=new cs(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Dy,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((R,U)=>{const P=o.get(R),j=Xo(this.query,U)?U:null,$=!!P&&this.mutatedKeys.has(P.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;P&&j?P.data.isEqual(j.data)?$!==nt&&(a.track({type:3,doc:j}),Z=!0):this.va(P,j)||(a.track({type:2,doc:j}),Z=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(y=!0)):!P&&j?(a.track({type:0,doc:j}),Z=!0):P&&!j&&(a.track({type:1,doc:P}),Z=!0,(_||v)&&(y=!0)),Z&&(j?(d=d.add(j),h=nt?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{wa:d,Da:a,ls:y,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,U)=>function(j,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return nt(j)-nt($)}(R.type,U.type)||this.ya(R.doc,U.doc)),this.Ca(a),o=o!=null&&o;const y=i&&!o?this.Fa():[],_=this.pa.size===0&&this.current&&!o?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new ps(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:y}:{Ma:y}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Dy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=wt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new rv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new iv(a))}),i}Oa(e){this.fa=e.gs,this.pa=wt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ps.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const dd="SyncEngine";class c1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class h1{constructor(e){this.key=e,this.Ba=!1}}class f1{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ha(y=>T_(y),Yo),this.qa=new Map,this.Qa=new Set,this.$a=new Jt(ot.comparator),this.Ka=new Map,this.Ua=new nd,this.Wa={},this.Ga=new Map,this.za=gs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function d1(s,e,i=!0){const a=cv(s);let o;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await av(a,e,i,!0),o}async function m1(s,e){const i=cv(s);await av(i,e,!0,!1)}async function av(s,e,i,a){const o=await MS(s.localStore,Jn(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await g1(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&$_(s.remoteStore,o),y}async function g1(s,e,i,a,o){s.Ha=(U,P,j)=>async function(nt,Z,St,dt){let Et=Z.view.ba(St);Et.ls&&(Et=await Ty(nt.localStore,Z.query,!1).then(({documents:I})=>Z.view.ba(I,Et)));const Qt=dt&&dt.targetChanges.get(Z.targetId),yt=dt&&dt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(Et,nt.isPrimaryClient,Qt,yt);return My(nt,Z.targetId,Ut.Ma),Ut.snapshot}(s,U,P,j);const h=await Ty(s.localStore,e,!0),d=new o1(e,h.gs),y=d.ba(h.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(y,s.isPrimaryClient,_);My(s,i,v.Ma);const R=new c1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function p1(s,e,i){const a=pt(s),o=a.ka.get(e),h=a.qa.get(o.targetId);if(h.length>1)return a.qa.set(o.targetId,h.filter(d=>!Yo(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Lf(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&sd(a.remoteStore,o.targetId),kf(a,o.targetId)}).catch(Es)):(kf(a,o.targetId),await Lf(a.localStore,o.targetId,!0))}async function y1(s,e){const i=pt(s),a=i.ka.get(e),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sd(i.remoteStore,a.targetId))}async function _1(s,e,i){const a=R1(s);try{const o=await function(d,y){const _=pt(d),v=Ae.now(),R=y.reduce((j,$)=>j.add($.key),wt());let U,P;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Ii(),nt=wt();return _.ds.getEntries(j,R).next(Z=>{$=Z,$.forEach((St,dt)=>{dt.isValidDocument()||(nt=nt.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,$)).next(Z=>{U=Z;const St=[];for(const dt of y){const Et=OA(dt,U.get(dt.key).overlayedDocument);Et!=null&&St.push(new fa(dt.key,Et,m_(Et.value.mapValue),Vi.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,St,y)}).next(Z=>{P=Z;const St=Z.applyToLocalDocumentSet(U,nt);return _.documentOverlayCache.saveOverlays(j,Z.batchId,St)})}).then(()=>({batchId:P.batchId,changes:b_(U)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,y,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new Jt(Ct)),v=v.insert(y,_),d.Wa[d.currentUser.toKey()]=v}(a,o.batchId,i),await Zl(a,o.changes),await nc(a.remoteStore)}catch(o){const h=hd(o,"Failed to persist write");i.reject(h)}}async function sv(s,e){const i=pt(s);try{const a=await CS(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ka.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?qt(d.Ba):o.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await Zl(i,a,e)}catch(a){await Es(a)}}function Oy(s,e,i){const a=pt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((h,d)=>{const y=d.view.sa(e);y.snapshot&&o.push(y.snapshot)}),function(d,y){const _=pt(d);_.onlineState=y;let v=!1;_.queries.forEach((R,U)=>{for(const P of U.ta)P.sa(y)&&(v=!0)}),v&&fd(_)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function v1(s,e,i){const a=pt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Ka.get(e),h=o&&o.key;if(h){let d=new Jt(ot.comparator);d=d.insert(h,Ge.newNoDocument(h,mt.min()));const y=wt().add(h),_=new Wo(mt.min(),new Map,new Jt(Ct),d,y);await sv(a,_),a.$a=a.$a.remove(h),a.Ka.delete(e),md(a)}else await Lf(a.localStore,e,!1).then(()=>kf(a,e,i)).catch(Es)}async function E1(s,e){const i=pt(s),a=e.batch.batchId;try{const o=await DS(i.localStore,e);uv(i,a,null),lv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,o)}catch(o){await Es(o)}}async function T1(s,e,i){const a=pt(s);try{const o=await function(d,y){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,y).next(U=>(qt(U!==null),R=U.keys(),_.mutationQueue.removeMutationBatch(v,U))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,y)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(a.localStore,e);uv(a,e,i),lv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Zl(a,o)}catch(o){await Es(o)}}function lv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function uv(s,e,i){const a=pt(s);let o=a.Wa[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function kf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.br(e).forEach(a=>{s.Ua.containsKey(a)||ov(s,a)})}function ov(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(sd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),md(s))}function My(s,e,i){for(const a of i)a instanceof iv?(s.Ua.addReference(a.key,e),A1(s,a)):a instanceof rv?(et(dd,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||ov(s,a.key)):ft()}function A1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(et(dd,"New document in limbo: "+i),s.Qa.add(a),md(s))}function md(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(re.fromString(e)),a=s.za.next();s.Ka.set(a,new h1(i)),s.$a=s.$a.insert(i,a),$_(s.remoteStore,new pr(Jn($f(i.path)),a,"TargetPurposeLimboResolution",Go.ae))}}async function Zl(s,e,i){const a=pt(s),o=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((y,_)=>{d.push(a.Ha(_,e,i).then(v=>{var R;if((v||i)&&a.isPrimaryClient){const U=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;a.sharedClientState.updateQueryState(_.targetId,U?"current":"not-current")}if(v){o.push(v);const U=rd.Yi(_.targetId,v);h.push(U)}}))}),await Promise.all(d),a.La.p_(o),await async function(_,v){const R=pt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Q.forEach(v,P=>Q.forEach(P.Hi,j=>R.persistence.referenceDelegate.addReference(U,P.targetId,j)).next(()=>Q.forEach(P.Ji,j=>R.persistence.referenceDelegate.removeReference(U,P.targetId,j)))))}catch(U){if(!Ts(U))throw U;et(ad,"Failed to update sequence numbers: "+U)}for(const U of v){const P=U.targetId;if(!U.fromCache){const j=R.Ts.get(P),$=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion($);R.Ts=R.Ts.insert(P,nt)}}}(a.localStore,h))}async function S1(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){et(dd,"User change. New user:",e.toKey());const a=await K_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(y=>{y.forEach(_=>{_.reject(new ut(Y.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Rs)}}function b1(s,e){const i=pt(s),a=i.Ka.get(e);if(a&&a.Ba)return wt().add(a.key);{let o=wt();const h=i.qa.get(e);if(!h)return o;for(const d of h){const y=i.ka.get(d);o=o.unionWith(y.view.Sa)}return o}}function cv(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=sv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v1.bind(null,e),e.La.p_=s1.bind(null,e.eventManager),e.La.Ja=l1.bind(null,e.eventManager),e}function R1(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T1.bind(null,e),e}class Ho{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return wS(this.persistence,new SS,e.initialUser,this.serializer)}Xa(e){return new F_(id.ri,this.serializer)}Za(e){return new NS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ho.provider={build:()=>new Ho};class w1 extends Ho{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof ko);const a=this.persistence.referenceDelegate.garbageCollector;return new uS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new F_(a=>ko.ri(a,i),this.serializer)}}class qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Oy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=S1.bind(null,this.syncEngine),await e1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i1}()}createDatastore(e){const i=tc(e.databaseInfo.databaseId),a=function(h){return new BS(h)}(e.databaseInfo);return function(h,d,y,_){return new HS(h,d,y,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,y){return new GS(a,o,h,d,y)}(this.localStore,this.datastore,e.asyncQueue,i=>Oy(this.syncEngine,i,0),function(){return by.D()?new by:new US}())}createSyncEngine(e,i){return function(o,h,d,y,_,v,R){const U=new f1(o,h,d,y,_,v);return R&&(U.ja=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=pt(o);et(ca,"RemoteStore shutting down."),h.W_.add(5),await Xl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class C1{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=je.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{et(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(et(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=hd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function vf(s,e){s.asyncQueue.verifyOperationInProgress(),et(wr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await K_(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Iy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await V1(s);et(wr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>wy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>wy(e.remoteStore,o)),s._onlineComponents=e}async function V1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){et(wr,"Using user provided OfflineComponentProvider");try{await vf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;hs("Error using user provided cache. Falling back to memory cache: "+i),await vf(s,new Ho)}}else et(wr,"Using default OfflineComponentProvider"),await vf(s,new w1(void 0));return s._offlineComponents}async function hv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(et(wr,"Using user provided OnlineComponentProvider"),await Iy(s,s._uninitializedComponentsProvider._online)):(et(wr,"Using default OnlineComponentProvider"),await Iy(s,new qf))),s._onlineComponents}function O1(s){return hv(s).then(e=>e.syncEngine)}async function M1(s){const e=await hv(s),i=e.eventManager;return i.onListen=d1.bind(null,e.syncEngine),i.onUnlisten=p1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=m1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=y1.bind(null,e.syncEngine),i}function I1(s,e,i={}){const a=new Er;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,y,_,v){const R=new D1({next:P=>{R.su(),d.enqueueAndForget(()=>a1(h,U));const j=P.docs.has(y);!j&&P.fromCache?v.reject(new ut(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&P.fromCache&&_&&_.source==="server"?v.reject(new ut(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(P)},error:P=>v.reject(P)}),U=new u1($f(y.path),R,{includeMetadataChanges:!0,Ta:!0});return r1(h,U)}(await M1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(s,e,i){if(!i)throw new ut(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function U1(s,e,i,a){if(e===!0&&a===!0)throw new ut(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Uy(s){if(!ot.isDocumentKey(s))throw new ut(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function gd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft()}function Fl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gd(s);throw new ut(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="firestore.googleapis.com",xy=!0;class zy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dv,this.ssl=xy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:xy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sS)throw new ut(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new zT;switch(a.type){case"firstParty":return new kT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Ny.get(i);a&&(et("ComponentProvider","Removing Datastore"),Ny.delete(i),a.terminate())}(this),Promise.resolve()}}function x1(s,e,i,a={}){var o;const h=(s=Fl(s,pd))._getSettings(),d=`${e}:${i}`;if(h.host!==dv&&h.host!==d&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),a.mockUserToken){let y,_;if(typeof a.mockUserToken=="string")y=a.mockUserToken,_=je.MOCK_USER;else{y=dE(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new ut(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new je(v)}s._authCredentials=new LT(new i_(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new yd(this.firestore,e,this._query)}}class Dn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Kl extends yd{constructor(e,i,a){super(e,i,$f(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ot(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function z1(s,e,...i){if(s=ua(s),arguments.length===1&&(e=r_.newId()),N1("doc","path",e),s instanceof pd){const a=re.fromString(e,...i);return Uy(a),new Dn(s,null,new ot(a))}{if(!(s instanceof Dn||s instanceof Kl))throw new ut(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(re.fromString(e,...i));return Uy(a),new Dn(s.firestore,s instanceof Kl?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="AsyncQueue";class By{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new X_(this,"async_queue_retry"),this.Su=()=>{const a=_f();a&&et(Ly,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=_f();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=_f();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Er;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ts(e))throw e;et(Ly,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let y=d.message||"";return d.stack&&(y=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),y}(a);throw Mi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=cd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class _d extends pd{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new By,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new By(e),this._firestoreClient=void 0,await e}}}function L1(s,e){const i=typeof s=="object"?s:ST(),a=typeof s=="string"?s:Uo,o=_T(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=hE("firestore");h&&x1(o,...h)}return o}function mv(s){if(s._terminated)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||B1(s),s._firestoreClient}function B1(s){var e,i,a;const o=s._freezeSettings(),h=function(y,_,v,R){return new tA(y,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,fv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new C1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(Be.fromBase64String(e))}catch(i){throw new ut(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ys(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=/^__.*__$/;class gv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new fa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function pv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Td{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Td(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return jo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(pv(this.Lu)&&P1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class k1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||tc(e)}ju(e,i,a,o=!1){return new Td({Lu:e,methodName:i,zu:a,path:Le.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q1(s){const e=s._freezeSettings(),i=tc(s._databaseId);return new k1(s._databaseId,!!e.ignoreUndefinedProperties,i)}class ac extends rc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ac}}class Ad extends rc{constructor(e,i){super(e),this.Ju=i}_toFieldTransform(e){const i=new Ql(e.serializer,D_(e.serializer,this.Ju));return new wA(e.path,i)}isEqual(e){return e instanceof Ad&&this.Ju===e.Ju}}function H1(s,e,i,a){const o=s.ju(1,e,i);_v("Data must be an object, but it was:",o,a);const h=[],d=on.empty();Dr(a,(_,v)=>{const R=Sd(e,_,i);v=ua(v);const U=o.Ku(R);if(v instanceof ac)h.push(R);else{const P=sc(v,U);P!=null&&(h.push(R),d.set(R,P))}});const y=new Un(h);return new gv(d,y,o.fieldTransforms)}function j1(s,e,i,a,o,h){const d=s.ju(1,e,i),y=[Py(e,a,i)],_=[o];if(h.length%2!=0)throw new ut(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<h.length;P+=2)y.push(Py(e,h[P])),_.push(h[P+1]);const v=[],R=on.empty();for(let P=y.length-1;P>=0;--P)if(!F1(v,y[P])){const j=y[P];let $=_[P];$=ua($);const nt=d.Ku(j);if($ instanceof ac)v.push(j);else{const Z=sc($,nt);Z!=null&&(v.push(j),R.set(j,Z))}}const U=new Un(v);return new gv(R,U,d.fieldTransforms)}function sc(s,e){if(yv(s=ua(s)))return _v("Unsupported field value:",e,s),G1(s,e);if(s instanceof rc)return function(a,o){if(!pv(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const y of a){let _=sc(y,o.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=ua(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return D_(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ae.fromDate(a);return{timestampValue:Po(o.serializer,h)}}if(a instanceof Ae){const h=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Po(o.serializer,h)}}if(a instanceof vd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ys)return{bytesValue:B_(o.serializer,a._byteString)};if(a instanceof Dn){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ed(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ed)return function(d,y){return{mapValue:{fields:{[f_]:{stringValue:d_},[xo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw y.Wu("VectorValues must only contain numeric values.");return Jf(y.serializer,v)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${gd(a)}`)}(s,e)}function G1(s,e){const i={};return s_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(s,(a,o)=>{const h=sc(o,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function yv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof vd||s instanceof ys||s instanceof Dn||s instanceof rc||s instanceof Ed)}function _v(s,e,i){if(!yv(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=gd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Py(s,e,i){if((e=ua(e))instanceof ic)return e._internalPath;if(typeof e=="string")return Sd(s,e);throw jo("Field path arguments must be of type string or ",s,!1,void 0,i)}const Q1=new RegExp("[~\\*/\\[\\]]");function Sd(s,e,i){if(e.search(Q1)>=0)throw jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ic(...e.split("."))._internalPath}catch{throw jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function jo(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ut(Y.INVALID_ARGUMENT,y+s+_)}function F1(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ev("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class K1 extends vv{data(){return super.data()}}function Ev(s,e){return typeof e=="string"?Sd(s,e):e instanceof ic?e._internalPath:e._delegate._internalPath}class Y1{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Dr(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[xo].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>le(d.doubleValue));return new Ed(h)}convertGeoPoint(e){return new vd(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Fo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=re.fromString(e);qt(G_(a));const o=new ql(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tv extends vv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Z1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Ev("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Z1 extends Tv{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(s){s=Fl(s,Dn);const e=Fl(s.firestore,_d);return I1(mv(e),s._key).then(i=>tb(e,s,i))}class J1 extends Y1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,i)}}function ky(s,e,i,...a){s=Fl(s,Dn);const o=Fl(s.firestore,_d),h=q1(o);let d;return d=typeof(e=ua(e))=="string"||e instanceof ic?j1(h,"updateDoc",s._key,e,i,a):H1(h,"updateDoc",s._key,e),W1(o,[d.toMutation(s._key,Vi.exists(!0))])}function W1(s,e){return function(a,o){const h=new Er;return a.asyncQueue.enqueueAndForget(async()=>_1(await O1(a),o,h)),h.promise}(mv(s),e)}function tb(s,e,i){const a=i.docs.get(e._key),o=new J1(s);return new Tv(s,o,e._key,a,new X1(i.hasPendingWrites,i.fromCache),e.converter)}function eb(s){return new Ad("increment",s)}(function(e,i=!0){(function(o){vs=o})(AT),Io(new Ll("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new _d(new BT(a.getProvider("auth-internal")),new qT(d,a.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(v.options.projectId,R)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),os(Fp,Kp,e),os(Fp,Kp,"esm2017")})();const nb={apiKey:"AIzaSyBqftKj604Zx_-erVbJTIFXjwOVY5pPHYg",authDomain:"simpleincrement.firebaseapp.com",projectId:"simpleincrement",storageBucket:"simpleincrement.firebasestorage.app",messagingSenderId:"1011198077000",appId:"1:1011198077000:web:080529039f31d8f98c907d",measurementId:"G-59DM3GW27F"},ib=Yy(nb),rb=L1(ib),Ef=z1(rb,"global","counter");function ab(){const[s,e]=bo.useState(null),[i,a]=bo.useState(!0),o=async()=>{try{await ky(Ef,{count:eb(1)})}catch(d){console.error("Error incrementing count: ",d)}},h=async()=>{try{const d=await $1(Ef);d.exists()?(e(d.data().count),a(!1)):(await ky(Ef,{count:0}),e(0),a(!1))}catch(d){console.error("Error getting count: ",d)}};return bo.useEffect(()=>{h()},[]),us.jsxs("div",{className:"App",children:[us.jsx("h1",{children:"Global Click Counter"}),us.jsx("h2",{children:i?"Loading...":s}),us.jsx("button",{onClick:o,children:"Click Me"})]})}eE.createRoot(document.getElementById("root")).render(us.jsx(bo.StrictMode,{children:us.jsx(ab,{})}));
