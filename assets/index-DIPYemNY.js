(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var sf={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function jE(){if(Ep)return Cl;Ep=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Cl.Fragment=e,Cl.jsx=i,Cl.jsxs=i,Cl}var Tp;function GE(){return Tp||(Tp=1,sf.exports=jE()),sf.exports}var wn=GE(),lf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function QE(){if(Ap)return vt;Ap=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.iterator;function q(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(C,Y,at){this.props=C,this.context=Y,this.refs=nt,this.updater=at||Q}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=Z.prototype;function dt(C,Y,at){this.props=C,this.context=Y,this.refs=nt,this.updater=at||Q}var Et=dt.prototype=new St;Et.constructor=dt,$(Et,Z.prototype),Et.isPureReactComponent=!0;var Qt=Array.isArray,yt={H:null,A:null,T:null,S:null},Ut=Object.prototype.hasOwnProperty;function M(C,Y,at,W,tt,Tt){return at=Tt.ref,{$$typeof:s,type:C,key:Y,ref:at!==void 0?at:null,props:Tt}}function b(C,Y){return M(C.type,Y,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(at){return Y[at]})}var I=/\/+/g;function z(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function w(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ue(C,Y,at,W,tt){var Tt=typeof C;(Tt==="undefined"||Tt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Tt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case e:_t=!0;break;case R:return _t=C._init,ue(_t(C._payload),Y,at,W,tt)}}if(_t)return tt=tt(C),_t=W===""?"."+z(C,0):W,Qt(tt)?(at="",_t!=null&&(at=_t.replace(I,"$&/")+"/"),ue(tt,Y,at,"",function(te){return te})):tt!=null&&(A(tt)&&(tt=b(tt,at+(tt.key==null||C&&C.key===tt.key?"":(""+tt.key).replace(I,"$&/")+"/")+_t)),Y.push(tt)),1;_t=0;var oe=W===""?".":W+":";if(Qt(C))for(var xt=0;xt<C.length;xt++)W=C[xt],Tt=oe+z(W,xt),_t+=ue(W,Y,at,Tt,tt);else if(xt=q(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(W=C.next()).done;)W=W.value,Tt=oe+z(W,xt++),_t+=ue(W,Y,at,Tt,tt);else if(Tt==="object"){if(typeof C.then=="function")return ue(me(C),Y,at,W,tt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function J(C,Y,at){if(C==null)return C;var W=[],tt=0;return ue(C,W,"","",function(Tt){return Y.call(at,Tt,tt++)}),W}function ht(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(at){(C._status===0||C._status===-1)&&(C._status=1,C._result=at)},function(at){(C._status===0||C._status===-1)&&(C._status=2,C._result=at)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return vt.Children={map:J,forEach:function(C,Y,at){J(C,function(){Y.apply(this,arguments)},at)},count:function(C){var Y=0;return J(C,function(){Y++}),Y},toArray:function(C){return J(C,function(Y){return Y})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},vt.Component=Z,vt.Fragment=i,vt.Profiler=u,vt.PureComponent=dt,vt.StrictMode=a,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(C){return function(){return C.apply(null,arguments)}},vt.cloneElement=function(C,Y,at){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),tt=C.key,Tt=void 0;if(Y!=null)for(_t in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(tt=""+Y.key),Y)!Ut.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(W[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)W.children=at;else if(1<_t){for(var oe=Array(_t),xt=0;xt<_t;xt++)oe[xt]=arguments[xt+2];W.children=oe}return M(C.type,tt,void 0,void 0,Tt,W)},vt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},vt.createElement=function(C,Y,at){var W,tt={},Tt=null;if(Y!=null)for(W in Y.key!==void 0&&(Tt=""+Y.key),Y)Ut.call(Y,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=Y[W]);var _t=arguments.length-2;if(_t===1)tt.children=at;else if(1<_t){for(var oe=Array(_t),xt=0;xt<_t;xt++)oe[xt]=arguments[xt+2];tt.children=oe}if(C&&C.defaultProps)for(W in _t=C.defaultProps,_t)tt[W]===void 0&&(tt[W]=_t[W]);return M(C,Tt,void 0,void 0,null,tt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(C){return{$$typeof:y,render:C}},vt.isValidElement=A,vt.lazy=function(C){return{$$typeof:R,_payload:{_status:-1,_result:C},_init:ht}},vt.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},vt.startTransition=function(C){var Y=yt.T,at={};yt.T=at;try{var W=C(),tt=yt.S;tt!==null&&tt(at,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,lt)}catch(Tt){lt(Tt)}finally{yt.T=Y}},vt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},vt.use=function(C){return yt.H.use(C)},vt.useActionState=function(C,Y,at){return yt.H.useActionState(C,Y,at)},vt.useCallback=function(C,Y){return yt.H.useCallback(C,Y)},vt.useContext=function(C){return yt.H.useContext(C)},vt.useDebugValue=function(){},vt.useDeferredValue=function(C,Y){return yt.H.useDeferredValue(C,Y)},vt.useEffect=function(C,Y){return yt.H.useEffect(C,Y)},vt.useId=function(){return yt.H.useId()},vt.useImperativeHandle=function(C,Y,at){return yt.H.useImperativeHandle(C,Y,at)},vt.useInsertionEffect=function(C,Y){return yt.H.useInsertionEffect(C,Y)},vt.useLayoutEffect=function(C,Y){return yt.H.useLayoutEffect(C,Y)},vt.useMemo=function(C,Y){return yt.H.useMemo(C,Y)},vt.useOptimistic=function(C,Y){return yt.H.useOptimistic(C,Y)},vt.useReducer=function(C,Y,at){return yt.H.useReducer(C,Y,at)},vt.useRef=function(C){return yt.H.useRef(C)},vt.useState=function(C){return yt.H.useState(C)},vt.useSyncExternalStore=function(C,Y,at){return yt.H.useSyncExternalStore(C,Y,at)},vt.useTransition=function(){return yt.H.useTransition()},vt.version="19.0.0",vt}var Sp;function kf(){return Sp||(Sp=1,lf.exports=QE()),lf.exports}var Ol=kf(),uf={exports:{}},Vl={},of={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function FE(){return bp||(bp=1,function(s){function e(J,ht){var lt=J.length;J.push(ht);t:for(;0<lt;){var Pt=lt-1>>>1,C=J[Pt];if(0<u(C,ht))J[Pt]=ht,J[lt]=C,lt=Pt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ht=J[0],lt=J.pop();if(lt!==ht){J[0]=lt;t:for(var Pt=0,C=J.length,Y=C>>>1;Pt<Y;){var at=2*(Pt+1)-1,W=J[at],tt=at+1,Tt=J[tt];if(0>u(W,lt))tt<C&&0>u(Tt,W)?(J[Pt]=Tt,J[tt]=lt,Pt=tt):(J[Pt]=W,J[at]=lt,Pt=at);else if(tt<C&&0>u(Tt,lt))J[Pt]=Tt,J[tt]=lt,Pt=tt;else break t}}return ht}function u(J,ht){var lt=J.sortIndex-ht.sortIndex;return lt!==0?lt:J.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var _=[],v=[],R=1,N=null,q=3,Q=!1,$=!1,nt=!1,Z=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Et(J){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=J)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Qt(J){if(nt=!1,Et(J),!$)if(i(_)!==null)$=!0,me();else{var ht=i(v);ht!==null&&ue(Qt,ht.startTime-J)}}var yt=!1,Ut=-1,M=5,b=-1;function A(){return!(s.unstable_now()-b<M)}function D(){if(yt){var J=s.unstable_now();b=J;var ht=!0;try{t:{$=!1,nt&&(nt=!1,St(Ut),Ut=-1),Q=!0;var lt=q;try{e:{for(Et(J),N=i(_);N!==null&&!(N.expirationTime>J&&A());){var Pt=N.callback;if(typeof Pt=="function"){N.callback=null,q=N.priorityLevel;var C=Pt(N.expirationTime<=J);if(J=s.unstable_now(),typeof C=="function"){N.callback=C,Et(J),ht=!0;break e}N===i(_)&&a(_),Et(J)}else a(_);N=i(_)}if(N!==null)ht=!0;else{var Y=i(v);Y!==null&&ue(Qt,Y.startTime-J),ht=!1}}break t}finally{N=null,q=lt,Q=!1}ht=void 0}}finally{ht?I():yt=!1}}}var I;if(typeof dt=="function")I=function(){dt(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=D,I=function(){w.postMessage(null)}}else I=function(){Z(D,0)};function me(){yt||(yt=!0,I())}function ue(J,ht){Ut=Z(function(){J(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){$||Q||($=!0,me())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return q},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(q){case 1:case 2:case 3:var ht=3;break;default:ht=q}var lt=q;q=ht;try{return J()}finally{q=lt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var lt=q;q=J;try{return ht()}finally{q=lt}},s.unstable_scheduleCallback=function(J,ht,lt){var Pt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,J={id:R++,callback:ht,priorityLevel:J,startTime:lt,expirationTime:C,sortIndex:-1},lt>Pt?(J.sortIndex=lt,e(v,J),i(_)===null&&J===i(v)&&(nt?(St(Ut),Ut=-1):nt=!0,ue(Qt,lt-Pt))):(J.sortIndex=C,e(_,J),$||Q||($=!0,me())),J},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(J){var ht=q;return function(){var lt=q;q=ht;try{return J.apply(this,arguments)}finally{q=lt}}}}(cf)),cf}var Rp;function KE(){return Rp||(Rp=1,of.exports=FE()),of.exports}var hf={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function YE(){if(wp)return ke;wp=1;var s=kf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,R){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ke.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},ke.flushSync=function(_){var v=d.T,R=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=R,a.d.f()}},ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,N=y(R,v.crossOrigin),q=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:q,fetchPriority:Q}):R==="script"&&a.d.X(_,{crossOrigin:N,integrity:q,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=y(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,N=y(R,v.crossOrigin);a.d.L(_,R,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=y(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},ke.requestFormReset=function(_){a.d.r(_)},ke.unstable_batchedUpdates=function(_,v){return _(v)},ke.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},ke.version="19.0.0",ke}var Dp;function XE(){if(Dp)return hf.exports;Dp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hf.exports=YE(),hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function ZE(){if(Cp)return Vl;Cp=1;var s=KE(),e=kf(),i=XE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Qt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Ut(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case y:return"Portal";case R:return"Profiler";case v:return"StrictMode";case nt:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q:return(t.displayName||"Context")+".Provider";case q:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,I,z;function w(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",z=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+z}var me=!1;function ue(t,n){if(!t||me)return"";me=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var S=p.split(`
`),O=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===O.length)for(l=S.length-1,c=O.length-1;1<=l&&0<=c&&S[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==O[c]){var H=`
`+S[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{me=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function lt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(lt(t)!==t)throw Error(a(188))}function Y(t){var n=t.alternate;if(!n){if(n=lt(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=f;break}if(E===l){p=!0,l=c,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=c;break}if(E===l){p=!0,l=f,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function at(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=at(t),n!==null)return n;t=t.sibling}return null}var W=Array.isArray,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},_t=[],oe=-1;function xt(t){return{current:t}}function te(t){0>oe||(t.current=_t[oe],_t[oe]=null,oe--)}function Ht(t,n){oe++,_t[oe]=t.current,t.current=n}var Qe=xt(null),ii=xt(null),on=xt(null),Ui=xt(null);function xi(t,n){switch(Ht(on,n),Ht(ii,t),Ht(Qe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Xg(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Xg(t),n=Zg(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Qe),Ht(Qe,n)}function ri(){te(Qe),te(ii),te(on)}function Ss(t){t.memoizedState!==null&&Ht(Ui,t);var n=Qe.current,r=Zg(n,t.type);n!==r&&(Ht(ii,t),Ht(Qe,r))}function ga(t){ii.current===t&&(te(Qe),te(ii)),Ui.current===t&&(te(Ui),Sl._currentValue=Tt)}var pa=Object.prototype.hasOwnProperty,Vr=s.unstable_scheduleCallback,ya=s.unstable_cancelCallback,lc=s.unstable_shouldYield,bs=s.unstable_requestPaint,$e=s.unstable_now,$l=s.unstable_getCurrentPriorityLevel,ge=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,ai=s.unstable_NormalPriority,Jl=s.unstable_LowPriority,Rs=s.unstable_IdlePriority,uc=s.log,Or=s.unstable_setDisableYieldValue,zi=null,Pe=null;function ws(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof uc=="function"&&Or(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zi,t)}catch{}}var Fe=Math.clz32?Math.clz32:tu,Ds=Math.log,Wl=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(Ds(t)/Wl|0)|0}var Ln=128,Li=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,p=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Cn(r):(f&=E,f!==0?l=Cn(f):t||(p=E&~p,p!==0&&(l=Cn(p))))):(E=r&~c,E!==0?l=Cn(E):f!==0?l=Cn(f):t||(p=r&~p,p!==0&&(l=Cn(p)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,p=n&-n,c>=p||c===32&&(p&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function _a(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var t=Ln;return Ln<<=1,!(Ln&4194176)&&(Ln=128),t}function Pi(){var t=Li;return Li<<=1,!(Li&62914560)&&(Li=4194304),t}function va(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eu(t,n,r,l,c,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,S=t.expirationTimes,O=t.hiddenUpdates;for(r=p&~r;0<r;){var H=31-Fe(r),F=1<<H;E[H]=0,S[H]=-1;var B=O[H];if(B!==null)for(O[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}r&=~F}l!==0&&qi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function ki(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Fe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function nu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function iu(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:mp(t.type))}function Hi(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Bn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Bn,pe="__reactProps$"+Bn,si="__reactContainer$"+Bn,Ir="__reactEvents$"+Bn,Ea="__reactListeners$"+Bn,Pn="__reactHandles$"+Bn,Vs="__reactResources$"+Bn,ji="__reactMarker$"+Bn;function Mr(t){delete t[Re],delete t[pe],delete t[Ir],delete t[Ea],delete t[Pn]}function Vn(t){var n=t[Re];if(n)return n;for(var r=t.parentNode;r;){if(n=r[si]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Wg(t);t!==null;){if(r=t[Re])return r;t=Wg(t)}return n}t=r,r=t.parentNode}return null}function li(t){if(t=t[Re]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qi(t){var n=t[Vs];return n||(n=t[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[ji]=!0}var Os=new Set,Ta={};function en(t,n){Je(t,n),Je(t+"Capture",n)}function Je(t,n){for(Ta[t]=n,t=0;t<n.length;t++)Os.add(n[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Is={},Ms={};function ru(t){return pa.call(Ms,t)?!0:pa.call(Is,t)?!1:oc.test(t)?Ms[t]=!0:(Is[t]=!0,!1)}function Fi(t,n,r){if(ru(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function hn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function au(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cc(t){var n=au(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Nr(t){t._valueTracker||(t._valueTracker=cc(t))}function Ns(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=au(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ui=/[\n"\\]/g;function ee(t){return t.replace(ui,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yi(t,n,r,l,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,p,Ke(n)):r!=null?Sa(t,p,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Sa(t,n,r){n==="number"&&Aa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function xr(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Xi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(W(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Us(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||hc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function su(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Us(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Us(t,f,n[f])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return dc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var dn=null;function ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function hi(t){var n=li(t);if(n&&(t=n.stateNode)){var r=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Yi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[pe]||null;if(!c)throw Error(a(90));Yi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ns(l)}break t;case"textarea":xr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var zs=!1;function lu(t,n,r){if(zs)return t(n,r);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,(oi!==null||ci!==null)&&(Ju(),oi&&(n=oi,t=ci,ci=oi=null,hi(n),t)))for(n=0;n<t.length;n++)hi(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[pe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var mn=!1;if(nn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{mn=!1}var kn=null,Zi=null,fi=null;function Ls(){if(fi)return fi;var t,n=Zi,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Bs(){return!1}function we(t){function n(r,l,c,f,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Bs,this.isPropagationStopped=Bs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=we(qt),Br=D({},qt,{view:0,detail:0}),uu=we(Br),wa,Da,Gn,Pr=D({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(wa=t.screenX-Gn.screenX,Da=t.screenY-Gn.screenY):Da=wa=0,Gn=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),gn=we(Pr),ou=D({},Pr,{dataTransfer:0}),mc=we(ou),qr=D({},Br,{relatedTarget:0}),Ca=we(qr),Ps=D({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=we(Ps),cu=D({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=we(cu),gc=D({},qt,{data:0}),qs=we(gc),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=fu[t])?!!n[t]:!1}function Hr(){return ks}var du=D({},Br,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ia=we(du),mu=D({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=we(mu),di=D({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),gu=we(di),pu=D({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=we(pu),_u=D({},Pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=we(_u),Ye=D({},qt,{newState:0,oldState:0}),vu=we(Ye),Eu=[9,13,27,32],Qn=nn&&"CompositionEvent"in window,o=null;nn&&"documentMode"in document&&(o=document.documentMode);var m=nn&&"TextEvent"in window&&!o,g=nn&&(!Qn||o&&8<o&&11>=o),T=" ",x=!1;function P(t,n){switch(t){case"keyup":return Eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function ye(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Ot(t,n){if(Vt)return t==="compositionend"||!Qn&&P(t,n)?(t=Ls(),fi=Zi=kn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function mi(t,n,r,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=io(n,"onChange"),0<n.length&&(r=new Ra("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Fn=null;function js(t){Gg(t,0)}function Tu(t){var n=Gi(t);if(Ns(n))return t}function vd(t,n){if(t==="change")return n}var Ed=!1;if(nn){var pc;if(nn){var yc="oninput"in document;if(!yc){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),yc=typeof Td.oninput=="function"}pc=yc}else pc=!1;Ed=pc&&(!document.documentMode||9<document.documentMode)}function Ad(){Me&&(Me.detachEvent("onpropertychange",Sd),Fn=Me=null)}function Sd(t){if(t.propertyName==="value"&&Tu(Fn)){var n=[];mi(n,Fn,t,ba(t)),lu(js,n)}}function vv(t,n,r){t==="focusin"?(Ad(),Me=n,Fn=r,Me.attachEvent("onpropertychange",Sd)):t==="focusout"&&Ad()}function Ev(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Fn)}function Tv(t,n){if(t==="click")return Tu(n)}function Av(t,n){if(t==="input"||t==="change")return Tu(n)}function Sv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:Sv;function Gs(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!pa.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rd(t,n){var r=bd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bd(r)}}function wd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Aa(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Aa(t.document)}return n}function _c(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function bv(t,n){var r=Dd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&wd(n.ownerDocument.documentElement,n)){if(l!==null&&_c(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Rd(n,f);var p=Rd(n,l);c&&p&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==p.node||r.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Rv=nn&&"documentMode"in document&&11>=document.documentMode,Na=null,vc=null,Qs=null,Ec=!1;function Cd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ec||Na==null||Na!==Aa(l)||(l=Na,"selectionStart"in l&&_c(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qs&&Gs(Qs,l)||(Qs=l,l=io(vc,"onSelect"),0<l.length&&(n=new Ra("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Na)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Tc={},Vd={};nn&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Gr(t){if(Tc[t])return Tc[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vd)return Tc[t]=n[r];return t}var Od=Gr("animationend"),Id=Gr("animationiteration"),Md=Gr("animationstart"),wv=Gr("transitionrun"),Dv=Gr("transitionstart"),Cv=Gr("transitioncancel"),Nd=Gr("transitionend"),Ud=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Ud.set(t,n),en(n,[t])}var pn=[],xa=0,Ac=0;function Au(){for(var t=xa,n=Ac=xa=0;n<t;){var r=pn[n];pn[n++]=null;var l=pn[n];pn[n++]=null;var c=pn[n];pn[n++]=null;var f=pn[n];if(pn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&zd(r,c,f)}}function Su(t,n,r,l){pn[xa++]=t,pn[xa++]=n,pn[xa++]=r,pn[xa++]=l,Ac|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sc(t,n,r,l){return Su(t,n,r,l),bu(t)}function $i(t,n){return Su(t,null,null,n),bu(t)}function zd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Fe(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function bu(t){if(50<pl)throw pl=0,Vh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={},Ld=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var r=Ld.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},Ld.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var La=[],Ba=0,Ru=null,wu=0,_n=[],vn=0,Qr=null,gi=1,pi="";function Fr(t,n){La[Ba++]=wu,La[Ba++]=Ru,Ru=t,wu=n}function Bd(t,n,r){_n[vn++]=gi,_n[vn++]=pi,_n[vn++]=Qr,Qr=t;var l=gi;t=pi;var c=32-Fe(l)-1;l&=~(1<<c),r+=1;var f=32-Fe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,gi=1<<32-Fe(n)+c|r<<c|l,pi=f+t}else gi=1<<f|r<<c|l,pi=t}function bc(t){t.return!==null&&(Fr(t,1),Bd(t,1,0))}function Rc(t){for(;t===Ru;)Ru=La[--Ba],La[Ba]=null,wu=La[--Ba],La[Ba]=null;for(;t===Qr;)Qr=_n[--vn],_n[vn]=null,pi=_n[--vn],_n[vn]=null,gi=_n[--vn],_n[vn]=null}var Xe=null,Ne=null,Lt=!1,In=null,Kn=!1,wc=Error(a(519));function Kr(t){var n=Error(a(418,""));throw Ys(yn(n,t)),wc}function Pd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Re]=t,n[pe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<_l.length;r++)Dt(_l[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Nr(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Xi(n,l.value,l.defaultValue,l.children),Nr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Yg(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=ro),n=!0):n=!1,n||Kr(t)}function qd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Xe=Xe.return}}function Fs(t){if(t!==Xe)return!1;if(!Lt)return qd(t),Lt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Fh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ne&&Kr(t),qd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ne=Nn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ne=null}}else Ne=Xe?Nn(t.stateNode.nextSibling):null;return!0}function Ks(){Ne=Xe=null,Lt=!1}function Ys(t){In===null?In=[t]:In.push(t)}var Xs=Error(a(460)),kd=Error(a(474)),Dc={then:function(){}};function Hd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Du(){}function jd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Du,Du),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Xs?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Du,Du);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Xs?Error(a(483)):t}throw Zs=n,Xs}}var Zs=null;function Gd(){if(Zs===null)throw Error(a(459));var t=Zs;return Zs=null,t}var Pa=null,$s=0;function Cu(t){var n=$s;return $s+=1,Pa===null&&(Pa=[]),jd(Pa,t,n)}function Js(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qd(t){var n=t._init;return n(t._payload)}function Fd(t){function n(U,V){if(t){var L=U.deletions;L===null?(U.deletions=[V],U.flags|=16):L.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=or(U,V),U.index=0,U.sibling=null,U}function f(U,V,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<V?(U.flags|=33554434,V):L):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function p(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,L,j){return V===null||V.tag!==6?(V=Th(L,U.mode,j),V.return=U,V):(V=c(V,L),V.return=U,V)}function S(U,V,L,j){var it=L.type;return it===_?H(U,V,L.props.children,j,L.key):V!==null&&(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&Qd(it)===V.type)?(V=c(V,L.props),Js(V,L),V.return=U,V):(V=Ku(L.type,L.key,L.props,null,U.mode,j),Js(V,L),V.return=U,V)}function O(U,V,L,j){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Ah(L,U.mode,j),V.return=U,V):(V=c(V,L.children||[]),V.return=U,V)}function H(U,V,L,j,it){return V===null||V.tag!==7?(V=ia(L,U.mode,j,it),V.return=U,V):(V=c(V,L),V.return=U,V)}function F(U,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Th(""+V,U.mode,L),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return L=Ku(V.type,V.key,V.props,null,U.mode,L),Js(L,V),L.return=U,L;case y:return V=Ah(V,U.mode,L),V.return=U,V;case dt:var j=V._init;return V=j(V._payload),F(U,V,L)}if(W(V)||Ut(V))return V=ia(V,U.mode,L,null),V.return=U,V;if(typeof V.then=="function")return F(U,Cu(V),L);if(V.$$typeof===Q)return F(U,Gu(U,V),L);Vu(U,V)}return null}function B(U,V,L,j){var it=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(U,V,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?S(U,V,L,j):null;case y:return L.key===it?O(U,V,L,j):null;case dt:return it=L._init,L=it(L._payload),B(U,V,L,j)}if(W(L)||Ut(L))return it!==null?null:H(U,V,L,j,null);if(typeof L.then=="function")return B(U,V,Cu(L),j);if(L.$$typeof===Q)return B(U,V,Gu(U,L),j);Vu(U,L)}return null}function k(U,V,L,j,it){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return U=U.get(L)||null,E(V,U,""+j,it);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d:return U=U.get(j.key===null?L:j.key)||null,S(V,U,j,it);case y:return U=U.get(j.key===null?L:j.key)||null,O(V,U,j,it);case dt:var bt=j._init;return j=bt(j._payload),k(U,V,L,j,it)}if(W(j)||Ut(j))return U=U.get(L)||null,H(V,U,j,it,null);if(typeof j.then=="function")return k(U,V,L,Cu(j),it);if(j.$$typeof===Q)return k(U,V,L,Gu(V,j),it);Vu(V,j)}return null}function rt(U,V,L,j){for(var it=null,bt=null,st=V,ct=V=0,Oe=null;st!==null&&ct<L.length;ct++){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var Bt=B(U,st,L[ct],j);if(Bt===null){st===null&&(st=Oe);break}t&&st&&Bt.alternate===null&&n(U,st),V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt,st=Oe}if(ct===L.length)return r(U,st),Lt&&Fr(U,ct),it;if(st===null){for(;ct<L.length;ct++)st=F(U,L[ct],j),st!==null&&(V=f(st,V,ct),bt===null?it=st:bt.sibling=st,bt=st);return Lt&&Fr(U,ct),it}for(st=l(st);ct<L.length;ct++)Oe=k(st,U,ct,L[ct],j),Oe!==null&&(t&&Oe.alternate!==null&&st.delete(Oe.key===null?ct:Oe.key),V=f(Oe,V,ct),bt===null?it=Oe:bt.sibling=Oe,bt=Oe);return t&&st.forEach(function(pr){return n(U,pr)}),Lt&&Fr(U,ct),it}function gt(U,V,L,j){if(L==null)throw Error(a(151));for(var it=null,bt=null,st=V,ct=V=0,Oe=null,Bt=L.next();st!==null&&!Bt.done;ct++,Bt=L.next()){st.index>ct?(Oe=st,st=null):Oe=st.sibling;var pr=B(U,st,Bt.value,j);if(pr===null){st===null&&(st=Oe);break}t&&st&&pr.alternate===null&&n(U,st),V=f(pr,V,ct),bt===null?it=pr:bt.sibling=pr,bt=pr,st=Oe}if(Bt.done)return r(U,st),Lt&&Fr(U,ct),it;if(st===null){for(;!Bt.done;ct++,Bt=L.next())Bt=F(U,Bt.value,j),Bt!==null&&(V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return Lt&&Fr(U,ct),it}for(st=l(st);!Bt.done;ct++,Bt=L.next())Bt=k(st,U,ct,Bt.value,j),Bt!==null&&(t&&Bt.alternate!==null&&st.delete(Bt.key===null?ct:Bt.key),V=f(Bt,V,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return t&&st.forEach(function(HE){return n(U,HE)}),Lt&&Fr(U,ct),it}function re(U,V,L,j){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;V!==null;){if(V.key===it){if(it=L.type,it===_){if(V.tag===7){r(U,V.sibling),j=c(V,L.props.children),j.return=U,U=j;break t}}else if(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&Qd(it)===V.type){r(U,V.sibling),j=c(V,L.props),Js(j,L),j.return=U,U=j;break t}r(U,V);break}else n(U,V);V=V.sibling}L.type===_?(j=ia(L.props.children,U.mode,j,L.key),j.return=U,U=j):(j=Ku(L.type,L.key,L.props,null,U.mode,j),Js(j,L),j.return=U,U=j)}return p(U);case y:t:{for(it=L.key;V!==null;){if(V.key===it)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){r(U,V.sibling),j=c(V,L.children||[]),j.return=U,U=j;break t}else{r(U,V);break}else n(U,V);V=V.sibling}j=Ah(L,U.mode,j),j.return=U,U=j}return p(U);case dt:return it=L._init,L=it(L._payload),re(U,V,L,j)}if(W(L))return rt(U,V,L,j);if(Ut(L)){if(it=Ut(L),typeof it!="function")throw Error(a(150));return L=it.call(L),gt(U,V,L,j)}if(typeof L.then=="function")return re(U,V,Cu(L),j);if(L.$$typeof===Q)return re(U,V,Gu(U,L),j);Vu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(r(U,V.sibling),j=c(V,L),j.return=U,U=j):(r(U,V),j=Th(L,U.mode,j),j.return=U,U=j),p(U)):r(U,V)}return function(U,V,L,j){try{$s=0;var it=re(U,V,L,j);return Pa=null,it}catch(st){if(st===Xs)throw st;var bt=Sn(29,st,null,U.mode);return bt.lanes=j,bt.return=U,bt}finally{}}}var Yr=Fd(!0),Kd=Fd(!1),qa=xt(null),Ou=xt(0);function Yd(t,n){t=Di,Ht(Ou,t),Ht(qa,n),Di=t|n.baseLanes}function Cc(){Ht(Ou,Di),Ht(qa,qa.current)}function Vc(){Di=Ou.current,te(qa),te(Ou)}var En=xt(null),Yn=null;function Ji(t){var n=t.alternate;Ht(ve,ve.current&1),Ht(En,t),Yn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Yn=t)}function Xd(t){if(t.tag===22){if(Ht(ve,ve.current),Ht(En,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Wi()}function Wi(){Ht(ve,ve.current),Ht(En,En.current)}function yi(t){te(En),Yn===t&&(Yn=null),te(ve)}var ve=xt(0);function Iu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Ov=s.unstable_scheduleCallback,Iv=s.unstable_NormalPriority,Ee={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new Vv,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&Ov(Iv,function(){t.controller.abort()})}var tl=null,Ic=0,ka=0,Ha=null;function Mv(t,n){if(tl===null){var r=tl=[];Ic=0,ka=Lh(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ic++,n.then(Zd,Zd),n}function Zd(){if(--Ic===0&&tl!==null){Ha!==null&&(Ha.status="fulfilled");var t=tl;tl=null,ka=0,Ha=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Nv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var $d=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Mv(t,n),$d!==null&&$d(t,n)};var Xr=xt(null);function Mc(){var t=Xr.current;return t!==null?t:Kt.pooledCache}function Mu(t,n){n===null?Ht(Xr,Xr.current):Ht(Xr,n.pool)}function Jd(){var t=Mc();return t===null?null:{parent:Ee._currentValue,pool:t}}var tr=0,At=null,jt=null,ce=null,Nu=!1,ja=!1,Zr=!1,Uu=0,el=0,Ga=null,Uv=0;function se(){throw Error(a(321))}function Nc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!rn(t[r],n[r]))return!1;return!0}function Uc(t,n,r,l,c,f){return tr=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?$r:er,Zr=!1,f=r(l,c),Zr=!1,ja&&(f=tm(n,r,l,c)),Wd(t),f}function Wd(t){A.H=Xn;var n=jt!==null&&jt.next!==null;if(tr=0,ce=jt=At=null,Nu=!1,el=0,Ga=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&ju(t)&&(Ce=!0))}function tm(t,n,r,l){At=t;var c=0;do{if(ja&&(Ga=null),el=0,ja=!1,25<=c)throw Error(a(301));if(c+=1,ce=jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=Jr,f=n(r,l)}while(ja);return f}function xv(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?nl(n):n,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(At.flags|=1024),n}function xc(){var t=Uu!==0;return Uu=0,t}function zc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Lc(t){if(Nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Nu=!1}tr=0,ce=jt=At=null,ja=!1,el=Uu=0,Ga=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?At.memoizedState=ce=t:ce=ce.next=t,ce}function he(){if(jt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var n=ce===null?At.memoizedState:ce.next;if(n!==null)ce=n,jt=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},ce===null?At.memoizedState=ce=t:ce=ce.next=t}return ce}var xu;xu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nl(t){var n=el;return el+=1,Ga===null&&(Ga=[]),t=jd(Ga,t,n),n=At,(ce===null?n.memoizedState:ce.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?$r:er),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===Q)return qe(t)}throw Error(a(438,String(t)))}function Bc(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=xu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Qt;return n.index++,r}function _i(t,n){return typeof n=="function"?n(t):n}function Lu(t){var n=he();return Pc(n,jt,t)}function Pc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=p=null,S=null,O=n,H=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(It&F)===F:(tr&F)===F){var B=O.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===ka&&(H=!0);else if((tr&B)===B){O=O.next,B===ka&&(H=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=F,p=f):S=S.next=F,At.lanes|=B,cr|=B;F=O.action,Zr&&r(f,F),f=O.hasEagerState?O.eagerState:r(f,F)}else B={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},S===null?(E=S=B,p=f):S=S.next=B,At.lanes|=F,cr|=F;O=O.next}while(O!==null&&O!==n);if(S===null?p=f:S.next=E,!rn(f,t.memoizedState)&&(Ce=!0,H&&(r=Ha,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qc(t){var n=he(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function em(t,n,r){var l=At,c=he(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!rn((jt||c).memoizedState,r);if(p&&(c.memoizedState=r,Ce=!0),c=c.queue,jc(rm.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||ce!==null&&ce.memoizedState.tag&1){if(l.flags|=2048,Qa(9,im.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(a(349));f||tr&60||nm(l,n,r)}return r}function nm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=xu(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function im(t,n,r,l){n.value=r,n.getSnapshot=l,am(n)&&sm(t)}function rm(t,n,r){return r(function(){am(n)&&sm(t)})}function am(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!rn(t,r)}catch{return!0}}function sm(t){var n=$i(t,2);n!==null&&Ze(n,t,2)}function kc(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),Zr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n}function lm(t,n,r,l){return t.baseState=r,Pc(t,jt,typeof l=="function"?l:_i)}function zv(t,n,r,l,c){if(qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,um(n,f)):(f.next=r.next,n.pending=r.next=f)}}function um(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,p={};A.T=p;try{var E=r(c,l),S=A.S;S!==null&&S(p,E),om(t,n,E)}catch(O){Hc(t,n,O)}finally{A.T=f}}else try{f=r(c,l),om(t,n,f)}catch(O){Hc(t,n,O)}}function om(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){cm(t,n,l)},function(l){return Hc(t,n,l)}):cm(t,n,r)}function cm(t,n,r){n.status="fulfilled",n.value=r,hm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,um(t,r)))}function Hc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hm(n),n=n.next;while(n!==l)}t.action=null}function hm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fm(t,n){return n}function dm(t,n){if(Lt){var r=Kt.formState;if(r!==null){t:{var l=At;if(Lt){if(Ne){e:{for(var c=Ne,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ne=Nn(c.nextSibling),l=c.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:n},r.queue=l,r=Im.bind(null,At,l),l.dispatch=r,l=kc(!1),f=Yc.bind(null,At,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=zv.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function mm(t){var n=he();return gm(n,jt,t)}function gm(t,n,r){n=Pc(t,n,fm)[0],t=Lu(_i)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?nl(n):n;var l=he(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(At.flags|=2048,Qa(9,Lv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function Lv(t,n){t.action=n}function pm(t){var n=he(),r=jt;if(r!==null)return gm(n,r,t);he(),n=n.memoizedState,r=he();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=At.updateQueue,n===null&&(n=xu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ym(){return he().memoizedState}function Bu(t,n,r,l){var c=We();At.flags|=t,c.memoizedState=Qa(1|n,r,{destroy:void 0},l===void 0?null:l)}function Pu(t,n,r,l){var c=he();l=l===void 0?null:l;var f=c.memoizedState.inst;jt!==null&&l!==null&&Nc(l,jt.memoizedState.deps)?c.memoizedState=Qa(n,r,f,l):(At.flags|=t,c.memoizedState=Qa(1|n,r,f,l))}function _m(t,n){Bu(8390656,8,t,n)}function jc(t,n){Pu(2048,8,t,n)}function vm(t,n){return Pu(4,2,t,n)}function Em(t,n){return Pu(4,4,t,n)}function Tm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Am(t,n,r){r=r!=null?r.concat([t]):null,Pu(4,4,Tm.bind(null,n,t),r)}function Gc(){}function Sm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Nc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function bm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Nc(n,l[1]))return l[0];if(l=t(),Zr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function Qc(t,n,r){return r===void 0||tr&1073741824?t.memoizedState=n:(t.memoizedState=r,t=wg(),At.lanes|=t,cr|=t,r)}function Rm(t,n,r,l){return rn(r,n)?r:qa.current!==null?(t=Qc(t,r,l),rn(t,n)||(Ce=!0),t):tr&42?(t=wg(),At.lanes|=t,cr|=t,n):(Ce=!0,t.memoizedState=r)}function wm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=A.T,E={};A.T=E,Yc(t,!1,n,r);try{var S=c(),O=A.S;if(O!==null&&O(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=Nv(S,l);il(t,n,H,un(t))}else il(t,n,l,un(t))}catch(F){il(t,n,{then:function(){},status:"rejected",reason:F},un())}finally{tt.p=f,A.T=p}}function Bv(){}function Fc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Dm(t).queue;wm(t,c,n,Tt,r===null?Bv:function(){return Cm(t),r(l)})}function Dm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Tt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Cm(t){var n=Dm(t).next.queue;il(t,n,{},un())}function Kc(){return qe(Sl)}function Vm(){return he().memoizedState}function Om(){return he().memoizedState}function Pv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=un();t=rr(r);var l=ar(n,t,r);l!==null&&(Ze(l,n,r),sl(l,n,r)),n={cache:Oc()},t.payload=n;return}n=n.return}}function qv(t,n,r){var l=un();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?Mm(n,r):(r=Sc(t,n,r,l),r!==null&&(Ze(r,t,l),Nm(r,n,l)))}function Im(t,n,r){var l=un();il(t,n,r,l)}function il(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))Mm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(c.hasEagerState=!0,c.eagerState=E,rn(E,p))return Su(t,n,c,0),Kt===null&&Au(),!1}catch{}finally{}if(r=Sc(t,n,c,l),r!==null)return Ze(r,t,l),Nm(r,n,l),!0}return!1}function Yc(t,n,r,l){if(l={lane:2,revertLane:Lh(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(a(479))}else n=Sc(t,r,l,2),n!==null&&Ze(n,t,2)}function qu(t){var n=t.alternate;return t===At||n!==null&&n===At}function Mm(t,n){ja=Nu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Nm(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}var Xn={readContext:qe,use:zu,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};Xn.useCacheRefresh=se,Xn.useMemoCache=se,Xn.useHostTransitionStatus=se,Xn.useFormState=se,Xn.useActionState=se,Xn.useOptimistic=se;var $r={readContext:qe,use:zu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:_m,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Bu(4194308,4,Tm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Bu(4194308,4,t,n)},useInsertionEffect:function(t,n){Bu(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(Zr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(Zr){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=qv.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=kc(t);var n=t.queue,r=Im.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Gc,useDeferredValue:function(t,n){var r=We();return Qc(r,t,n)},useTransition:function(){var t=kc(!1);return t=wm.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=We();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));It&60||nm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,_m(rm.bind(null,l,f,t),[t]),l.flags|=2048,Qa(9,im.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=We(),n=Kt.identifierPrefix;if(Lt){var r=pi,l=gi;r=(l&~(1<<32-Fe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Uv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return We().memoizedState=Pv.bind(null,At)}};$r.useMemoCache=Bc,$r.useHostTransitionStatus=Kc,$r.useFormState=dm,$r.useActionState=dm,$r.useOptimistic=function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Yc.bind(null,At,!0,r),r.dispatch=n,[t,n]};var er={readContext:qe,use:zu,useCallback:Sm,useContext:qe,useEffect:jc,useImperativeHandle:Am,useInsertionEffect:vm,useLayoutEffect:Em,useMemo:bm,useReducer:Lu,useRef:ym,useState:function(){return Lu(_i)},useDebugValue:Gc,useDeferredValue:function(t,n){var r=he();return Rm(r,jt.memoizedState,t,n)},useTransition:function(){var t=Lu(_i)[0],n=he().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:em,useId:Vm};er.useCacheRefresh=Om,er.useMemoCache=Bc,er.useHostTransitionStatus=Kc,er.useFormState=mm,er.useActionState=mm,er.useOptimistic=function(t,n){var r=he();return lm(r,jt,t,n)};var Jr={readContext:qe,use:zu,useCallback:Sm,useContext:qe,useEffect:jc,useImperativeHandle:Am,useInsertionEffect:vm,useLayoutEffect:Em,useMemo:bm,useReducer:qc,useRef:ym,useState:function(){return qc(_i)},useDebugValue:Gc,useDeferredValue:function(t,n){var r=he();return jt===null?Qc(r,t,n):Rm(r,jt.memoizedState,t,n)},useTransition:function(){var t=qc(_i)[0],n=he().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:em,useId:Vm};Jr.useCacheRefresh=Om,Jr.useMemoCache=Bc,Jr.useHostTransitionStatus=Kc,Jr.useFormState=pm,Jr.useActionState=pm,Jr.useOptimistic=function(t,n){var r=he();return jt!==null?lm(r,jt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Xc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Zc={isMounted:function(t){return(t=t._reactInternals)?lt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=un(),c=rr(l);c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&(Ze(n,t,l),sl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=un(),c=rr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&(Ze(n,t,l),sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=un(),l=rr(r);l.tag=2,n!=null&&(l.callback=n),n=ar(t,l,r),n!==null&&(Ze(n,t,r),sl(n,t,r))}};function Um(t,n,r,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Gs(r,l)||!Gs(c,f):!0}function xm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Zc.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zm(t){ku(t)}function Lm(t){console.error(t)}function Bm(t){ku(t)}function Hu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function $c(t,n,r){return r=rr(r),r.tag=3,r.payload={element:null},r.callback=function(){Hu(t,n)},r}function qm(t){return t=rr(t),t.tag=3,t}function km(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Pm(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Pm(n,r,l),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function kv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&al(n,r,c,!0),r=En.current,r!==null){switch(r.tag){case 13:return Yn===null?Mh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Dc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Uh(t,l,c)),!1;case 22:return r.flags|=65536,l===Dc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Uh(t,l,c)),!1}throw Error(a(435,r.tag))}return Uh(t,l,c),Mh(),!1}if(Lt)return n=En.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==wc&&(t=Error(a(422),{cause:l}),Ys(yn(t,r)))):(l!==wc&&(n=Error(a(423),{cause:l}),Ys(yn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,r),c=$c(t.stateNode,l,c),fh(t,c),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=yn(f,r),ml===null?ml=[f]:ml.push(f),ie!==4&&(ie=2),n===null)return!0;l=yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=$c(r.stateNode,l,t),fh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=qm(c),km(c,t,r,l),fh(r,c),!1}r=r.return}while(r!==null);return!1}var Hm=Error(a(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?Kd(n,null,r,l):Yr(n,t.child,r,l)}function jm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return ea(n),l=Uc(t,n,r,p,f,c),E=xc(),t!==null&&!Ce?(zc(t,n,c),vi(t,n,c)):(Lt&&E&&bc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Gm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Eh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Qm(t,n,f,l,c)):(t=Ku(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sh(t,c)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Gs,r(p,l)&&t.ref===n.ref)return vi(t,n,c)}return n.flags|=1,t=or(f,l),t.ref=n.ref,t.return=n,n.child=t}function Qm(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Gs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,sh(t,c))t.flags&131072&&(Ce=!0);else return n.lanes=t.lanes,vi(t,n,c)}return Jc(t,n,r,l,c)}function Fm(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,p=t!==null?t.memoizedState:null;if(rl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=p!==null?p.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Km(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,p!==null?p.cachePool:null),p!==null?Yd(n,p):Cc(),Xd(n);else return n.lanes=n.childLanes=536870912,Km(t,n,p!==null?p.baseLanes|r:r,r)}else p!==null?(Mu(n,p.cachePool),Yd(n,p),Wi(),n.memoizedState=null):(t!==null&&Mu(n,null),Cc(),Wi());return Ue(t,n,c,r),n.child}function Km(t,n,r,l){var c=Mc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Mu(n,null),Cc(),Xd(n),t!==null&&al(t,n,l,!0),null}function rl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Jc(t,n,r,l,c){return ea(n),r=Uc(t,n,r,l,void 0,c),l=xc(),t!==null&&!Ce?(zc(t,n,c),vi(t,n,c)):(Lt&&l&&bc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function Ym(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=tm(n,l,r,c),Wd(t),l=xc(),t!==null&&!Ce?(zc(t,n,f),vi(t,n,f)):(Lt&&l&&bc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function Xm(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=za,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ch(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):za,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Xc(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Zc.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,S=Wr(r,E);f.props=S;var O=f.context,H=r.contextType;p=za,typeof H=="object"&&H!==null&&(p=qe(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==p)&&xm(n,f,l,p),ir=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ll(),O=n.memoizedState,E||B!==O||ir?(typeof F=="function"&&(Xc(n,r,F,l),O=n.memoizedState),(S=ir||Um(n,r,S,l,B,O,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=p,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hh(t,n),p=n.memoizedProps,H=Wr(r,p),f.props=H,F=n.pendingProps,B=f.context,O=r.contextType,S=za,typeof O=="object"&&O!==null&&(S=qe(O)),E=r.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==F||B!==S)&&xm(n,f,l,S),ir=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ll();var k=n.memoizedState;p!==F||B!==k||ir||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Xc(n,r,E,l),k=n.memoizedState),(H=ir||Um(n,r,H,l,B,k,S)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=S,l=H):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,rl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,c),n.child=Yr(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=vi(t,n,c),t}function Zm(t,n,r,l){return Ks(),n.flags|=256,Ue(t,n,r,l),n.child}var Wc={dehydrated:null,treeContext:null,retryLane:0};function th(t){return{baseLanes:t,cachePool:Jd()}}function eh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function $m(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(c?Ji(n):Wi(),Lt){var E=Ne,S;if(S=E){t:{for(S=E,E=Kn;S.nodeType!==8;){if(!E){E=null;break t}if(S=Nn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:gi,overflow:pi}:null,retryLane:536870912},S=Sn(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,Xe=n,Ne=null,S=!0):S=!1}S||Kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;yi(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=ih({mode:"hidden",children:E},c),l=ia(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=th(r),c.childLanes=eh(t,p,r),n.memoizedState=Wc,l):(Ji(n),nh(n,E))}if(S=t.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(Ji(n),n.flags&=-257,n=rh(t,n,r)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=ih({mode:"visible",children:l.children},E),c=ia(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Yr(n,t.child,null,r),l=n.child,l.memoizedState=th(r),l.childLanes=eh(t,p,r),n.memoizedState=Wc,n=c);else if(Ji(n),E.data==="$!"){if(p=E.nextSibling&&E.nextSibling.dataset,p)var O=p.dgst;p=O,l=Error(a(419)),l.stack="",l.digest=p,Ys({value:l,source:null,stack:null}),n=rh(t,n,r)}else if(Ce||al(t,n,r,!1),p=(r&t.childLanes)!==0,Ce||p){if(p=Kt,p!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(p.suspendedLanes|r)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,$i(t,l),Ze(p,t,l),Hm}E.data==="$?"||Mh(),n=rh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=nE.bind(null,t),E._reactRetry=n,n=null):(t=S.treeContext,Ne=Nn(E.nextSibling),Xe=n,Lt=!0,In=null,Kn=!1,t!==null&&(_n[vn++]=gi,_n[vn++]=pi,_n[vn++]=Qr,gi=t.id,pi=t.overflow,Qr=n),n=nh(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,S=t.child,O=S.sibling,l=or(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,O!==null?c=or(O,c):(c=ia(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=th(r):(S=E.cachePool,S!==null?(O=Ee._currentValue,S=S.parent!==O?{parent:O,pool:O}:S):S=Jd(),E={baseLanes:E.baseLanes|r,cachePool:S}),c.memoizedState=E,c.childLanes=eh(t,p,r),n.memoizedState=Wc,l):(Ji(n),r=t.child,t=r.sibling,r=or(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function nh(t,n){return n=ih({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ih(t,n){return Sg(t,n,0,null)}function rh(t,n,r){return Yr(n,t.child,null,r),t=nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jm(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uh(t.return,n,r)}function ah(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Wm(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=ve.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jm(t,r,n);else if(t.tag===19)Jm(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ht(ve,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Iu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),ah(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}ah(n,!0,r,null,f);break;case"together":ah(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,!(r&n.childLanes))if(t!==null){if(al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=or(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=or(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function sh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function Hv(t,n,r){switch(n.tag){case 3:xi(n,n.stateNode.containerInfo),nr(n,Ee,t.memoizedState.cache),Ks();break;case 27:case 5:Ss(n);break;case 4:xi(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):r&n.child.childLanes?$m(t,n,r):(Ji(n),t=vi(t,n,r),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(al(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Wm(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ht(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,Fm(t,n,r);case 24:nr(n,Ee,t.memoizedState.cache)}return vi(t,n,r)}function tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!sh(t,r)&&!(n.flags&128))return Ce=!1,Hv(t,n,r);Ce=!!(t.flags&131072)}else Ce=!1,Lt&&n.flags&1048576&&Bd(n,wu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Eh(l)?(t=Wr(l,t),n.tag=1,n=Xm(null,n,l,t,r)):(n.tag=0,n=Jc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=jm(null,n,l,t,r);break t}else if(c===St){n.tag=14,n=Gm(null,n,l,t,r);break t}}throw n=b(l)||l,Error(a(306,n,""))}}return n;case 0:return Jc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),Xm(t,n,l,c,r);case 3:t:{if(xi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,hh(t,n),ul(n,f,null,r);var p=n.memoizedState;if(f=p.cache,nr(n,Ee,f),f!==c.cache&&oh(n,[Ee],r,!0),ll(),f=p.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Zm(t,n,f,r);break t}else if(f!==l){l=yn(Error(a(424)),n),Ys(l),n=Zm(t,n,f,r);break t}else for(Ne=Nn(n.stateNode.containerInfo.firstChild),Xe=n,Lt=!0,In=null,Kn=!0,r=Kd(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ks(),f===l){n=vi(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return rl(t,n),t===null?(r=ip(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,t=n.pendingProps,l=ao(on.current).createElement(r),l[Re]=n,l[pe]=t,xe(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=ip(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ss(n),t===null&&Lt&&(l=n.stateNode=tp(n.type,n.pendingProps,on.current),Xe=n,Kn=!0,Ne=Nn(l.firstChild)),l=n.pendingProps.children,t!==null||Lt?Ue(t,n,l,r):n.child=Yr(n,null,l,r),rl(t,n),n.child;case 5:return t===null&&Lt&&((c=l=Ne)&&(l=_E(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Xe=n,Ne=Nn(l.firstChild),Kn=!1,c=!0):c=!1),c||Kr(n)),Ss(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Fh(c,f)?l=null:p!==null&&Fh(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Uc(t,n,xv,null,null,r),Sl._currentValue=c),rl(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Lt&&((t=r=Ne)&&(r=vE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Xe=n,Ne=null,t=!0):t=!1),t||Kr(n)),null;case 13:return $m(t,n,r);case 4:return xi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return jm(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return Gm(t,n,n.type,n.pendingProps,r);case 15:return Qm(t,n,n.type,n.pendingProps,r);case 19:return Wm(t,n,r);case 22:return Fm(t,n,r);case 24:return ea(n),l=qe(Ee),t===null?(c=Mc(),c===null&&(c=Kt,f=Oc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ch(n),nr(n,Ee,c)):(t.lanes&r&&(hh(t,n),ul(n,null,null,r),ll()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),nr(n,Ee,l)):(l=f.cache,nr(n,Ee,l),l!==c.cache&&oh(n,[Ee],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var lh=xt(null),ta=null,Ei=null;function nr(t,n,r){Ht(lh,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=lh.current,te(lh)}function uh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function oh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),uh(f.return,r,t),l||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),uh(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function al(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;rn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}c=c.return}t!==null&&oh(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return eg(ta,t)}function Gu(t,n){return ta===null&&ea(t),eg(t,n)}function eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(a(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var ir=!1;function ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Jt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=bu(t),zd(t,null,r),n}return Su(t,l,n,r),bu(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}function fh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var dh=!1;function ll(){if(dh){var t=Ha;if(t!==null)throw t}}function ul(t,n,r,l){dh=!1;var c=t.updateQueue;ir=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,O=S.next;S.next=null,p===null?f=O:p.next=O,p=S;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=S))}if(f!==null){var F=c.baseState;p=0,H=O=S=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(It&B)===B:(l&B)===B){B!==0&&B===ka&&(dh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,gt=E;B=n;var re=r;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){F=rt.call(re,F,B);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,B=typeof rt=="function"?rt.call(re,F,B):rt,B==null)break t;F=D({},F,B);break t;case 2:ir=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=k,S=F):H=H.next=k,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(S=F),c.baseState=S,c.firstBaseUpdate=O,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),cr|=p,t.lanes=p,t.memoizedState=F}}function ng(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ng(r[t],n)}function ol(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function sr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var S=r;try{E()}catch(O){Ft(c,S,O)}}}l=l.next}while(l!==f)}}catch(O){Ft(n,n.return,O)}}function rg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ig(n,r)}catch(l){Ft(t,t.return,l)}}}function ag(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function na(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Ft(t,n,f)}}function an(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function sg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function lg(t,n,r){try{var l=t.stateNode;dE(l,t.type,r,n),l[pe]=n}catch(c){Ft(t,t.return,c)}}function ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function mh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ro));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gh(t,n,r),t=t.sibling;t!==null;)gh(t,n,r),t=t.sibling}function Qu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Qu(t,n,r),t=t.sibling;t!==null;)Qu(t,n,r),t=t.sibling}var Ai=!1,ne=!1,ph=!1,og=typeof WeakSet=="function"?WeakSet:Set,Ve=null,cg=!1;function jv(t,n){if(t=t.containerInfo,Gh=ho,t=Dd(t),_c(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,S=-1,O=0,H=0,F=t,B=null;e:for(;;){for(var k;F!==r||c!==0&&F.nodeType!==3||(E=p+c),F!==f||l!==0&&F.nodeType!==3||(S=p+l),F.nodeType===3&&(p+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===r&&++O===c&&(E=p),B===f&&++H===l&&(S=p),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}r=E===-1||S===-1?null:{start:E,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qh={focusedElem:t,selectionRange:r},ho=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Ft(r,r.return,gt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Xh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return rt=cg,cg=!1,rt}function hg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:bi(t,r),l&4&&ol(5,r);break;case 1:if(bi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&rg(r),l&512&&na(r,r.return);break;case 3:if(bi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ig(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:bi(t,r),l&512&&na(r,r.return);break;case 27:case 5:bi(t,r),n===null&&l&4&&sg(r),l&512&&na(r,r.return);break;case 12:bi(t,r);break;case 13:bi(t,r),l&4&&mg(t,r);break;case 22:if(c=r.memoizedState!==null||Ai,!c){n=n!==null&&n.memoizedState!==null||ne;var f=Ai,p=ne;Ai=c,(ne=n)&&!p?lr(t,r,(r.subtreeFlags&8772)!==0):bi(t,r),Ai=f,ne=p}l&512&&(r.memoizedProps.mode==="manual"?na(r,r.return):an(r,r.return));break;default:bi(t,r)}}function fg(t){var n=t.alternate;n!==null&&(t.alternate=null,fg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Mr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,sn=!1;function Si(t,n,r){for(r=r.child;r!==null;)dg(t,n,r),r=r.sibling}function dg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ne||an(r,n),Si(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||an(r,n);var l=fe,c=sn;for(fe=r.stateNode,Si(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Mr(r),fe=l,sn=c;break;case 5:ne||an(r,n);case 6:c=fe;var f=sn;if(fe=null,Si(t,n,r),fe=c,sn=f,fe!==null)if(sn)try{t=fe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(p){Ft(r,n,p)}else try{fe.removeChild(r.stateNode)}catch(p){Ft(r,n,p)}break;case 18:fe!==null&&(sn?(n=fe,r=r.stateNode,n.nodeType===8?Yh(n.parentNode,r):n.nodeType===1&&Yh(n,r),Dl(n)):Yh(fe,r.stateNode));break;case 4:l=fe,c=sn,fe=r.stateNode.containerInfo,sn=!0,Si(t,n,r),fe=l,sn=c;break;case 0:case 11:case 14:case 15:ne||sr(2,r,n),ne||sr(4,r,n),Si(t,n,r);break;case 1:ne||(an(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ag(r,n,l)),Si(t,n,r);break;case 21:Si(t,n,r);break;case 22:ne||an(r,n),ne=(l=ne)||r.memoizedState!==null,Si(t,n,r),ne=l;break;default:Si(t,n,r)}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(r){Ft(n,n.return,r)}}function Gv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new og),n;default:throw Error(a(435,t.tag))}}function yh(t,n){var r=Gv(t);n.forEach(function(l){var c=iE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Tn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:case 5:fe=E.stateNode,sn=!1;break t;case 3:fe=E.stateNode.containerInfo,sn=!0;break t;case 4:fe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));dg(f,p,c),fe=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gg(n,t),n=n.sibling}var Mn=null;function gg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),An(t),l&4&&(sr(3,t,t.return),ol(3,t),sr(5,t,t.return));break;case 1:Tn(n,t),An(t),l&512&&(ne||r===null||an(r,r.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(Tn(n,t),An(t),l&512&&(ne||r===null||an(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ji]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),xe(f,l,r),f[Re]=t,Zt(f),l=f;break t;case"link":var p=sp("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;case"meta":if(p=sp("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=c.createElement(l),xe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[Re]=t,Zt(f),l=f}t.stateNode=l}else lp(c,t.type,t.stateNode);else t.stateNode=ap(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?lp(c,t.type,t.stateNode):ap(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var S=c.firstChild;S;){var O=S.nextSibling,H=S.nodeName;S[ji]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=O}for(var F=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);xe(c,F,f),c[Re]=t,c[pe]=f}catch(rt){Ft(t,t.return,rt)}}case 5:if(Tn(n,t),An(t),l&512&&(ne||r===null||an(r,r.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(rt){Ft(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,lg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(ph=!0);break;case 6:if(Tn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(rt){Ft(t,t.return,rt)}}break;case 3:if(uo=null,c=Mn,Mn=so(n.containerInfo),Tn(n,t),Mn=c,An(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Dl(n.containerInfo)}catch(rt){Ft(t,t.return,rt)}ph&&(ph=!1,pg(t));break;case 4:l=Mn,Mn=so(t.stateNode.containerInfo),Tn(n,t),An(t),Mn=l;break;case 12:Tn(n,t),An(t);break;case 13:Tn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wh=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yh(t,l)));break;case 22:if(l&512&&(ne||r===null||an(r,r.return)),S=t.memoizedState!==null,O=r!==null&&r.memoizedState!==null,H=Ai,F=ne,Ai=H||S,ne=F||O,Tn(n,t),ne=F,Ai=H,An(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Ai||ne,r===null||O||n||Fa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){O=r=n;try{if(c=O.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=O.stateNode,E=O.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;p.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(rt){Ft(O,O.return,rt)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=S?"":O.memoizedProps}catch(rt){Ft(O,O.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,yh(t,r))));break;case 19:Tn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yh(t,l)));break;case 21:break;default:Tn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(ug(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=mh(t);Qu(t,f,c);break;case 5:var p=l.stateNode;l.flags&32&&(fn(p,""),l.flags&=-33);var E=mh(t);Qu(t,E,p);break;case 3:case 4:var S=l.stateNode.containerInfo,O=mh(t);gh(t,O,S);break;default:throw Error(a(161))}}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hg(t,n.alternate,n),n=n.sibling}function Fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),Fa(n);break;case 1:an(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ag(n,n.return,r),Fa(n);break;case 26:case 27:case 5:an(n,n.return),Fa(n);break;case 22:an(n,n.return),n.memoizedState===null&&Fa(n);break;default:Fa(n)}t=t.sibling}}function lr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:lr(c,f,r),ol(4,f);break;case 1:if(lr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Ft(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)ng(S[c],E)}catch(O){Ft(l,l.return,O)}}r&&p&64&&rg(f),na(f,f.return);break;case 26:case 27:case 5:lr(c,f,r),r&&l===null&&p&4&&sg(f),na(f,f.return);break;case 12:lr(c,f,r);break;case 13:lr(c,f,r),r&&p&4&&mg(c,f);break;case 22:f.memoizedState===null&&lr(c,f,r),na(f,f.return);break;default:lr(c,f,r)}n=n.sibling}}function _h(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ws(r))}function vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t))}function ur(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(t,n,r,l),n=n.sibling}function yg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ur(t,n,r,l),c&2048&&ol(9,n);break;case 3:ur(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t)));break;case 12:if(c&2048){ur(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ft(n,n.return,S)}}else ur(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?ur(t,n,r,l):cl(t,n):f._visibility&4?ur(t,n,r,l):(f._visibility|=4,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&_h(n.alternate,n);break;case 24:ur(t,n,r,l),c&2048&&vh(n.alternate,n);break;default:ur(t,n,r,l)}}function Ka(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,p=n,E=r,S=l,O=p.flags;switch(p.tag){case 0:case 11:case 15:Ka(f,p,E,S,c),ol(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&4?Ka(f,p,E,S,c):cl(f,p):(H._visibility|=4,Ka(f,p,E,S,c)),c&&O&2048&&_h(p.alternate,p);break;case 24:Ka(f,p,E,S,c),c&&O&2048&&vh(p.alternate,p);break;default:Ka(f,p,E,S,c)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:cl(r,l),c&2048&&_h(l.alternate,l);break;case 24:cl(r,l),c&2048&&vh(l.alternate,l);break;default:cl(r,l)}n=n.sibling}}var hl=8192;function Ya(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)_g(t),t=t.sibling}function _g(t){switch(t.tag){case 26:Ya(t),t.flags&hl&&t.memoizedState!==null&&ME(Mn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var n=Mn;Mn=so(t.stateNode.containerInfo),Ya(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=hl,hl=16777216,Ya(t),hl=n):Ya(t));break;default:Ya(t)}}function vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Tg(l,t)}vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Fu(t)):fl(t);break;default:fl(t)}}function Fu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Tg(l,t)}vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),Fu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Fu(n));break;default:Fu(n)}t=t.sibling}}function Tg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ws(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(fg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}function Qv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,r,l){return new Qv(t,n,r,l)}function Eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,n){var r=t.alternate;return r===null?(r=Sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ag(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ku(t,n,r,l,c,f){var p=0;if(l=t,typeof t=="function")Eh(t)&&(p=1);else if(typeof t=="string")p=OE(t,r,Qe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return ia(r.children,c,f,n);case v:p=8,c|=24;break;case R:return t=Sn(12,r,n,c|2),t.elementType=R,t.lanes=f,t;case nt:return t=Sn(13,r,n,c),t.elementType=nt,t.lanes=f,t;case Z:return t=Sn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case Et:return Sg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case Q:p=10;break t;case q:p=9;break t;case $:p=11;break t;case St:p=14;break t;case dt:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Sn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ia(t,n,r,l){return t=Sn(7,t,l,n),t.lanes=r,t}function Sg(t,n,r,l){t=Sn(22,t,l,n),t.elementType=Et,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var p=$i(f,2);p!==null&&(c._pendingVisibility|=2,Ze(p,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if(c._pendingVisibility&2){var p=$i(f,2);p!==null&&(c._pendingVisibility&=-3,Ze(p,f,2))}}};return t.stateNode=c,t}function Th(t,n,r){return t=Sn(6,t,null,n),t.lanes=r,t}function Ah(t,n,r){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ri(t){t.flags|=4}function bg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!up(n)){if(n=En.current,n!==null&&((It&4194176)===It?Yn!==null:(It&62914560)!==It&&!(It&536870912)||n!==Yn))throw Zs=Dc,kd;t.flags|=8192}}function Yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,Za|=n)}function dl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Fv(t,n,r){var l=n.pendingProps;switch(Rc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Ee),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,In!==null&&(Oh(In),In=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(Ri(n),r!==null?($t(n),bg(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ri(n),$t(n),bg(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),$t(n),n.flags&=-16777217),null;case 27:ga(n),r=on.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Qe.current,Fs(n)?Pd(n):(t=tp(c,l,r),n.stateNode=t,Ri(n))}return $t(n),null;case 5:if(ga(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Qe.current,Fs(n))Pd(n);else{switch(c=ao(on.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Re]=n,t[pe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=on.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Re]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Yg(t.nodeValue,r)),t||Kr(n)}else t=ao(t).createTextNode(l),t[Re]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Re]=n}else Ks(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$t(n),c=!1}else In!==null&&(Oh(In),In=null),c=!0;if(!c)return n.flags&256?(yi(n),n):(yi(n),null)}if(yi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Yu(n,n.updateQueue),$t(n),null;case 4:return ri(),t===null&&kh(n.stateNode.containerInfo),$t(n),null;case 10:return Ti(n.type),$t(n),null;case 19:if(te(ve),c=n.memoizedState,c===null)return $t(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)dl(c,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Iu(t),f!==null){for(n.flags|=128,dl(c,!1),t=f.updateQueue,n.updateQueue=t,Yu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ag(r,t),r=r.sibling;return Ht(ve,ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&$e()>Xu&&(n.flags|=128,l=!0,dl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Iu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Yu(n,t),dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return $t(n),null}else 2*$e()-c.renderingStartTime>Xu&&r!==536870912&&(n.flags|=128,l=!0,dl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=$e(),n.sibling=null,t=ve.current,Ht(ve,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return yi(n),Vc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&Yu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Xr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Ee),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function Kv(t,n){switch(Rc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Ee),ri(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ga(n),null;case 13:if(yi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(ve),null;case 4:return ri(),null;case 10:return Ti(n.type),null;case 22:case 23:return yi(n),Vc(),t!==null&&te(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Ee),null;case 25:return null;default:return null}}function Rg(t,n){switch(Rc(n),n.tag){case 3:Ti(Ee),ri();break;case 26:case 27:case 5:ga(n);break;case 4:ri();break;case 13:yi(n);break;case 19:te(ve);break;case 10:Ti(n.type);break;case 22:case 23:yi(n),Vc(),t!==null&&te(Xr);break;case 24:Ti(Ee)}}var Yv={getCacheForType:function(t){var n=qe(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},Xv=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Kt=null,Rt=null,It=0,Yt=0,ln=null,wi=!1,Xa=!1,Sh=!1,Di=0,ie=0,cr=0,ra=0,bh=0,bn=0,Za=0,ml=null,Zn=null,Rh=!1,wh=0,Xu=1/0,Zu=null,hr=null,$u=!1,aa=null,gl=0,Dh=0,Ch=null,pl=0,Vh=null;function un(){if(Jt&2&&It!==0)return It&-It;if(A.T!==null){var t=ka;return t!==0?t:Lh()}return iu()}function wg(){bn===0&&(bn=!(It&536870912)||Lt?Cs():536870912);var t=En.current;return t!==null&&(t.flags|=32),bn}function Ze(t,n,r){(t===Kt&&Yt===2||t.cancelPendingCommit!==null)&&($a(t,0),Ci(t,It,bn,!1)),ae(t,r),(!(Jt&2)||t!==Kt)&&(t===Kt&&(!(Jt&2)&&(ra|=r),ie===4&&Ci(t,It,bn,!1)),$n(t))}function Dg(t,n,r){if(Jt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?Jv(t,n):Nh(t,n,!0),f=l;do{if(c===0){Xa&&!l&&Ci(t,n,0,!1);break}else if(c===6)Ci(t,n,0,!wi);else{if(r=t.current.alternate,f&&!Zv(r)){c=Nh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=ml;var S=E.current.memoizedState.isDehydrated;if(S&&($a(E,p).flags|=256),p=Nh(E,p,!1),p!==2){if(Sh&&!S){E.errorRecoveryDisabledLanes|=f,ra|=f,c=4;break t}f=Zn,Zn=c,f!==null&&Oh(f)}c=p}if(f=!1,c!==2)continue}}if(c===1){$a(t,0),Ci(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ci(l,n,bn,!wi);break t}break;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=wh+300-$e(),10<f)){if(Ci(l,n,bn,!wi),cn(l,0)!==0)break t;l.timeoutHandle=$g(Cg.bind(null,l,r,Zn,Zu,Rh,n,bn,ra,Za,wi,2,-0,0),f);break t}Cg(l,r,Zn,Zu,Rh,n,bn,ra,Za,wi,0,-0,0)}}break}while(!0);$n(t)}function Oh(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function Cg(t,n,r,l,c,f,p,E,S,O,H,F,B){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:IE},_g(n),n=NE(),n!==null)){t.cancelPendingCommit=n(xg.bind(null,t,r,l,c,p,E,S,1,F,B)),Ci(t,f,p,!O);return}xg(t,r,l,c,p,E,S,H,F,B)}function Zv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ci(t,n,r,l){n&=~bh,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),p=1<<f;l[f]=-1,c&=~p}r!==0&&qi(t,r,n)}function Ju(){return Jt&6?!0:(yl(0),!1)}function Ih(){if(Rt!==null){if(Yt===0)var t=Rt.return;else t=Rt,Ei=ta=null,Lc(t),Pa=null,$s=0,t=Rt;for(;t!==null;)Rg(t.alternate,t),t=t.return;Rt=null}}function $a(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,gE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ih(),Kt=t,Rt=r=or(t.current,null),It=n,Yt=0,ln=null,wi=!1,Xa=Bi(t,n),Sh=!1,Za=bn=bh=ra=cr=ie=0,Zn=ml=null,Rh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return Di=n,Au(),r}function Vg(t,n){At=null,A.H=Xn,n===Xs?(n=Gd(),Yt=3):n===kd?(n=Gd(),Yt=4):Yt=n===Hm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Rt===null&&(ie=1,Hu(t,yn(n,t.current)))}function Og(){var t=A.H;return A.H=Xn,t===null?Xn:t}function Ig(){var t=A.A;return A.A=Yv,t}function Mh(){ie=4,wi||(It&4194176)!==It&&En.current!==null||(Xa=!0),!(cr&134217727)&&!(ra&134217727)||Kt===null||Ci(Kt,It,bn,!1)}function Nh(t,n,r){var l=Jt;Jt|=2;var c=Og(),f=Ig();(Kt!==t||It!==n)&&(Zu=null,$a(t,n)),n=!1;var p=ie;t:do try{if(Yt!==0&&Rt!==null){var E=Rt,S=ln;switch(Yt){case 8:Ih(),p=6;break t;case 3:case 2:case 6:En.current===null&&(n=!0);var O=Yt;if(Yt=0,ln=null,Ja(t,E,S,O),r&&Xa){p=0;break t}break;default:O=Yt,Yt=0,ln=null,Ja(t,E,S,O)}}$v(),p=ie;break}catch(H){Vg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ei=ta=null,Jt=l,A.H=c,A.A=f,Rt===null&&(Kt=null,It=0,Au()),p}function $v(){for(;Rt!==null;)Mg(Rt)}function Jv(t,n){var r=Jt;Jt|=2;var l=Og(),c=Ig();Kt!==t||It!==n?(Zu=null,Xu=$e()+500,$a(t,n)):Xa=Bi(t,n);t:do try{if(Yt!==0&&Rt!==null){n=Rt;var f=ln;e:switch(Yt){case 1:Yt=0,ln=null,Ja(t,n,f,1);break;case 2:if(Hd(f)){Yt=0,ln=null,Ng(n);break}n=function(){Yt===2&&Kt===t&&(Yt=7),$n(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Hd(f)?(Yt=0,ln=null,Ng(n)):(Yt=0,ln=null,Ja(t,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(!p||up(p)){Yt=0,ln=null;var S=E.sibling;if(S!==null)Rt=S;else{var O=E.return;O!==null?(Rt=O,Wu(O)):Rt=null}break e}}Yt=0,ln=null,Ja(t,n,f,5);break;case 6:Yt=0,ln=null,Ja(t,n,f,6);break;case 8:Ih(),ie=6;break t;default:throw Error(a(462))}}Wv();break}catch(H){Vg(t,H)}while(!0);return Ei=ta=null,A.H=l,A.A=c,Jt=r,Rt!==null?0:(Kt=null,It=0,Au(),ie)}function Wv(){for(;Rt!==null&&!lc();)Mg(Rt)}function Mg(t){var n=tg(t.alternate,t,Di);t.memoizedProps=t.pendingProps,n===null?Wu(t):Rt=n}function Ng(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ym(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Ym(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Lc(n);default:Rg(r,n),n=Rt=Ag(n,Di),n=tg(r,n,Di)}t.memoizedProps=t.pendingProps,n===null?Wu(t):Rt=n}function Ja(t,n,r,l){Ei=ta=null,Lc(n),Pa=null,$s=0;var c=n.return;try{if(kv(t,c,n,r,It)){ie=1,Hu(t,yn(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ie=1,Hu(t,yn(r,t.current)),Rt=null;return}n.flags&32768?(Lt||l===1?t=!0:Xa||It&536870912?t=!1:(wi=t=!0,(l===2||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ug(n,t)):Wu(n)}function Wu(t){var n=t;do{if(n.flags&32768){Ug(n,wi);return}t=n.return;var r=Fv(n.alternate,n,Di);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ie===0&&(ie=5)}function Ug(t,n){do{var r=Kv(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);ie=6,Rt=null}function xg(t,n,r,l,c,f,p,E,S,O){var H=A.T,F=tt.p;try{tt.p=2,A.T=null,tE(t,n,r,l,F,c,f,p,E,S,O)}finally{A.T=H,tt.p=F}}function tE(t,n,r,l,c,f,p,E){do Wa();while(aa!==null);if(Jt&6)throw Error(a(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=S.lanes|S.childLanes;if(O|=Ac,eu(t,l,O,f,p,E),t===Kt&&(Rt=Kt=null,It=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||$u||($u=!0,Dh=O,Ch=r,rE(ai,function(){return Wa(),null})),r=(S.flags&15990)!==0,S.subtreeFlags&15990||r?(r=A.T,A.T=null,f=tt.p,tt.p=2,p=Jt,Jt|=4,jv(t,S),gg(S,t),bv(Qh,t.containerInfo),ho=!!Gh,Qh=Gh=null,t.current=S,hg(t,S.alternate,S),bs(),Jt=p,tt.p=f,A.T=r):t.current=S,$u?($u=!1,aa=t,gl=l):zg(t,O),O=t.pendingLanes,O===0&&(hr=null),ws(S.stateNode),$n(t),n!==null)for(c=t.onRecoverableError,S=0;S<n.length;S++)O=n[S],c(O.value,{componentStack:O.stack});return gl&3&&Wa(),O=t.pendingLanes,l&4194218&&O&42?t===Vh?pl++:(pl=0,Vh=t):pl=0,yl(0),null}function zg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ws(n)))}function Wa(){if(aa!==null){var t=aa,n=Dh;Dh=0;var r=nu(gl),l=A.T,c=tt.p;try{if(tt.p=32>r?32:r,A.T=null,aa===null)var f=!1;else{r=Ch,Ch=null;var p=aa,E=gl;if(aa=null,gl=0,Jt&6)throw Error(a(331));var S=Jt;if(Jt|=4,Eg(p.current),yg(p,p.current,E,r),Jt=S,yl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zi,p)}catch{}f=!0}return f}finally{tt.p=c,A.T=l,zg(t,n)}}return!1}function Lg(t,n,r){n=yn(r,n),n=$c(t.stateNode,n,2),t=ar(t,n,2),t!==null&&(ae(t,2),$n(t))}function Ft(t,n,r){if(t.tag===3)Lg(t,t,r);else for(;n!==null;){if(n.tag===3){Lg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=yn(r,t),r=qm(2),l=ar(n,r,2),l!==null&&(km(r,l,n,t),ae(l,2),$n(l));break}}n=n.return}}function Uh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Xv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Sh=!0,c.add(r),t=eE.bind(null,t,n,r),n.then(t,t))}function eE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(It&r)===r&&(ie===4||ie===3&&(It&62914560)===It&&300>$e()-wh?!(Jt&2)&&$a(t,0):bh|=r,Za===It&&(Za=0)),$n(t)}function Bg(t,n){n===0&&(n=Pi()),t=$i(t,n),t!==null&&(ae(t,n),$n(t))}function nE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Bg(t,r)}function iE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Bg(t,r)}function rE(t,n){return Vr(t,n)}var to=null,ts=null,xh=!1,eo=!1,zh=!1,sa=0;function $n(t){t!==ts&&t.next===null&&(ts===null?to=ts=t:ts=ts.next=t),eo=!0,xh||(xh=!0,sE(aE))}function yl(t,n){if(!zh&&eo){zh=!0;do for(var r=!1,l=to;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(p&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,kg(l,f))}else f=It,f=cn(l,l===Kt?f:0),!(f&3)||Bi(l,f)||(r=!0,kg(l,f));l=l.next}while(r);zh=!1}}function aE(){eo=xh=!1;var t=0;sa!==0&&(mE()&&(t=sa),sa=0);for(var n=$e(),r=null,l=to;l!==null;){var c=l.next,f=Pg(l,n);f===0?(l.next=null,r===null?to=c:r.next=c,c===null&&(ts=r)):(r=l,(t!==0||f&3)&&(eo=!0)),l=c}yl(t)}function Pg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Fe(f),E=1<<p,S=c[p];S===-1?(!(E&r)||E&l)&&(c[p]=_a(E,n)):S<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,r=It,r=cn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Yt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ya(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ya(l),nu(r)){case 2:case 8:r=be;break;case 32:r=ai;break;case 268435456:r=Rs;break;default:r=ai}return l=qg.bind(null,t),r=Vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ya(l),t.callbackPriority=2,t.callbackNode=null,2}function qg(t,n){var r=t.callbackNode;if(Wa()&&t.callbackNode!==r)return null;var l=It;return l=cn(t,t===Kt?l:0),l===0?null:(Dg(t,l,n),Pg(t,$e()),t.callbackNode!=null&&t.callbackNode===r?qg.bind(null,t):null)}function kg(t,n){if(Wa())return null;Dg(t,n,!0)}function sE(t){pE(function(){Jt&6?Vr(ge,t):t()})}function Lh(){return sa===0&&(sa=Cs()),sa}function Hg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function jg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function lE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Hg((c[pe]||null).action),p=l.submitter;p&&(n=(n=p[pe]||null)?Hg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ra("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var S=p?jg(c,p):new FormData(c);Fc(r,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=p?jg(c,p):new FormData(c),Fc(r,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Bh=0;Bh<xd.length;Bh++){var Ph=xd[Bh],uE=Ph.toLowerCase(),oE=Ph[0].toUpperCase()+Ph.slice(1);On(uE,"on"+oE)}On(Od,"onAnimationEnd"),On(Id,"onAnimationIteration"),On(Md,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(wv,"onTransitionRun"),On(Dv,"onTransitionStart"),On(Cv,"onTransitionCancel"),On(Nd,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Gg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){ku(H)}c.currentTarget=null,f=S}else for(p=0;p<l.length;p++){if(E=l[p],S=E.instance,O=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){ku(H)}c.currentTarget=null,f=S}}}}function Dt(t,n){var r=n[Ir];r===void 0&&(r=n[Ir]=new Set);var l=t+"__bubble";r.has(l)||(Qg(n,t,2,!1),r.add(l))}function qh(t,n,r){var l=0;n&&(l|=4),Qg(r,t,l,n)}var no="_reactListening"+Math.random().toString(36).slice(2);function kh(t){if(!t[no]){t[no]=!0,Os.forEach(function(r){r!=="selectionchange"&&(cE.has(r)||qh(r,!1,t),qh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[no]||(n[no]=!0,qh("selectionchange",!1,n))}}function Qg(t,n,r,l){switch(mp(n)){case 2:var c=zE;break;case 8:c=LE;break;default:c=tf}r=c.bind(null,n,r,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Hh(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;p=p.return}for(;E!==null;){if(p=Vn(E),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){l=f=p;continue t}E=E.parentNode}}l=l.return}lu(function(){var O=f,H=ba(r),F=[];t:{var B=Ud.get(t);if(B!==void 0){var k=Ra,rt=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":k=Ia;break;case"focusin":rt="focus",k=Ca;break;case"focusout":rt="blur",k=Ca;break;case"beforeblur":case"afterblur":k=Ca;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=gu;break;case Od:case Id:case Md:k=Va;break;case Nd:k=yu;break;case"scroll":case"scrollend":k=uu;break;case"wheel":k=Ma;break;case"copy":case"cut":case"paste":k=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Hs;break;case"toggle":case"beforetoggle":k=vu}var gt=(n&4)!==0,re=!gt&&(t==="scroll"||t==="scrollend"),U=gt?B!==null?B+"Capture":null:B;gt=[];for(var V=O,L;V!==null;){var j=V;if(L=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||L===null||U===null||(j=zr(V,U),j!=null&&gt.push(vl(V,j,L))),re)break;V=V.return}0<gt.length&&(B=new k(B,rt,null,r,H),F.push({event:B,listeners:gt}))}}if(!(n&7)){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==dn&&(rt=r.relatedTarget||r.fromElement)&&(Vn(rt)||rt[si]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(rt=r.relatedTarget||r.toElement,k=O,rt=rt?Vn(rt):null,rt!==null&&(re=lt(rt),gt=rt.tag,rt!==re||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(k=null,rt=O),k!==rt)){if(gt=gn,j="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Hs,j="onPointerLeave",U="onPointerEnter",V="pointer"),re=k==null?B:Gi(k),L=rt==null?B:Gi(rt),B=new gt(j,V+"leave",k,r,H),B.target=re,B.relatedTarget=L,j=null,Vn(H)===O&&(gt=new gt(U,V+"enter",rt,r,H),gt.target=L,gt.relatedTarget=re,j=gt),re=j,k&&rt)e:{for(gt=k,U=rt,V=0,L=gt;L;L=es(L))V++;for(L=0,j=U;j;j=es(j))L++;for(;0<V-L;)gt=es(gt),V--;for(;0<L-V;)U=es(U),L--;for(;V--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=es(gt),U=es(U)}gt=null}else gt=null;k!==null&&Fg(F,B,k,gt,!1),rt!==null&&re!==null&&Fg(F,re,rt,gt,!0)}}t:{if(B=O?Gi(O):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var it=vd;else if(_e(B))if(Ed)it=Av;else{it=Ev;var bt=vv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?O&&xs(O.elementType)&&(it=vd):it=Tv;if(it&&(it=it(t,O))){mi(F,it,r,H);break t}bt&&bt(t,B,O),t==="focusout"&&O&&B.type==="number"&&O.memoizedProps.value!=null&&Sa(B,"number",B.value)}switch(bt=O?Gi(O):window,t){case"focusin":(_e(bt)||bt.contentEditable==="true")&&(Na=bt,vc=O,Qs=null);break;case"focusout":Qs=vc=Na=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,Cd(F,r,H);break;case"selectionchange":if(Rv)break;case"keydown":case"keyup":Cd(F,r,H)}var st;if(Qn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Vt?P(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(g&&r.locale!=="ko"&&(Vt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vt&&(st=Ls()):(kn=H,Zi="value"in kn?kn.value:kn.textContent,Vt=!0)),bt=io(O,ct),0<bt.length&&(ct=new qs(ct,t,null,r,H),F.push({event:ct,listeners:bt}),st?ct.data=st:(st=X(r),st!==null&&(ct.data=st)))),(st=m?ye(t,r):Ot(t,r))&&(ct=io(O,"onBeforeInput"),0<ct.length&&(bt=new qs("onBeforeInput","beforeinput",null,r,H),F.push({event:bt,listeners:ct}),bt.data=st)),lE(F,t,O,r,H)}Gg(F,n)})}function vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function io(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(vl(t,c,f)),c=zr(t,n),c!=null&&l.push(vl(t,c,f))),t=t.return}return l}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fg(t,n,r,l,c){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,S=E.alternate,O=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||O===null||(S=O,c?(O=zr(r,f),O!=null&&p.unshift(vl(r,O,S))):c||(O=zr(r,f),O!=null&&p.push(vl(r,O,S)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var hE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function Kg(t){return(typeof t=="string"?t:""+t).replace(hE,`
`).replace(fE,"")}function Yg(t,n){return n=Kg(n),Kg(t)===n}function ro(){}function Gt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":su(t,l,f);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Gt(t,n,"name",c.name,c,null),Gt(t,n,"formEncType",c.formEncType,c,null),Gt(t,n,"formMethod",c.formMethod,c,null),Gt(t,n,"formTarget",c.formTarget,c,null)):(Gt(t,n,"encType",c.encType,c,null),Gt(t,n,"method",c.method,c,null),Gt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ro);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fc.get(r)||r,Fi(t,r,l))}}function jh(t,n,r,l,c,f){switch(r){case"style":su(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Fi(t,r,l)}}}function xe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,f,p,r,null)}}c&&Gt(t,n,"srcSet",r.srcSet,r,null),l&&Gt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=p=c=null,S=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":p=H;break;case"checked":S=H;break;case"defaultChecked":O=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Gt(t,n,l,H,r,null)}}Ur(t,f,E,S,O,p,c,!1),Nr(t);return;case"select":Dt("invalid",t),l=p=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Gt(t,n,c,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Gt(t,n,p,E,r,null)}Xi(t,l,c,f),Nr(t);return;case"option":for(S in r)if(r.hasOwnProperty(S)&&(l=r[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(t,n,S,l,r,null)}return;case"dialog":Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Dt(_l[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Gt(t,n,O,l,r,null)}return;default:if(xs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&jh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Gt(t,n,E,l,r,null))}function dE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,S=null,O=null,H=null;for(k in r){var F=r[k];if(r.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=F;default:l.hasOwnProperty(k)||Gt(t,n,k,null,l,F)}}for(var B in l){var k=l[B];if(F=r[B],l.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":O=k;break;case"defaultChecked":H=k;break;case"value":p=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==F&&Gt(t,n,B,k,l,F)}}Yi(t,p,E,S,O,H,f,c);return;case"select":k=p=E=B=null;for(f in r)if(S=r[f],r.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":k=S;default:l.hasOwnProperty(f)||Gt(t,n,f,null,l,S)}for(c in l)if(f=l[c],S=r[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==S&&Gt(t,n,c,f,l,S)}n=E,r=p,l=k,B!=null?zt(t,!!r,B,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Gt(t,n,E,null,l,c)}for(p in l)if(c=l[p],f=r[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Gt(t,n,p,c,l,f)}xr(t,B,k);return;case"option":for(var rt in r)if(B=r[rt],r.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Gt(t,n,rt,null,l,B)}for(S in l)if(B=l[S],k=r[S],l.hasOwnProperty(S)&&B!==k&&(B!=null||k!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Gt(t,n,S,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Gt(t,n,gt,null,l,B);for(O in l)if(B=l[O],k=r[O],l.hasOwnProperty(O)&&B!==k&&(B!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Gt(t,n,O,B,l,k)}return;default:if(xs(n)){for(var re in r)B=r[re],r.hasOwnProperty(re)&&B!==void 0&&!l.hasOwnProperty(re)&&jh(t,n,re,void 0,l,B);for(H in l)B=l[H],k=r[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||jh(t,n,H,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Gt(t,n,U,null,l,B);for(F in l)B=l[F],k=r[F],!l.hasOwnProperty(F)||B===k||B==null&&k==null||Gt(t,n,F,B,l,k)}var Gh=null,Qh=null;function ao(t){return t.nodeType===9?t:t.ownerDocument}function Xg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kh=null;function mE(){var t=window.event;return t&&t.type==="popstate"?t===Kh?!1:(Kh=t,!0):(Kh=null,!1)}var $g=typeof setTimeout=="function"?setTimeout:void 0,gE=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(t){return Jg.resolve(null).then(t).catch(yE)}:$g;function yE(t){setTimeout(function(){throw t})}function Yh(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Dl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Dl(n)}function Xh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xh(r),Mr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function _E(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function vE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Nn(t.nextSibling),t===null))return null;return t}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Wg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function tp(t,n,r){switch(n=ao(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Rn=new Map,ep=new Set;function so(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Vi=tt.d;tt.d={f:EE,r:TE,D:AE,C:SE,L:bE,m:RE,X:DE,S:wE,M:CE};function EE(){var t=Vi.f(),n=Ju();return t||n}function TE(t){var n=li(t);n!==null&&n.tag===5&&n.type==="form"?Cm(n):Vi.r(t)}var ns=typeof document>"u"?null:document;function np(t,n,r){var l=ns;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ep.has(c)||(ep.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function AE(t){Vi.D(t),np("dns-prefetch",t,null)}function SE(t,n){Vi.C(t,n),np("preconnect",t,n)}function bE(t,n,r){Vi.L(t,n,r);var l=ns;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var f=c;switch(n){case"style":f=is(t);break;case"script":f=rs(t)}Rn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(El(f))||n==="script"&&l.querySelector(Tl(f))||(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function RE(t,n){Vi.m(t,n);var r=ns;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=rs(t)}if(!Rn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(f)))return}l=r.createElement("link"),xe(l,"link",t),Zt(l),r.head.appendChild(l)}}}function wE(t,n,r){Vi.S(t,n,r);var l=ns;if(l&&t){var c=Qi(l).hoistableStyles,f=is(t);n=n||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(El(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&Zh(t,r);var S=p=l.createElement("link");Zt(S),xe(S,"link",t),S._p=new Promise(function(O,H){S.onload=O,S.onerror=H}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lo(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function DE(t,n){Vi.X(t,n);var r=ns;if(r&&t){var l=Qi(r).hoistableScripts,c=rs(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=D({src:t,async:!0},n),(n=Rn.get(c))&&$h(t,n),f=r.createElement("script"),Zt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function CE(t,n){Vi.M(t,n);var r=ns;if(r&&t){var l=Qi(r).hoistableScripts,c=rs(t),f=l.get(c);f||(f=r.querySelector(Tl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&$h(t,n),f=r.createElement("script"),Zt(f),xe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ip(t,n,r,l){var c=(c=on.current)?so(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=is(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=is(r.href);var f=Qi(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(El(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||VE(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rs(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function is(t){return'href="'+ee(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function rp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function VE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xe(n,"link",r),Zt(n),t.head.appendChild(n))}function rs(t){return'[src="'+ee(t)+'"]'}function Tl(t){return"script[async]"+t}function ap(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),xe(l,"style",c),lo(l,r.precedence,t),n.instance=l;case"stylesheet":c=is(r.href);var f=t.querySelector(El(c));if(f)return n.state.loading|=4,n.instance=f,Zt(f),f;l=rp(r),(c=Rn.get(c))&&Zh(l,c),f=(t.ownerDocument||t).createElement("link"),Zt(f);var p=f;return p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(f,"link",l),n.state.loading|=4,lo(f,r.precedence,t),n.instance=f;case"script":return f=rs(r.src),(c=t.querySelector(Tl(f)))?(n.instance=c,Zt(c),c):(l=r,(c=Rn.get(f))&&(l=D({},r),$h(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,lo(l,r.precedence,t));return n.instance}function lo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Zh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $h(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uo=null;function sp(t,n,r){if(uo===null){var l=new Map,c=uo=new Map;c.set(r,l)}else c=uo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[ji]||f[Re]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function lp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function OE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function up(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Al=null;function IE(){}function ME(t,n,r){if(Al===null)throw Error(a(475));var l=Al;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=is(r.href),f=t.querySelector(El(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=oo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Zt(f);return}f=t.ownerDocument||t,r=rp(r),(c=Rn.get(c))&&Zh(r,c),f=f.createElement("link"),Zt(f);var p=f;p._p=new Promise(function(E,S){p.onload=E,p.onerror=S}),xe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=oo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function NE(){if(Al===null)throw Error(a(475));var t=Al;return t.stylesheets&&t.count===0&&Jh(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Jh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function oo(){if(this.count--,this.count===0){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var co=null;function Jh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,co=new Map,n.forEach(UE,t),co=null,oo.call(t))}function UE(t,n){if(!(n.state.loading&4)){var r=co.get(t);if(r)var l=r.get(null);else{r=new Map,co.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,c),r.set(p,c),this.count++,l=oo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Sl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function xE(t,n,r,l,c,f,p,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function op(t,n,r,l,c,f,p,E,S,O,H,F){return t=new xE(t,n,r,p,E,S,O,F),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=Oc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ch(f),t}function cp(t){return t?(t=za,t):za}function hp(t,n,r,l,c,f){c=cp(c),l.context===null?l.context=c:l.pendingContext=c,l=rr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ar(t,l,n),r!==null&&(Ze(r,t,n),sl(r,t,n))}function fp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Wh(t,n){fp(t,n),(t=t.alternate)&&fp(t,n)}function dp(t){if(t.tag===13){var n=$i(t,67108864);n!==null&&Ze(n,t,67108864),Wh(t,67108864)}}var ho=!0;function zE(t,n,r,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=2,tf(t,n,r,l)}finally{tt.p=f,A.T=c}}function LE(t,n,r,l){var c=A.T;A.T=null;var f=tt.p;try{tt.p=8,tf(t,n,r,l)}finally{tt.p=f,A.T=c}}function tf(t,n,r,l){if(ho){var c=ef(l);if(c===null)Hh(t,n,l,fo,r),gp(t,l);else if(PE(c,t,n,r,l))l.stopPropagation();else if(gp(t,l),n&4&&-1<BE.indexOf(t)){for(;c!==null;){var f=li(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Cn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var S=1<<31-Fe(p);E.entanglements[1]|=S,p&=~S}$n(f),!(Jt&6)&&(Xu=$e()+500,yl(0))}}break;case 13:E=$i(f,2),E!==null&&Ze(E,f,2),Ju(),Wh(f,2)}if(f=ef(l),f===null&&Hh(t,n,l,fo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Hh(t,n,l,null,r)}}function ef(t){return t=ba(t),nf(t)}var fo=null;function nf(t){if(fo=null,t=Vn(t),t!==null){var n=lt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return fo=t,null}function mp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case ge:return 2;case be:return 8;case ai:case Jl:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var rf=!1,fr=null,dr=null,mr=null,bl=new Map,Rl=new Map,gr=[],BE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function wl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=li(n),n!==null&&dp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function PE(t,n,r,l,c){switch(n){case"focusin":return fr=wl(fr,t,n,r,l,c),!0;case"dragenter":return dr=wl(dr,t,n,r,l,c),!0;case"mouseover":return mr=wl(mr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return bl.set(f,wl(bl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Rl.set(f,wl(Rl.get(f)||null,t,n,r,l,c)),!0}return!1}function pp(t){var n=Vn(t.target);if(n!==null){var r=lt(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=un(),c=$i(r,l);c!==null&&Ze(c,r,l),Wh(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=ef(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);dn=l,r.target.dispatchEvent(l),dn=null}else return n=li(r),n!==null&&dp(n),t.blockedOn=r,!1;n.shift()}return!0}function yp(t,n,r){mo(t)&&r.delete(n)}function qE(){rf=!1,fr!==null&&mo(fr)&&(fr=null),dr!==null&&mo(dr)&&(dr=null),mr!==null&&mo(mr)&&(mr=null),bl.forEach(yp),Rl.forEach(yp)}function go(t,n){t.blockedOn===n&&(t.blockedOn=null,rf||(rf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qE)))}var po=null;function _p(t){po!==t&&(po=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){po===t&&(po=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(nf(l||r)===null)continue;break}var f=li(r);f!==null&&(t.splice(n,3),n-=3,Fc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Dl(t){function n(S){return go(S,t)}fr!==null&&go(fr,t),dr!==null&&go(dr,t),mr!==null&&go(mr,t),bl.forEach(n),Rl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)pp(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],p=c[pe]||null;if(typeof f=="function")p||_p(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[pe]||null)E=p.formAction;else if(nf(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),_p(r)}}}function af(t){this._internalRoot=t}yo.prototype.render=af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=un();hp(r,l,t,n,null,null)},yo.prototype.unmount=af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Wa(),hp(t.current,2,null,t,null,null),Ju(),n[si]=null}};function yo(t){this._internalRoot=t}yo.prototype.unstable_scheduleHydration=function(t){if(t){var n=iu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&pp(t)}};var vp=e.version;if(vp!=="19.0.0")throw Error(a(527,vp,"19.0.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Y(n),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var kE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{zi=_o.inject(kE),Pe=_o}catch{}}return Vl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=zm,f=Lm,p=Bm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=op(t,1,!1,null,null,r,l,c,f,p,E,null),t[si]=n.current,kh(t.nodeType===8?t.parentNode:t),new af(n)},Vl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=zm,p=Lm,E=Bm,S=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=op(t,1,!0,n,r??null,l,c,f,p,E,S,O),n.context=cp(null),r=n.current,l=un(),c=rr(l),c.callback=null,ar(r,c,l),n.current.lanes=l,ae(n,l),$n(n),t[si]=n.current,kh(t),new yo(n)},Vl.version="19.0.0",Vl}var Vp;function $E(){if(Vp)return uf.exports;Vp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),uf.exports=ZE(),uf.exports}var JE=$E(),Op={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},WE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],y=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},zy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,y=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,R=h>>2,N=(h&3)<<4|y>>4;let q=(y&15)<<2|v>>6,Q=v&63;_||(Q=64,d||(q=64)),a.push(i[R],i[N],i[q],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(xy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):WE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],y=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const N=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||y==null||v==null||N==null)throw new t0;const q=h<<2|y>>4;if(a.push(q),v!==64){const Q=y<<4&240|v>>2;if(a.push(Q),N!==64){const $=v<<6&192|N;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class t0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e0=function(s){const e=xy(s);return zy.encodeByteArray(e,!0)},Io=function(s){return e0(s).replace(/\./g,"")},n0=function(s){try{return zy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=()=>i0().__FIREBASE_DEFAULTS__,a0=()=>{if(typeof process>"u"||typeof Op>"u")return;const s=Op.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},s0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&n0(s[1]);return e&&JSON.parse(e)},Hf=()=>{try{return r0()||a0()||s0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},l0=s=>{var e,i;return(i=(e=Hf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},u0=s=>{const e=l0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ly=()=>{var s;return(s=Hf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Io(JSON.stringify(i)),Io(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f0(){var s;const e=(s=Hf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d0(){return!f0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m0(){try{return typeof indexedDB=="object"}catch{return!1}}function g0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="FirebaseError";class _s extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=p0,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,By.prototype.create)}}class By{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?y0(h,a):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new _s(u,y,a)}}function y0(s,e){return s.replace(_0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const _0=/\{\$([^}]+)}/g;function Ef(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Ip(h)&&Ip(d)){if(!Ef(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Ip(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){return s&&s._delegate?s._delegate:s}class Pl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new o0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T0(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:E0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E0(s){return s===la?void 0:s}function T0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new v0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const S0={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},b0=Nt.INFO,R0={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},w0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=R0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=b0,this._logHandler=w0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const D0=(s,e)=>e.some(i=>s instanceof i);let Mp,Np;function C0(){return Mp||(Mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V0(){return Np||(Np=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,Tf=new WeakMap,ky=new WeakMap,ff=new WeakMap,jf=new WeakMap;function O0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(_r(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&qy.set(i,s)}).catch(()=>{}),jf.set(e,s),e}function I0(s){if(Tf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Tf.set(s,e)}let Af={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Tf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ky.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function M0(s){Af=s(Af)}function N0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(df(this),e,...i);return ky.set(a,e.sort?e.sort():[e]),_r(a)}:V0().includes(s)?function(...e){return s.apply(df(this),e),_r(qy.get(this))}:function(...e){return _r(s.apply(df(this),e))}}function U0(s){return typeof s=="function"?N0(s):(s instanceof IDBTransaction&&I0(s),D0(s,C0())?new Proxy(s,Af):s)}function _r(s){if(s instanceof IDBRequest)return O0(s);if(ff.has(s))return ff.get(s);const e=U0(s);return e!==s&&(ff.set(s,e),jf.set(e,s)),e}const df=s=>jf.get(s);function x0(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),y=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const z0=["get","getKey","getAll","getAllKeys","count"],L0=["put","add","delete","clear"],mf=new Map;function Up(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=L0.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||z0.includes(i)))return;const h=async function(d,...y){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),u&&_.done]))[0]};return mf.set(e,h),h}M0(s=>({...s,get:(e,i,a)=>Up(e,i)||s.get(e,i,a),has:(e,i)=>!!Up(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(P0(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function P0(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sf="@firebase/app",xp="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Py("@firebase/app"),q0="@firebase/app-compat",k0="@firebase/analytics-compat",H0="@firebase/analytics",j0="@firebase/app-check-compat",G0="@firebase/app-check",Q0="@firebase/auth",F0="@firebase/auth-compat",K0="@firebase/database",Y0="@firebase/data-connect",X0="@firebase/database-compat",Z0="@firebase/functions",$0="@firebase/functions-compat",J0="@firebase/installations",W0="@firebase/installations-compat",tT="@firebase/messaging",eT="@firebase/messaging-compat",nT="@firebase/performance",iT="@firebase/performance-compat",rT="@firebase/remote-config",aT="@firebase/remote-config-compat",sT="@firebase/storage",lT="@firebase/storage-compat",uT="@firebase/firestore",oT="@firebase/vertexai",cT="@firebase/firestore-compat",hT="firebase",fT="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",dT={[Sf]:"fire-core",[q0]:"fire-core-compat",[H0]:"fire-analytics",[k0]:"fire-analytics-compat",[G0]:"fire-app-check",[j0]:"fire-app-check-compat",[Q0]:"fire-auth",[F0]:"fire-auth-compat",[K0]:"fire-rtdb",[Y0]:"fire-data-connect",[X0]:"fire-rtdb-compat",[Z0]:"fire-fn",[$0]:"fire-fn-compat",[J0]:"fire-iid",[W0]:"fire-iid-compat",[tT]:"fire-fcm",[eT]:"fire-fcm-compat",[nT]:"fire-perf",[iT]:"fire-perf-compat",[rT]:"fire-rc",[aT]:"fire-rc-compat",[sT]:"fire-gcs",[lT]:"fire-gcs-compat",[uT]:"fire-fst",[cT]:"fire-fst-compat",[oT]:"fire-vertex","fire-js":"fire-js",[hT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Map,mT=new Map,Rf=new Map;function zp(s,e){try{s.container.addComponent(e)}catch(i){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function No(s){const e=s.name;if(Rf.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Rf.set(e,s);for(const i of Mo.values())zp(i,s);for(const i of mT.values())zp(i,s);return!0}function gT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function pT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new By("app","Firebase",yT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=fT;function Hy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:bf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw vr.create("bad-app-name",{appName:String(u)});if(i||(i=Ly()),!i)throw vr.create("no-options");const h=Mo.get(u);if(h){if(Ef(i,h.options)&&Ef(a,h.config))return h;throw vr.create("duplicate-app",{appName:u})}const d=new A0(u);for(const _ of Rf.values())d.addComponent(_);const y=new _T(i,a,d);return Mo.set(u,y),y}function ET(s=bf){const e=Mo.get(s);if(!e&&s===bf&&Ly())return Hy();if(!e)throw vr.create("no-app",{appName:s});return e}function os(s,e,i){var a;let u=(a=dT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const y=[`Unable to register library "${u}" with version "${e}":`];h&&y.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&y.push("and"),d&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(y.join(" "));return}No(new Pl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebase-heartbeat-database",AT=1,ql="firebase-heartbeat-store";let gf=null;function jy(){return gf||(gf=x0(TT,AT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),gf}async function ST(s){try{const i=(await jy()).transaction(ql),a=await i.objectStore(ql).get(Gy(s));return await i.done,a}catch(e){if(e instanceof _s)Ii.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(i.message)}}}async function Lp(s,e){try{const a=(await jy()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,Gy(s)),await a.done}catch(i){if(i instanceof _s)Ii.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ii.warn(a.message)}}}function Gy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=1024,RT=30;class wT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Bp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>RT){const d=VT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ii.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Bp(),{heartbeatsToSend:a,unsentEntries:u}=DT(this._heartbeatsCache.heartbeats),h=Io(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ii.warn(i),""}}}function Bp(){return new Date().toISOString().substring(0,10)}function DT(s,e=bT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Pp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Pp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class CT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m0()?g0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ST(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Lp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Pp(s){return Io(JSON.stringify({version:2,heartbeats:s})).length}function VT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s){No(new Pl("platform-logger",e=>new B0(e),"PRIVATE")),No(new Pl("heartbeat",e=>new wT(e),"PRIVATE")),os(Sf,xp,s),os(Sf,xp,"esm2017"),os("fire-js","")}OT("");var IT="firebase",MT="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(IT,MT,"app");var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,Qy;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function A(){}A.prototype=b.prototype,M.D=b.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,I,z){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return b.prototype[I].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,b,A){A||(A=0);var D=Array(16);if(typeof b=="string")for(var I=0;16>I;++I)D[I]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(I=0;16>I;++I)D[I]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=M.g[0],A=M.g[1],I=M.g[2];var z=M.g[3],w=b+(z^A&(I^z))+D[0]+3614090360&4294967295;b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[1]+3905402710&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[2]+606105819&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[3]+3250441966&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(z^A&(I^z))+D[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[5]+1200080426&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[6]+2821735955&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[7]+4249261313&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(z^A&(I^z))+D[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[9]+2336552879&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[10]+4294925233&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[11]+2304563134&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(z^A&(I^z))+D[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=z+(I^b&(A^I))+D[13]+4254626195&4294967295,z=b+(w<<12&4294967295|w>>>20),w=I+(A^z&(b^A))+D[14]+2792965006&4294967295,I=z+(w<<17&4294967295|w>>>15),w=A+(b^I&(z^b))+D[15]+1236535329&4294967295,A=I+(w<<22&4294967295|w>>>10),w=b+(I^z&(A^I))+D[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[6]+3225465664&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[11]+643717713&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[0]+3921069994&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(I^z&(A^I))+D[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[10]+38016083&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[15]+3634488961&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[4]+3889429448&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(I^z&(A^I))+D[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[14]+3275163606&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[3]+4107603335&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[8]+1163531501&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(I^z&(A^I))+D[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=z+(A^I&(b^A))+D[2]+4243563512&4294967295,z=b+(w<<9&4294967295|w>>>23),w=I+(b^A&(z^b))+D[7]+1735328473&4294967295,I=z+(w<<14&4294967295|w>>>18),w=A+(z^b&(I^z))+D[12]+2368359562&4294967295,A=I+(w<<20&4294967295|w>>>12),w=b+(A^I^z)+D[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[8]+2272392833&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[11]+1839030562&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[14]+4259657740&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(A^I^z)+D[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[4]+1272893353&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[7]+4139469664&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[10]+3200236656&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(A^I^z)+D[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[0]+3936430074&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[3]+3572445317&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[6]+76029189&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(A^I^z)+D[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=z+(b^A^I)+D[12]+3873151461&4294967295,z=b+(w<<11&4294967295|w>>>21),w=I+(z^b^A)+D[15]+530742520&4294967295,I=z+(w<<16&4294967295|w>>>16),w=A+(I^z^b)+D[2]+3299628645&4294967295,A=I+(w<<23&4294967295|w>>>9),w=b+(I^(A|~z))+D[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[7]+1126891415&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[14]+2878612391&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[5]+4237533241&4294967295,A=I+(w<<21&4294967295|w>>>11),w=b+(I^(A|~z))+D[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[3]+2399980690&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[10]+4293915773&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[1]+2240044497&4294967295,A=I+(w<<21&4294967295|w>>>11),w=b+(I^(A|~z))+D[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[15]+4264355552&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[6]+2734768916&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[13]+1309151649&4294967295,A=I+(w<<21&4294967295|w>>>11),w=b+(I^(A|~z))+D[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=z+(A^(b|~I))+D[11]+3174756917&4294967295,z=b+(w<<10&4294967295|w>>>22),w=I+(b^(z|~A))+D[2]+718787259&4294967295,I=z+(w<<15&4294967295|w>>>17),w=A+(z^(I|~b))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+I&4294967295,M.g[3]=M.g[3]+z&4294967295}a.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var A=b-this.blockSize,D=this.B,I=this.h,z=0;z<b;){if(I==0)for(;z<=A;)u(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<b;)if(D[I++]=M.charCodeAt(z++),I==this.blockSize){u(this,D),I=0;break}}else for(;z<b;)if(D[I++]=M[z++],I==this.blockSize){u(this,D),I=0;break}}this.h=I,this.o+=b},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var A=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=A&255,A/=256;for(this.u(M),M=Array(16),b=A=0;4>b;++b)for(var D=0;32>D;D+=8)M[A++]=this.g[b]>>>D&255;return M};function h(M,b){var A=y;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=b(M)}function d(M,b){this.h=b;for(var A=[],D=!0,I=M.length-1;0<=I;I--){var z=M[I]|0;D&&z==b||(A[I]=z,D=!1)}this.g=A}var y={};function _(M){return-128<=M&&128>M?h(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return N;if(0>M)return Z(v(-M));for(var b=[],A=1,D=0;M>=A;D++)b[D]=M/A|0,A*=4294967296;return new d(b,0)}function R(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return Z(R(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),D=N,I=0;I<M.length;I+=8){var z=Math.min(8,M.length-I),w=parseInt(M.substring(I,I+z),b);8>z?(z=v(Math.pow(b,z)),D=D.j(z).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var N=_(0),q=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Z(this).m();for(var M=0,b=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*b,b*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(M);for(var b=v(Math.pow(M,6)),A=this,D="";;){var I=Qt(A,b).g;A=St(A,I.j(b));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=I,$(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function nt(M){return M.h==-1}s.l=function(M){return M=St(this,M),nt(M)?-1:$(M)?0:1};function Z(M){for(var b=M.g.length,A=[],D=0;D<b;D++)A[D]=~M.g[D];return new d(A,~M.h).add(q)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],D=0,I=0;I<=b;I++){var z=D+(this.i(I)&65535)+(M.i(I)&65535),w=(z>>>16)+(this.i(I)>>>16)+(M.i(I)>>>16);D=w>>>16,z&=65535,w&=65535,A[I]=w<<16|z}return new d(A,A[A.length-1]&-2147483648?-1:0)};function St(M,b){return M.add(Z(b))}s.j=function(M){if($(this)||$(M))return N;if(nt(this))return nt(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(nt(M))return Z(this.j(Z(M)));if(0>this.l(Q)&&0>M.l(Q))return v(this.m()*M.m());for(var b=this.g.length+M.g.length,A=[],D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<M.g.length;I++){var z=this.i(D)>>>16,w=this.i(D)&65535,me=M.i(I)>>>16,ue=M.i(I)&65535;A[2*D+2*I]+=w*ue,dt(A,2*D+2*I),A[2*D+2*I+1]+=z*ue,dt(A,2*D+2*I+1),A[2*D+2*I+1]+=w*me,dt(A,2*D+2*I+1),A[2*D+2*I+2]+=z*me,dt(A,2*D+2*I+2)}for(D=0;D<b;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=b;D<2*b;D++)A[D]=0;return new d(A,0)};function dt(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function Et(M,b){this.g=M,this.h=b}function Qt(M,b){if($(b))throw Error("division by zero");if($(M))return new Et(N,N);if(nt(M))return b=Qt(Z(M),b),new Et(Z(b.g),Z(b.h));if(nt(b))return b=Qt(M,Z(b)),new Et(Z(b.g),b.h);if(30<M.g.length){if(nt(M)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var A=q,D=b;0>=D.l(M);)A=yt(A),D=yt(D);var I=Ut(A,1),z=Ut(D,1);for(D=Ut(D,2),A=Ut(A,2);!$(D);){var w=z.add(D);0>=w.l(M)&&(I=I.add(A),z=w),D=Ut(D,1),A=Ut(A,1)}return b=St(M,I.j(b)),new Et(I,b)}for(I=N;0<=M.l(b);){for(A=Math.max(1,Math.floor(M.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=v(A),w=z.j(b);nt(w)||0<w.l(M);)A-=D,z=v(A),w=z.j(b);$(z)&&(z=q),I=I.add(z),M=St(M,w)}return new Et(I,M)}s.A=function(M){return Qt(this,M).h},s.and=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)&M.i(D);return new d(A,this.h&M.h)},s.or=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)|M.i(D);return new d(A,this.h|M.h)},s.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)^M.i(D);return new d(A,this.h^M.h)};function yt(M){for(var b=M.g.length+1,A=[],D=0;D<b;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new d(A,M.h)}function Ut(M,b){var A=b>>5;b%=32;for(var D=M.g.length-A,I=[],z=0;z<D;z++)I[z]=0<b?M.i(z+A)>>>b|M.i(z+A+1)<<32-b:M.i(z+A);return new d(I,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Qy=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,Er=d}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});var vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fy,Il,Ky,Ro,wf,Yy,Xy,Zy;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof vo=="object"&&vo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in g))break t;g=g[x]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,x={next:function(){if(!T&&g<o.length){var P=g++;return{value:m(P,o[P]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},y=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,g){return o.call.apply(o.bind,arguments)}function N(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function q(o,m,g){return q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:N,q.apply(null,arguments)}function Q(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,x,P){for(var X=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)X[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,X)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function Z(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(_(T)){const x=o.length||0,P=T.length||0;o.length=x+P;for(let X=0;X<P;X++)o[x+X]=T[X]}else o.push(T)}}class St{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function Et(){var o=y.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var yt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function Ut(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function M(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function b(o){const m={};for(const g in o)m[g]=o[g];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let g,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(g in T)o[g]=T[g];for(let P=0;P<A.length;P++)g=A[P],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function I(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function z(o){y.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,g){const T=ue.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new St(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,lt=!1,Pt=new me,C=()=>{const o=y.Promise.resolve(void 0);ht=()=>{o.then(Y)}};var Y=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){z(g)}var m=ue;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}lt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};y.addEventListener("test",g,m),y.removeEventListener("test",g,m)}catch{}return o}();function Tt(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(yt){t:{try{Qt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Tt.aa.h.call(this)}}$(Tt,W);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),xt=0;function te(o,m,g,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=x,this.key=++xt,this.da=this.fa=!1}function Ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Qe(o){this.src=o,this.g={},this.h=0}Qe.prototype.add=function(o,m,g,T,x){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var X=on(o,m,T,x);return-1<X?(m=o[X],g||(m.fa=!1)):(m=new te(m,this.src,P,!!T,x),m.fa=g,o.push(m)),m};function ii(o,m){var g=m.type;if(g in o.g){var T=o.g[g],x=Array.prototype.indexOf.call(T,m,void 0),P;(P=0<=x)&&Array.prototype.splice.call(T,x,1),P&&(Ht(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function on(o,m,g,T){for(var x=0;x<o.length;++x){var P=o[x];if(!P.da&&P.listener==m&&P.capture==!!g&&P.ha==T)return x}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),xi={};function ri(o,m,g,T,x){if(Array.isArray(m)){for(var P=0;P<m.length;P++)ri(o,m[P],g,T,x);return null}return g=$l(g),o&&o[oe]?o.K(m,g,v(T)?!!T.capture:!1,x):Ss(o,m,g,!1,T,x)}function Ss(o,m,g,T,x,P){if(!m)throw Error("Invalid event type");var X=v(x)?!!x.capture:!!x,Vt=bs(o);if(Vt||(o[Ui]=Vt=new Qe(o)),g=Vt.add(m,g,T,X,P),g.proxy)return g;if(T=ga(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)tt||(x=X),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(ya(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ga(){function o(g){return m.call(o.src,o.listener,g)}const m=lc;return o}function pa(o,m,g,T,x){if(Array.isArray(m))for(var P=0;P<m.length;P++)pa(o,m[P],g,T,x);else T=v(T)?!!T.capture:!!T,g=$l(g),o&&o[oe]?(o=o.i,m=String(m).toString(),m in o.g&&(P=o.g[m],g=on(P,g,T,x),-1<g&&(Ht(P[g]),Array.prototype.splice.call(P,g,1),P.length==0&&(delete o.g[m],o.h--)))):o&&(o=bs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=on(m,g,T,x)),(g=-1<o?m[o]:null)&&Vr(g))}function Vr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[oe])ii(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(ya(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=bs(m))?(ii(g,o),g.h==0&&(g.src=null,m[Ui]=null)):Ht(o)}}}function ya(o){return o in xi?xi[o]:xi[o]="on"+o}function lc(o,m){if(o.da)o=!0;else{m=new Tt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&Vr(o),o=g.call(T,m)}return o}function bs(o){return o=o[Ui],o instanceof Qe?o:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(o){return typeof o=="function"?o:(o[$e]||(o[$e]=function(m){return o.handleEvent(m)}),o[$e])}function ge(){at.call(this),this.i=new Qe(this),this.M=this,this.F=null}$(ge,at),ge.prototype[oe]=!0,ge.prototype.removeEventListener=function(o,m,g,T){pa(this,o,m,g,T)};function be(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var x=m;m=new W(T,o),D(m,x)}if(x=!0,g)for(var P=g.length-1;0<=P;P--){var X=m.g=g[P];x=ai(X,T,!0,m)&&x}if(X=m.g=o,x=ai(X,T,!0,m)&&x,x=ai(X,T,!1,m)&&x,g)for(P=0;P<g.length;P++)X=m.g=g[P],x=ai(X,T,!1,m)&&x}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ht(g[T]);delete o.g[m],o.h--}}this.F=null},ge.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},ge.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function ai(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,P=0;P<m.length;++P){var X=m[P];if(X&&!X.da&&X.capture==g){var Vt=X.listener,ye=X.ha||X.src;X.fa&&ii(o.i,X),x=Vt.call(ye,T)!==!1&&x}}return x&&!T.defaultPrevented}function Jl(o,m,g){if(typeof o=="function")g&&(o=q(o,g));else if(o&&typeof o.handleEvent=="function")o=q(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:y.setTimeout(o,m||0)}function Rs(o){o.g=Jl(()=>{o.g=null,o.i&&(o.i=!1,Rs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class uc extends at{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(o){at.call(this),this.h=o,this.g={}}$(Or,at);var zi=[];function Pe(o){Ut(o.g,function(m,g){this.g.hasOwnProperty(g)&&Vr(m)},o),o.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Pe(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ws=y.JSON.stringify,zn=y.JSON.parse,Fe=class{stringify(o){return y.JSON.stringify(o,void 0)}parse(o){return y.JSON.parse(o,void 0)}};function Ds(){}Ds.prototype.h=null;function Wl(o){return o.h||(o.h=o.i())}function tu(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){W.call(this,"d")}$(Li,W);function Cn(){W.call(this,"c")}$(Cn,W);var cn={},Bi=null;function _a(){return Bi=Bi||new ge}cn.La="serverreachability";function Cs(o){W.call(this,cn.La,o)}$(Cs,W);function Pi(o){const m=_a();be(m,new Cs(m))}cn.STAT_EVENT="statevent";function va(o,m){W.call(this,cn.STAT_EVENT,o),this.stat=m}$(va,W);function ae(o){const m=_a();be(m,new va(m,o))}cn.Ma="timingevent";function eu(o,m){W.call(this,cn.Ma,o),this.size=m}$(eu,W);function qi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){o()},m)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function nu(o,m,g,T,x,P){o.info(function(){if(o.g)if(P)for(var X="",Vt=P.split("&"),ye=0;ye<Vt.length;ye++){var Ot=Vt[ye].split("=");if(1<Ot.length){var De=Ot[0];Ot=Ot[1];var _e=De.split("_");X=2<=_e.length&&_e[1]=="type"?X+(De+"="+Ot+"&"):X+(De+"=redacted&")}}else X=null;else X=P;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+g+`
`+X})}function iu(o,m,g,T,x,P,X){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+g+`
`+P+" "+X})}function Hi(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Re(o,g)+(T?" "+T:"")})}function Bn(o,m){o.info(function(){return"TIMEOUT: "+m})}ki.prototype.info=function(){};function Re(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var X=1;X<x.length;X++)x[X]=""}}}}return ws(g)}catch{return m}}var pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function Ea(){}$(Ea,Ds),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Ir=new Ea;function Pn(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}var ji={},Mr={};function Vn(o,m,g){o.L=1,o.v=xr(ee(m)),o.m=g,o.P=!0,li(o,null)}function li(o,m){o.F=Date.now(),Zt(o),o.A=ee(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),ci(g.i,"t",T),o.C=0,g=o.j.J,o.h=new Vs,o.g=yu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new uc(q(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(zi[0]=x.toString()),x=zi);for(var P=0;P<x.length;P++){var X=ri(g,x[P],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Pi(),nu(o.i,o.u,o.A,o.l,o.R,o.m)}Pn.prototype.ca=function(o){o=o.target;const m=this.M;m&&gn(o)==3?m.j():this.Y(o)},Pn.prototype.Y=function(o){try{if(o==this.g)t:{const _e=gn(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||_e!=4||m==7||(m==8||0>=mi?Pi(3):Pi(2)),Ta(this);var g=this.g.Z();this.X=g;e:if(Gi(this)){var T=ou(this.g);o="";var x=T.length,P=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),en(this);var X="";break e}this.h.i=new y.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(P&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,iu(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Vt)){var Ot=Vt;break e}}Ot=null}if(g=Ot)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nn(this,g);else{this.o=!1,this.s=3,ae(12),Je(this),en(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<X.length;)if(Me=Qi(this,X),Me==Mr){_e==4&&(this.s=4,ae(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==ji){this.s=4,ae(15),Hi(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,Me,null),nn(this,Me);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||X.length!=0||this.h.h||(this.s=1,ae(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,X,"[Invalid Chunked Response]"),Je(this),en(this);else if(0<X.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Hr(De),De.M=!0,ae(11))}}else Hi(this.i,this.l,X,null),nn(this,X);_e==4&&Je(this),this.o&&!this.J&&(_e==4?mu(this.j,this):(this.o=!1,Zt(this)))}else mc(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Je(this),en(this)}}}catch{}finally{}};function Gi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Qi(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?Mr:(g=Number(m.substring(g,T)),isNaN(g)?ji:(T+=1,T+g>m.length?Mr:(m=m.slice(T,T+g),o.C=T+g,m)))}Pn.prototype.cancel=function(){this.J=!0,Je(this)};function Zt(o){o.S=Date.now()+o.I,Os(o,o.I)}function Os(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=qi(q(o.ba,o),m)}function Ta(o){o.B&&(y.clearTimeout(o.B),o.B=null)}Pn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bn(this.i,this.A),this.L!=2&&(Pi(),ae(17)),Je(this),this.s=2,en(this)):Os(this,this.S-o)};function en(o){o.j.G==0||o.J||mu(o.j,o)}function Je(o){Ta(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Pe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function nn(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Fi(g.h,o))){if(!o.K&&Fi(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ia(g),Va(g);else break t;ks(g),ae(18)}}else g.za=x[1],0<g.za-g.T&&37500>x[2]&&g.F&&g.v==0&&!g.C&&(g.C=qi(q(g.Za,g),6e3));if(1>=ru(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else di(g,11)}else if((o.K||g.g==o)&&Ia(g),!dt(m))for(x=g.Da.g.parse(m),m=0;m<x.length;m++){let Ot=x[m];if(g.T=Ot[0],Ot=Ot[1],g.G==2)if(Ot[0]=="c"){g.K=Ot[1],g.ia=Ot[2];const De=Ot[3];De!=null&&(g.la=De,g.j.info("VER="+g.la));const _e=Ot[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const mi=Ot[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Fn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var P=T.h;P.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Ki(P,P.h),P.h=null))}if(T.D){const js=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(T.ya=js,zt(T.I,T.D,js))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var X=o;if(T.qa=pu(T,T.J?T.ia:null,T.W),X.K){hn(T.h,X);var Vt=X,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Ta(Vt),Zt(Vt)),T.g=X}else fu(T);0<g.i.length&&Oa(g)}else Ot[0]!="stop"&&Ot[0]!="close"||di(g,7);else g.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?di(g,7):Ps(g):Ot[0]!="noop"&&g.l&&g.l.ta(Ot),g.v=0)}}Pi(4)}catch{}}var oc=class{constructor(o,m){this.g=o,this.map=m}};function Is(o){this.l=o||10,y.PerformanceNavigationTiming?(o=y.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ms(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ru(o){return o.h?1:o.g?o.g.size:0}function Fi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ki(o,m){o.g?o.g.add(m):o.h=m}function hn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Is.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function au(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function cc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Nr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=cc(o),T=au(o),x=T.length,P=0;P<x;P++)m.call(void 0,T[P],g&&g[P],o)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),x=null;if(0<=T){var P=o[g].substring(0,T);x=o[g].substring(T+1)}else P=o[g];m(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ui(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ui){this.h=o.h,Yi(this,o.j),this.o=o.o,this.g=o.g,Ur(this,o.s),this.l=o.l;var m=o.i,g=new qn;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Sa(this,g),this.m=o.m}else o&&(m=String(o).match(Ns))?(this.h=!1,Yi(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),Ur(this,m[4]),this.l=Xi(m[5]||"",!0),Sa(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}ui.prototype.toString=function(){var o=[],m=this.j;m&&o.push(fn(m,Us,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(fn(m,Us,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(fn(g,g.charAt(0)=="/"?xs:su,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",fn(g,dc)),o.join("")};function ee(o){return new ui(o)}function Yi(o,m,g){o.j=g?Xi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ur(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Sa(o,m,g){m instanceof qn?(o.i=m,zs(o.i,o.h)):(g||(m=fn(m,fc)),o.i=new qn(m,o.h))}function zt(o,m,g){o.i.set(m,g)}function xr(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function fn(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,hc),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function hc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Us=/[#\/\?@]/g,su=/[#\?:]/g,xs=/[#\?]/g,fc=/[#\?@]/g,dc=/#/g;function qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function dn(o){o.g||(o.g=new Map,o.h=0,o.i&&Aa(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=qn.prototype,s.add=function(o,m){dn(this),this.i=null,o=hi(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function ba(o,m){dn(o),m=hi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function oi(o,m){return dn(o),m=hi(o,m),o.g.has(m)}s.forEach=function(o,m){dn(this),this.g.forEach(function(g,T){g.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){dn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const x=o[T];for(let P=0;P<x.length;P++)g.push(m[T])}return g},s.V=function(o){dn(this);let m=[];if(typeof o=="string")oi(this,o)&&(m=m.concat(this.g.get(hi(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return dn(this),this.i=null,o=hi(this,o),oi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function ci(o,m,g){ba(o,m),0<g.length&&(o.i=null,o.g.set(hi(o,m),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const P=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var x=P;X[T]!==""&&(x+="="+encodeURIComponent(String(X[T]))),o.push(x)}}return this.i=o.join("&")};function hi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function zs(o,m){m&&!o.j&&(dn(o),o.i=null,o.g.forEach(function(g,T){var x=T.toLowerCase();T!=x&&(ba(this,T),ci(this,x,g))},o)),o.j=m}function lu(o,m){const g=new ki;if(y.Image){const T=new Image;T.onload=Q(mn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Q(mn,g,"TestLoadImage: error",!1,m,T),T.onabort=Q(mn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Q(mn,g,"TestLoadImage: timeout",!1,m,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function zr(o,m){const g=new ki,T=new AbortController,x=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(x),P.ok?mn(g,"TestPingServer: ok",!0,m):mn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),mn(g,"TestPingServer: error",!1,m)})}function mn(o,m,g,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(g)}catch{}}function Lr(){this.g=new Fe}function kn(o,m,g){const T=g||"";try{Nr(o,function(x,P){let X=x;v(x)&&(X=ws(x)),m.push(T+P+"="+encodeURIComponent(X))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Zi(o){this.l=o.Ub||null,this.j=o.eb||!1}$(Zi,Ds),Zi.prototype.g=function(){return new fi(this.l,this.j)},Zi.prototype.i=function(o){return function(){return o}}({});function fi(o,m){ge.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(fi,ge),s=fi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||y).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ls(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ls(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):jn(this),this.readyState==3&&Ls(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},s.Qa=function(o){this.g&&(this.response=o,Hn(this))},s.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let m="";return Ut(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function we(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Bs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):zt(o,m,g))}function qt(o){ge.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(qt,ge);var Ra=/^https?$/i,Br=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?Wl(this.o):Wl(Ir),this.g.onreadystatechange=q(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){uu(this,P);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)g.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())g.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),x=y.FormData&&o instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Br,m,void 0))||T||x||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,X]of g)this.g.setRequestHeader(P,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){uu(this,P)}};function uu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,wa(o),Gn(o)}function wa(o){o.A||(o.A=!0,be(o,"complete"),be(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,be(this,"complete"),be(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},s.bb=function(){Da(this)};function Da(o){if(o.h&&typeof d<"u"&&(!o.v[1]||gn(o)!=4||o.Z()!=2)){if(o.u&&gn(o)==4)Jl(o.Ea,0,o);else if(be(o,"readystatechange"),gn(o)==4){o.h=!1;try{const X=o.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=X===0){var x=String(o.D).match(Ns)[1]||null;!x&&y.self&&y.self.location&&(x=y.self.location.protocol.slice(0,-1)),T=!Ra.test(x?x.toLowerCase():"")}g=T}if(g)be(o,"complete"),be(o,"success");else{o.m=6;try{var P=2<gn(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",wa(o)}}finally{Gn(o)}}}}function Gn(o,m){if(o.g){Pr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||be(o,"ready");try{g.onreadystatechange=T}catch{}}}function Pr(o){o.I&&(y.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function gn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function ou(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function mc(o){const m={};o=(o.g&&2<=gn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var g=I(o[T]);const x=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const P=m[x]||[];m[x]=P,P.push(g)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ca(o){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,o),this.cb=qr("retryDelaySeedMs",1e4,o),this.Wa=qr("forwardChannelMaxRetries",2,o),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(o&&o.concurrentRequestLimit),this.Da=new Lr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ca.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,T){ae(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=pu(this,null,this.W),Oa(this)};function Ps(o){if(cu(o),o.G==3){var m=o.U++,g=ee(o.I);if(zt(g,"SID",o.K),zt(g,"RID",m),zt(g,"TYPE","terminate"),kr(o,g),m=new Pn(o,o.j,m),m.L=2,m.v=xr(ee(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=m.v,g=!0),g||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}gu(o)}function Va(o){o.g&&(Hr(o),o.g.cancel(),o.g=null)}function cu(o){Va(o),o.u&&(y.clearTimeout(o.u),o.u=null),Ia(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&y.clearTimeout(o.s),o.s=null)}function Oa(o){if(!Ms(o.h)&&!o.s){o.s=!0;var m=o.Ga;ht||C(),lt||(ht(),lt=!0),Pt.add(m,o),o.B=0}}function gc(o,m){return ru(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=qi(q(o.Ga,o,m),Hs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new Pn(this,this.j,o);let P=this.o;if(this.S&&(P?(P=b(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=hu(this,x,m),g=ee(this.I),zt(g,"RID",o),zt(g,"CVER",22),this.D&&zt(g,"X-HTTP-Session-Id",this.D),kr(this,g),P&&(this.O?m="headers="+encodeURIComponent(String(Bs(P)))+"&"+m:this.m&&we(g,this.m,P)),Ki(this.h,x),this.Ua&&zt(g,"TYPE","init"),this.P?(zt(g,"$req",m),zt(g,"SID","null"),x.T=!0,Vn(x,g,null)):Vn(x,g,m),this.G=2}}else this.G==3&&(o?qs(this,o):this.i.length==0||Ms(this.h)||qs(this))};function qs(o,m){var g;m?g=m.l:g=o.U++;const T=ee(o.I);zt(T,"SID",o.K),zt(T,"RID",g),zt(T,"AID",o.T),kr(o,T),o.m&&o.o&&we(T,o.m,o.o),g=new Pn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=hu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ki(o.h,g),Vn(g,T,m)}function kr(o,m){o.H&&Ut(o.H,function(g,T){zt(m,T,g)}),o.l&&Nr({},function(g,T){zt(m,T,g)})}function hu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?q(o.l.Na,o.l,o):null;t:{var x=o.i;let P=-1;for(;;){const X=["count="+g];P==-1?0<g?(P=x[0].g,X.push("ofs="+P)):P=0:X.push("ofs="+P);let Vt=!0;for(let ye=0;ye<g;ye++){let Ot=x[ye].g;const De=x[ye].map;if(Ot-=P,0>Ot)P=Math.max(0,x[ye].g-100),Vt=!1;else try{kn(De,X,"req"+Ot+"_")}catch{T&&T(De)}}if(Vt){T=X.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function fu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ht||C(),lt||(ht(),lt=!0),Pt.add(m,o),o.v=0}}function ks(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=qi(q(o.Fa,o),Hs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=qi(q(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Va(this),du(this))};function Hr(o){o.A!=null&&(y.clearTimeout(o.A),o.A=null)}function du(o){o.g=new Pn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ee(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),kr(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=xr(ee(m)),g.m=null,g.P=!0,li(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Va(this),ks(this),ae(19))};function Ia(o){o.C!=null&&(y.clearTimeout(o.C),o.C=null)}function mu(o,m){var g=null;if(o.g==m){Ia(o),Hr(o),o.g=null;var T=2}else if(Fi(o.h,m))g=m.D,hn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=_a(),be(T,new eu(T,g)),Oa(o)}else fu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&gc(o,m)||T==2&&ks(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),x){case 1:di(o,5);break;case 4:di(o,10);break;case 3:di(o,6);break;default:di(o,2)}}}function Hs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function di(o,m){if(o.j.info("Error code "+m),m==2){var g=q(o.fb,o),T=o.Xa;const x=!T;T=new ui(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Yi(T,"https"),xr(T),x?lu(T.toString(),g):zr(T.toString(),g)}else ae(2);o.G=0,o.l&&o.l.sa(m),gu(o),cu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function gu(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function pu(o,m,g){var T=g instanceof ui?ee(g):new ui(g);if(T.g!="")m&&(T.g=m+"."+T.g),Ur(T,T.s);else{var x=y.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var P=new ui(null);T&&Yi(P,T),m&&(P.g=m),x&&Ur(P,x),g&&(P.l=g),T=P}return g=o.D,m=o.ya,g&&m&&zt(T,g,m),zt(T,"VER",o.la),kr(o,T),T}function yu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Zi({eb:g})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ma(){}Ma.prototype.g=function(o,m){return new Ye(o,m)};function Ye(o,m){ge.call(this),this.g=new Ca(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}$(Ye,ge),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Ps(this.g)},Ye.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=ws(o),o=g);m.i.push(new oc(m.Ya++,o)),m.G==3&&Oa(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,Ye.aa.N.call(this)};function vu(o){Li.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(vu,Li);function Eu(){Cn.call(this),this.status=1}$(Eu,Cn);function Qn(o){this.g=o}$(Qn,_u),Qn.prototype.ua=function(){be(this.g,"a")},Qn.prototype.ta=function(o){be(this.g,new vu(o))},Qn.prototype.sa=function(o){be(this.g,new Eu)},Qn.prototype.ra=function(){be(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,Zy=function(){return new Ma},Xy=function(){return _a()},Yy=cn,wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,Ro=pe,si.COMPLETE="complete",Ky=si,tu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Il=tu,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Fy=qt}).apply(typeof vo<"u"?vo:typeof self<"u"?self:typeof window<"u"?window:{});const kp="@firebase/firestore",Hp="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vs="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Py("@firebase/firestore");function as(){return oa.logLevel}function et(s,...e){if(oa.logLevel<=Nt.DEBUG){const i=e.map(Gf);oa.debug(`Firestore (${vs}): ${s}`,...i)}}function Mi(s,...e){if(oa.logLevel<=Nt.ERROR){const i=e.map(Gf);oa.error(`Firestore (${vs}): ${s}`,...i)}}function hs(s,...e){if(oa.logLevel<=Nt.WARN){const i=e.map(Gf);oa.warn(`Firestore (${vs}): ${s}`,...i)}}function Gf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s="Unexpected state"){const e=`FIRESTORE (${vs}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function kt(s,e){s||ft()}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class UT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class xT{constructor(e){this.t=e,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Tr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},y=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Tr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string"),new $y(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new je(e)}}class zT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class LT{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new zT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BT{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0);const a=h=>{h.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new jp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string"),this.R=i.token,new jp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=PT(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Ct(s,e){return s<e?-1:s>e?1:0}function fs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-62135596800,Qp=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Qp);return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Gp)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qp}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Ae(0,0))}static max(){return new mt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(),a===void 0?a=e.length-i:a>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Jn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),u=Jn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Xt extends Jn{construct(e,i,a){return new Xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const qT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends Jn{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return qT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fp}static keyField(){return new Le([Fp])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ut(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new ut(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(a+=y,u++):(h(),u++)}if(h(),d)throw new ut(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Xt.fromString(e))}static fromName(e){return new ot(Xt.fromString(e).popFirst(5))}static empty(){return new ot(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function kT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new Sr(u,ot.empty(),e)}function HT(s){return new Sr(s.readTime,s.key,kl)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(mt.min(),ot.empty(),kl)}static max(){return new Sr(mt.max(),ot.empty(),kl)}}function jT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:Ct(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==GT)throw s;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new G((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof G?i:G.resolve(i)}catch(i){return G.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):G.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):G.reject(i)}static resolve(e){return new G((i,a)=>{i(e)})}static reject(e){return new G((i,a)=>{a(e)})}static waitFor(e){return new G((i,a)=>{let u=0,h=0,d=!1;e.forEach(y=>{++u,y.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=G.resolve(!1);for(const a of e)i=i.next(u=>u?G.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new G((a,u)=>{const h=e.length,d=new Array(h);let y=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++y,y===h&&a(d)},R=>u(R))}})}static doWhile(e,i){return new G((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function FT(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ts(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ko.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=-1;function Yo(s){return s==null}function Uo(s){return s===0&&1/s==-1/0}function KT(s){return typeof s=="number"&&Number.isInteger(s)&&!Uo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="";function YT(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Kp(e)),e=XT(s.get(i),e);return Kp(e)}function XT(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case Wy:i+="";break;default:i+=h}}return i}function Kp(s){return s+Wy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ha(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function t_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eo(this.root,e,this.comparator,!0)}}class Eo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Xp(this.data.getIterator())}getIteratorFrom(e){return new Xp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Xp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Se(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new e_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const ZT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(kt(!!s),typeof s=="string"){let e=0;const i=ZT.exec(s);if(kt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="server_timestamp",i_="__type__",r_="__previous_value__",a_="__local_write_time__";function Ff(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[i_])===null||i===void 0?void 0:i.stringValue)===n_}function Xo(s){const e=s.mapValue.fields[r_];return Ff(e)?Xo(e):e}function Hl(s){const e=br(s.mapValue.fields[a_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,i,a,u,h,d,y,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=v}}const xo="(default)";class jl{constructor(e,i){this.projectId=e,this.database=i||xo}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===xo}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="__type__",JT="__max__",To={mapValue:{}},l_="__vector__",zo="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ff(s)?4:tA(s)?9007199254740991:WT(s)?10:11:ft()}function ei(s,e){if(s===e)return!0;const i=wr(s);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=br(u.timestampValue),y=br(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Rr(u.bytesValue).isEqual(Rr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return le(u.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(u.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return le(u.integerValue)===le(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=le(u.doubleValue),y=le(h.doubleValue);return d===y?Uo(d)===Uo(y):isNaN(d)&&isNaN(y)}return!1}(s,e);case 9:return fs(s.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Yp(d)!==Yp(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!ei(d[_],y[_])))return!1;return!0}(s,e);default:return ft()}}function Gl(s,e){return(s.values||[]).find(i=>ei(i,e))!==void 0}function ds(s,e){if(s===e)return 0;const i=wr(s),a=wr(e);if(i!==a)return Ct(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(s.booleanValue,e.booleanValue);case 2:return function(h,d){const y=le(h.integerValue||h.doubleValue),_=le(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1}(s,e);case 3:return Zp(s.timestampValue,e.timestampValue);case 4:return Zp(Hl(s),Hl(e));case 5:return Ct(s.stringValue,e.stringValue);case 6:return function(h,d){const y=Rr(h),_=Rr(d);return y.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const y=h.split("/"),_=d.split("/");for(let v=0;v<y.length&&v<_.length;v++){const R=Ct(y[v],_[v]);if(R!==0)return R}return Ct(y.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const y=Ct(le(h.latitude),le(d.latitude));return y!==0?y:Ct(le(h.longitude),le(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return $p(s.arrayValue,e.arrayValue);case 10:return function(h,d){var y,_,v,R;const N=h.fields||{},q=d.fields||{},Q=(y=N[zo])===null||y===void 0?void 0:y.arrayValue,$=(_=q[zo])===null||_===void 0?void 0:_.arrayValue,nt=Ct(((v=Q==null?void 0:Q.values)===null||v===void 0?void 0:v.length)||0,((R=$==null?void 0:$.values)===null||R===void 0?void 0:R.length)||0);return nt!==0?nt:$p(Q,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===To.mapValue&&d===To.mapValue)return 0;if(h===To.mapValue)return 1;if(d===To.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let N=0;N<_.length&&N<R.length;++N){const q=Ct(_[N],R[N]);if(q!==0)return q;const Q=ds(y[_[N]],v[R[N]]);if(Q!==0)return Q}return Ct(_.length,R.length)}(s.mapValue,e.mapValue);default:throw ft()}}function Zp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ct(s,e);const i=br(s),a=br(e),u=Ct(i.seconds,a.seconds);return u!==0?u:Ct(i.nanos,a.nanos)}function $p(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ds(i[u],a[u]);if(h)return h}return Ct(i.length,a.length)}function ms(s){return Df(s)}function Df(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Rr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Df(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Df(i.fields[d])}`;return u+"}"}(s.mapValue):ft()}function wo(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xo(s);return e?16+wo(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+wo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return ha(a.fields,(h,d)=>{u+=h.length+wo(d)}),u}(s.mapValue);default:throw ft()}}function Cf(s){return!!s&&"integerValue"in s}function Kf(s){return!!s&&"arrayValue"in s}function Jp(s){return!!s&&"nullValue"in s}function Wp(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Do(s){return!!s&&"mapValue"in s}function WT(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[s_])===null||i===void 0?void 0:i.stringValue)===l_}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ha(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ul(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function tA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===JT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Do(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Le.emptyPath(),a={},u=[];e.forEach((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=y.popLast()}d?a[y.lastSegment()]=Ul(d):u.push(y.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Do(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Do(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){ha(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Dn(Ul(this.value))}}function u_(s){const e=[];return ha(s.fields,(i,a)=>{const u=new Le([i]);if(Do(a)){const h=u_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,i,a,u,h,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ge(e,0,mt.min(),mt.min(),mt.min(),Dn.empty(),0)}static newFoundDocument(e,i,a,u){return new Ge(e,1,i,mt.min(),a,u,0)}static newNoDocument(e,i){return new Ge(e,2,i,mt.min(),mt.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new Ge(e,3,i,mt.min(),mt.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,i){this.position=e,this.inclusive=i}}function ty(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=ds(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function ey(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ei(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,i="asc"){this.field=e,this.dir=i}}function eA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{}class Te extends o_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new iA(e,i,a):i==="array-contains"?new sA(e,a):i==="in"?new lA(e,a):i==="not-in"?new uA(e,a):i==="array-contains-any"?new oA(e,a):new Te(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new rA(e,a):new aA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ds(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(ds(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends o_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ni(e,i)}matches(e){return c_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function c_(s){return s.op==="and"}function h_(s){return nA(s)&&c_(s)}function nA(s){for(const e of s.filters)if(e instanceof ni)return!1;return!0}function Vf(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+ms(s.value);if(h_(s))return s.filters.map(e=>Vf(e)).join(",");{const e=s.filters.map(i=>Vf(i)).join(",");return`${s.op}(${e})`}}function f_(s,e){return s instanceof Te?function(a,u){return u instanceof Te&&a.op===u.op&&a.field.isEqual(u.field)&&ei(a.value,u.value)}(s,e):s instanceof ni?function(a,u){return u instanceof ni&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,y)=>h&&f_(d,u.filters[y]),!0):!1}(s,e):void ft()}function d_(s){return s instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${ms(i.value)}`}(s):s instanceof ni?function(i){return i.op.toString()+" {"+i.getFilters().map(d_).join(" ,")+"}"}(s):"Filter"}class iA extends Te{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class rA extends Te{constructor(e,i){super(e,"in",i),this.keys=m_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class aA extends Te{constructor(e,i){super(e,"not-in",i),this.keys=m_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function m_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class sA extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Kf(i)&&Gl(i.arrayValue,this.value)}}class lA extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class uA extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Gl(this.value.arrayValue,i)}}class oA extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Kf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Gl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i=null,a=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.le=null}}function ny(s,e=null,i=[],a=[],u=null,h=null,d=null){return new cA(s,e,i,a,u,h,d)}function Yf(s){const e=pt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Vf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Yo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ms(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ms(a)).join(",")),e.le=i}return e.le}function Xf(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!eA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!f_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ey(s.startAt,e.startAt)&&ey(s.endAt,e.endAt)}function Of(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i=null,a=[],u=[],h=null,d="F",y=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hA(s,e,i,a,u,h,d,y){return new Zo(s,e,i,a,u,h,d,y)}function g_(s){return new Zo(s)}function iy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fA(s){return s.collectionGroup!==null}function xl(s){const e=pt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Se(Le.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(y=y.add(v.field))})}),y})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Bo(h,a))}),i.has(Le.keyField().canonicalString())||e.he.push(new Bo(Le.keyField(),a))}return e.he}function Wn(s){const e=pt(s);return e.Pe||(e.Pe=dA(e,xl(s))),e.Pe}function dA(s,e){if(s.limitType==="F")return ny(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Bo(u.field,h)});const i=s.endAt?new Lo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Lo(s.startAt.position,s.startAt.inclusive):null;return ny(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function If(s,e,i){return new Zo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function $o(s,e){return Xf(Wn(s),Wn(e))&&s.limitType===e.limitType}function p_(s){return`${Yf(Wn(s))}|lt:${s.limitType}`}function ss(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>d_(u)).join(", ")}]`),Yo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ms(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ms(u)).join(",")),`Target(${a})`}(Wn(s))}; limitType=${s.limitType})`}function Jo(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of xl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,y,_){const v=ty(d,y,_);return d.inclusive?v<=0:v<0}(a.startAt,xl(a),u)||a.endAt&&!function(d,y,_){const v=ty(d,y,_);return d.inclusive?v>=0:v>0}(a.endAt,xl(a),u))}(s,e)}function mA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function y_(s){return(e,i)=>{let a=!1;for(const u of xl(s)){const h=gA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function gA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,y){const _=d.data.field(h),v=y.data.field(h);return _!==null&&v!==null?ds(_,v):ft()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return t_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Wt(ot.comparator);function Ni(){return pA}const __=new Wt(ot.comparator);function Ml(...s){let e=__;for(const i of s)e=e.insert(i.key,i);return e}function v_(s){let e=__;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ua(){return zl()}function E_(){return zl()}function zl(){return new fa(s=>s.toString(),(s,e)=>s.isEqual(e))}const yA=new Wt(ot.comparator),_A=new Se(ot.comparator);function wt(...s){let e=_A;for(const i of s)e=e.add(i);return e}const vA=new Se(Ct);function EA(){return vA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uo(e)?"-0":e}}function T_(s){return{integerValue:""+s}}function TA(s,e){return KT(e)?T_(e):Zf(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this._=void 0}}function AA(s,e,i){return s instanceof Po?function(u,h){const d={fields:{[i_]:{stringValue:n_},[a_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Ff(h)&&(h=Xo(h)),h&&(d.fields[r_]=h),{mapValue:d}}(i,e):s instanceof Ql?S_(s,e):s instanceof Fl?b_(s,e):function(u,h){const d=A_(u,h),y=ry(d)+ry(u.Ie);return Cf(d)&&Cf(u.Ie)?T_(y):Zf(u.serializer,y)}(s,e)}function SA(s,e,i){return s instanceof Ql?S_(s,e):s instanceof Fl?b_(s,e):i}function A_(s,e){return s instanceof qo?function(a){return Cf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Po extends Wo{}class Ql extends Wo{constructor(e){super(),this.elements=e}}function S_(s,e){const i=R_(e);for(const a of s.elements)i.some(u=>ei(u,a))||i.push(a);return{arrayValue:{values:i}}}class Fl extends Wo{constructor(e){super(),this.elements=e}}function b_(s,e){let i=R_(e);for(const a of s.elements)i=i.filter(u=>!ei(u,a));return{arrayValue:{values:i}}}class qo extends Wo{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function ry(s){return le(s.integerValue||s.doubleValue)}function R_(s){return Kf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function bA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Ql&&u instanceof Ql||a instanceof Fl&&u instanceof Fl?fs(a.elements,u.elements,ei):a instanceof qo&&u instanceof qo?ei(a.Ie,u.Ie):a instanceof Po&&u instanceof Po}(s.transform,e.transform)}class RA{constructor(e,i){this.version=e,this.transformResults=i}}class Oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Co(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class tc{}function w_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new C_(s.key,Oi.none()):new Kl(s.key,s.data,Oi.none());{const i=s.data,a=Dn.empty();let u=new Se(Le.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new da(s.key,a,new Un(u.toArray()),Oi.none())}}function wA(s,e,i){s instanceof Kl?function(u,h,d){const y=u.value.clone(),_=sy(u.fieldTransforms,h,d.transformResults);y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,e,i):s instanceof da?function(u,h,d){if(!Co(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=sy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(D_(u)),_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ll(s,e,i,a){return s instanceof Kl?function(h,d,y,_){if(!Co(h.precondition,d))return y;const v=h.value.clone(),R=ly(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof da?function(h,d,y,_){if(!Co(h.precondition,d))return y;const v=ly(h.fieldTransforms,_,d),R=d.data;return R.setAll(D_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(s,e,i,a):function(h,d,y){return Co(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y}(s,e,i)}function DA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=A_(a.transform,u||null);h!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,h))}return i||null}function ay(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&fs(a,u,(h,d)=>bA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends tc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class da extends tc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function D_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function sy(s,e,i){const a=new Map;kt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,y=e.data.field(h.field);a.set(h.field,SA(d,y,i[u]))}return a}function ly(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,AA(h,d,e))}return a}class C_ extends tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CA extends tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&wA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=E_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const _=w_(d,y);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),wt())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(i,a)=>ay(i,a))&&fs(this.baseMutations,e.baseMutations,(i,a)=>ay(i,a))}}class $f{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){kt(e.mutations.length===a.length);let u=function(){return yA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new $f(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,Mt;function MA(s){switch(s){case K.OK:return ft();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ft()}}function V_(s){if(s===void 0)return Mi("GRPC error has no .code"),K.UNKNOWN;switch(s){case de.OK:return K.OK;case de.CANCELLED:return K.CANCELLED;case de.UNKNOWN:return K.UNKNOWN;case de.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case de.INTERNAL:return K.INTERNAL;case de.UNAVAILABLE:return K.UNAVAILABLE;case de.UNAUTHENTICATED:return K.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case de.NOT_FOUND:return K.NOT_FOUND;case de.ALREADY_EXISTS:return K.ALREADY_EXISTS;case de.PERMISSION_DENIED:return K.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case de.ABORTED:return K.ABORTED;case de.OUT_OF_RANGE:return K.OUT_OF_RANGE;case de.UNIMPLEMENTED:return K.UNIMPLEMENTED;case de.DATA_LOSS:return K.DATA_LOSS;default:return ft()}}(Mt=de||(de={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new Er([4294967295,4294967295],0);function uy(s){const e=NA().encode(s),i=new Qy;return i.update(e),new Uint8Array(i.digest())}function oy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Er([i,a],0),new Er([u,h],0)]}class Jf{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Er.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Er.fromNumber(a)));return u.compare(UA)===1&&(u=new Er([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=uy(e),[a,u]=oy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Jf(h,u,i);return a.forEach(y=>d.insert(y)),d}insert(e){if(this.Ee===0)return;const i=uy(e),[a,u]=oy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ec(mt.min(),u,new Wt(Ct),Ni(),wt())}}class Yl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Yl(a,i,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class O_{constructor(e,i){this.targetId=e,this.ge=i}}class I_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class cy{constructor(){this.pe=0,this.ye=hy(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=wt(),i=wt(),a=wt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:ft()}}),new Yl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=hy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class xA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=Ao(),this.Ke=Ao(),this.Ue=new Wt(Ct)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Of(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Ge.newNoDocument(d,mt.min()))}else kt(a===1);else{const d=this.et(i);if(d!==a){const y=this.tt(e),_=y?this.nt(y,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=Rr(a).toUint8Array()}catch(_){if(_ instanceof e_)return hs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Jf(d,u,h)}catch(_){return hs(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.Ee===0?null:y}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const y=this.Xe(d);if(y){if(h.current&&Of(y.target)){const _=new ot(y.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ge.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=wt();this.Ke.forEach((h,d)=>{let y=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ec(e,i,this.Ue,this.Qe,a);return this.Qe=Ni(),this.$e=Ao(),this.Ke=Ao(),this.Ue=new Wt(Ct),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new cy,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Se(Ct),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(Ct),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||et("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Ao(){return new Wt(ot.comparator)}function hy(){return new Wt(ot.comparator)}const zA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BA={and:"AND",or:"OR"};class PA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Mf(s,e){return s.useProto3Json||Yo(e)?e:{value:e}}function ko(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function qA(s,e){return ko(s,e.toTimestamp())}function ti(s){return kt(!!s),mt.fromTimestamp(function(i){const a=br(i);return new Ae(a.seconds,a.nanos)}(s))}function Wf(s,e){return Nf(s,e).canonicalString()}function Nf(s,e){const i=function(u){return new Xt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function N_(s){const e=Xt.fromString(s);return kt(B_(e)),e}function Uf(s,e){return Wf(s.databaseId,e.path)}function pf(s,e){const i=N_(e);if(i.get(1)!==s.databaseId.projectId)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ut(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(x_(i))}function U_(s,e){return Wf(s.databaseId,e)}function kA(s){const e=N_(s);return e.length===4?Xt.emptyPath():x_(e)}function xf(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function x_(s){return kt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function fy(s,e,i){return{name:Uf(s,e),fields:i.value.mapValue.fields}}function HA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(kt(R===void 0||typeof R=="string"),Be.fromBase64String(R||"")):(kt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),Be.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&function(v){const R=v.code===void 0?K.UNKNOWN:V_(v.code);return new ut(R,v.message||"")}(d);i=new I_(a,u,h,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=pf(s,a.document.name),h=ti(a.document.updateTime),d=a.document.createTime?ti(a.document.createTime):mt.min(),y=new Dn({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(u,h,d,y),v=a.targetIds||[],R=a.removedTargetIds||[];i=new Vo(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=pf(s,a.document),h=a.readTime?ti(a.readTime):mt.min(),d=Ge.newNoDocument(u,h),y=a.removedTargetIds||[];i=new Vo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=pf(s,a.document),h=a.removedTargetIds||[];i=new Vo([],h,u,null)}else{if(!("filter"in e))return ft();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new IA(u,h),y=a.targetId;i=new O_(y,d)}}return i}function jA(s,e){let i;if(e instanceof Kl)i={update:fy(s,e.key,e.value)};else if(e instanceof C_)i={delete:Uf(s,e.key)};else if(e instanceof da)i={update:fy(s,e.key,e.data),updateMask:JA(e.fieldMask)};else{if(!(e instanceof CA))return ft();i={verify:Uf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const y=d.transform;if(y instanceof Po)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof qo)return{fieldPath:d.field.canonicalString(),increment:y.Ie};throw ft()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:qA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(s,e.precondition)),i}function GA(s,e){return s&&s.length>0?(kt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ti(u.updateTime):ti(h);return d.isEqual(mt.min())&&(d=ti(h)),new RA(d,u.transformResults||[])}(i,e))):[]}function QA(s,e){return{documents:[U_(s,e.path)]}}function FA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=U_(s,u);const h=function(v){if(v.length!==0)return L_(ni.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(q){return{field:ls(q.field),direction:XA(q.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Mf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function KA(s){let e=kA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){kt(a===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(N){const q=z_(N);return q instanceof ni&&h_(q)?q.getFilters():[q]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(q=>function($){return new Bo(us($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(q))}(i.orderBy));let y=null;i.limit&&(y=function(N){let q;return q=typeof N=="object"?N.value:N,Yo(q)?null:q}(i.limit));let _=null;i.startAt&&(_=function(N){const q=!!N.before,Q=N.values||[];return new Lo(Q,q)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const q=!N.before,Q=N.values||[];return new Lo(Q,q)}(i.endAt)),hA(e,u,d,h,y,"F",_,v)}function YA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function z_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=us(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=us(i.unaryFilter.field);return Te.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=us(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=us(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(s):s.fieldFilter!==void 0?function(i){return Te.create(us(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ni.create(i.compositeFilter.filters.map(a=>z_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(s):ft()}function XA(s){return zA[s]}function ZA(s){return LA[s]}function $A(s){return BA[s]}function ls(s){return{fieldPath:s.canonicalString()}}function us(s){return Le.fromServerFormat(s.fieldPath)}function L_(s){return s instanceof Te?function(i){if(i.op==="=="){if(Wp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NAN"}};if(Jp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NAN"}};if(Jp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(i.field),op:ZA(i.op),value:i.value}}}(s):s instanceof ni?function(i){const a=i.getFilters().map(u=>L_(u));return a.length===1?a[0]:{compositeFilter:{op:$A(i.op),filters:a}}}(s):ft()}function JA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function B_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,u,h=mt.min(),d=mt.min(),y=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.Tt=e}}function tS(s){const e=KA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Tn=new nS}addToCollectionParentIndex(e,i){return this.Tn.add(i),G.resolve()}getCollectionParents(e,i){return G.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return G.resolve()}deleteFieldIndex(e,i){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,i){return G.resolve()}getDocumentsMatchingTarget(e,i){return G.resolve(null)}getIndexType(e,i){return G.resolve(0)}getFieldIndexes(e,i){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,i){return G.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return G.resolve(Sr.min())}updateCollectionGroup(e,i,a){return G.resolve()}updateIndexEntries(e,i){return G.resolve()}}class nS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Xt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P_=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(P_,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new gs(0)}static Un(){return new gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="LruGarbageCollector",iS=1048576;function gy([s,e],[i,a]){const u=Ct(s,i);return u===0?Ct(e,a):u}class rS{constructor(e){this.Hn=e,this.buffer=new Se(gy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();gy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){et(my,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ts(i)?et(my,"Ignoring IndexedDB error during garbage collection: ",i):await Es(i)}await this.er(3e5)})}}class sS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return G.resolve(Ko.ae);const a=new rS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(dy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,y,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),u=this.params.maximumSequenceNumbersToCollect):u=N,d=Date.now(),this.nthSequenceNumber(e,u))).next(N=>(a=N,y=Date.now(),this.removeTargets(e,a,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(N=>(v=Date.now(),as()<=Nt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:N})))}}function lS(s,e){return new sS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.changes=new fa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?G.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Ll(a.mutation,u,Un.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,wt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=wt()){const u=ua();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ml();return h.forEach((y,_)=>{d=d.insert(y,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,wt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,y)=>{i.set(d,y)})})}computeViews(e,i,a,u){let h=Ni();const d=zl(),y=function(){return zl()}();return i.forEach((_,v)=>{const R=a.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof da)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),Ll(R.mutation,v,R.mutation.getFieldMask(),Ae.now())):d.set(v.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var N;return y.set(v,new oS(R,(N=d.get(v))!==null&&N!==void 0?N:null))}),y))}recalculateAndSaveOverlays(e,i){const a=zl();let u=new Wt((d,y)=>d-y),h=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const y of d)y.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=a.get(_)||Un.empty();R=y.applyToLocalView(v,R),a.set(_,R);const N=(u.get(y.batchId)||wt()).add(_);u=u.insert(y.batchId,N)})}).next(()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),v=_.key,R=_.value,N=E_();R.forEach(q=>{if(!h.has(q)){const Q=w_(i.get(q),a.get(q));Q!==null&&N.set(q,Q),h=h.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return G.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):fA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):G.resolve(ua());let y=kl,_=h;return d.next(v=>G.forEach(v,(R,N)=>(y<N.largestBatchId&&(y=N.largestBatchId),h.get(R)?G.resolve():this.remoteDocumentCache.getEntry(e,R).next(q=>{_=_.insert(R,q)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,wt())).next(R=>({batchId:y,changes:v_(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(y=>G.forEach(y,_=>{const v=function(N,q){return new Zo(q,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(R=>{R.forEach((N,q)=>{d=d.insert(N,q)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Ge.newInvalidDocument(R)))});let y=Ml();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&Ll(R.mutation,v,Un.empty(),Ae.now()),Jo(i,v)&&(y=y.insert(_,v))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return G.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ti(u.createTime)}}(i)),G.resolve()}getNamedQuery(e,i){return G.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:tS(u.bundledQuery),readTime:ti(u.readTime)}}(i)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.overlays=new Wt(ot.comparator),this.Rr=new Map}getOverlay(e,i){return G.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return G.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),G.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),G.resolve()}getOverlaysForCollection(e,i,a){const u=ua(),h=i.length+1,d=new ot(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return G.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new Wt((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let R=h.get(v.largestBatchId);R===null&&(R=ua(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const y=ua(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>y.set(v,R)),!(y.size()>=u)););return G.resolve(y)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new OA(i,a));let h=this.Rr.get(i);h===void 0&&(h=wt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.Vr=new Se(Ie.mr),this.gr=new Se(Ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ie(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ot(new Xt([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new Xt([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=wt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||Ct(e.Cr,i.Cr)}static pr(e,i){return Ct(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Ie.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VA(h,i,a,u);this.mutationQueue.push(d);for(const y of u)this.Mr=this.Mr.add(new Ie(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return G.resolve(d)}lookupMutationBatch(e,i){return G.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return G.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Qf:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const y=this.Or(d.Cr);h.push(y)}),G.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(Ct);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],y=>{a=a.add(y.Cr)})}),G.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ot(h),0);let y=new Se(Ct);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(y=y.add(_.Cr)),!0)},d),G.resolve(this.Br(y))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){kt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return G.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Mr.firstAfterOrEqual(a);return G.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.kr=e,this.docs=function(){return new Wt(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return G.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Ge.newInvalidDocument(u))}),G.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ni();const d=i.path,y=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||jT(HT(R),a)<=0||(u.has(R.key)||Jo(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return G.resolve(h)}getAllFromCollectionGroup(e,i,a,u){ft()}qr(e,i){return G.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new pS(this)}getSize(e){return G.resolve(this.size)}}class pS extends uS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),G.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.persistence=e,this.Qr=new fa(i=>Yf(i),Xf),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new td,this.targetCount=0,this.Ur=gs.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),G.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new gs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,G.resolve()}updateTargetData(e,i){return this.zn(i),G.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)}),G.waitFor(h).next(()=>u)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return G.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),G.resolve()}removeMatchingKeys(e,i,a){this.Kr.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),G.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),G.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return G.resolve(a)}containsKey(e,i){return G.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Ko(0),this.zr=!1,this.zr=!0,this.jr=new dS,this.referenceDelegate=e(this),this.Hr=new yS(this),this.indexManager=new eS,this.remoteDocumentCache=function(u){return new gS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new WA(i),this.Yr=new hS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new mS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){et("MemoryPersistence","Starting transaction:",e);const u=new _S(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return G.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class _S extends QT{constructor(e){super(),this.currentSequenceNumber=e}}class ed{constructor(e){this.persistence=e,this.ti=new td,this.ni=null}static ri(e){return new ed(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),G.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),G.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),G.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,a=>{const u=ot.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return G.or([()=>G.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ho{constructor(e,i){this.persistence=e,this.oi=new fa(a=>YT(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=lS(this,i)}static ri(e,i){return new Ho(e,i)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return G.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?G.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(y=>{y||(a++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),G.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wo(e.data.value)),i}ar(e,i,a){return G.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return G.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=wt(),u=wt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new nd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return d0()?8:FT(h0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new vS;return this._s(e,i,d).next(y=>{if(h.result=y,this.Xi)return this.us(e,i,d,y.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(as()<=Nt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",ss(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(as()<=Nt.DEBUG&&et("QueryEngine","Query:",ss(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(as()<=Nt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",ss(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(i))):G.resolve())}rs(e,i){if(iy(i))return G.resolve(null);let a=Wn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=If(i,null,"F"),a=Wn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=wt(...h);return this.ns.getDocuments(e,d).next(y=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,y);return this.ls(i,v,d,_.readTime)?this.rs(e,If(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return iy(i)||u.isEqual(mt.min())?G.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?G.resolve(null):(as()<=Nt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ss(i)),this.hs(e,d,i,kT(u,kl)).next(y=>y))})}cs(e,i){let a=new Se(y_(e));return i.forEach((u,h)=>{Jo(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return as()<=Nt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",ss(i)),this.ns.getDocumentsMatchingQuery(e,i,Sr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="LocalStore",TS=3e8;class AS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new Wt(Ct),this.Is=new fa(h=>Yf(h),Xf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function SS(s,e,i,a){return new AS(s,e,i,a)}async function k_(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],y=[];let _=wt();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){y.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:y}))})})}function bS(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(y,_,v,R){const N=v.batch,q=N.keys();let Q=G.resolve();return q.forEach($=>{Q=Q.next(()=>R.getEntry(_,$)).next(nt=>{const Z=v.docVersions.get($);kt(Z!==null),nt.version.compareTo(Z)<0&&(N.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),R.addEntry(nt)))})}),Q.next(()=>y.mutationQueue.removeMutationBatch(_,N))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let _=wt();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(_=_.add(y.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function H_(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function RS(s,e){const i=pt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const y=[];e.targetChanges.forEach((R,N)=>{const q=u.get(N);if(!q)return;y.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,N).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,N)));let Q=q.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?Q=Q.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):R.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(R.resumeToken,a)),u=u.insert(N,Q),function(nt,Z,St){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=TS?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(q,Q,R)&&y.push(i.Hr.updateTargetData(h,Q))});let _=Ni(),v=wt();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),y.push(wS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!a.isEqual(mt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(N=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(R)}return G.waitFor(y).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function wS(s,e,i){let a=wt(),u=wt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ni();return i.forEach((y,_)=>{const v=h.get(y);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(y)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(y,_.readTime),d=d.insert(y,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(y,_)):et(id,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function DS(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Qf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function CS(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,G.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function zf(s,e,i){const a=pt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ts(d))throw d;et(id,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function py(s,e,i){const a=pt(s);let u=mt.min(),h=wt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const N=pt(_),q=N.Is.get(R);return q!==void 0?G.resolve(N.Ts.get(q)):N.Hr.getTargetData(v,R)}(a,d,Wn(e)).next(y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,y.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?h:wt())).next(y=>(VS(a,mA(e),y),{documents:y,gs:h})))}function VS(s,e,i){let a=s.Es.get(e)||mt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class yy{constructor(){this.activeTargetIds=EA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.ho=new yy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="ConnectivityMonitor";class vy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){et(_y,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){et(_y,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So=null;function Lf(){return So===null?So=function(){return 268435456+Math.round(2147483648*Math.random())}():So++,"0x"+So.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",MS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===xo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Lf(),y=this.bo(e,i.toUriEncodedString());et(yf,`Sending RPC '${e}' ${d}:`,y,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,y,_,a).then(v=>(et(yf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw hs(yf,`RPC '${e}' ${d} failed with error: `,v,"url: ",y,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=MS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class xS extends NS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Lf();return new Promise((d,y)=>{const _=new Fy;_.setWithCredentials(!0),_.listenOnce(Ky.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ro.NO_ERROR:const R=_.getResponseJson();et(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case Ro.TIMEOUT:et(He,`RPC '${e}' ${h} timed out`),y(new ut(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const N=_.getStatus();if(et(He,`RPC '${e}' ${h} failed with status:`,N,"response text:",_.getResponseText()),N>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Q=q==null?void 0:q.error;if(Q&&Q.status&&Q.message){const $=function(Z){const St=Z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(St)>=0?St:K.UNKNOWN}(Q.status);y(new ut($,Q.message))}else y(new ut(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(K.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{et(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);et(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Lf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Zy(),y=Xy(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const R=h.join("");et(He,`Creating RPC '${e}' stream ${u}: ${R}`,_);const N=d.createWebChannel(R,_);let q=!1,Q=!1;const $=new US({Fo:Z=>{Q?et(He,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(q||(et(He,`Opening RPC '${e}' stream ${u} transport.`),N.open(),q=!0),et(He,`RPC '${e}' stream ${u} sending:`,Z),N.send(Z))},Mo:()=>N.close()}),nt=(Z,St,dt)=>{Z.listen(St,Et=>{try{dt(Et)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return nt(N,Il.EventType.OPEN,()=>{Q||(et(He,`RPC '${e}' stream ${u} transport opened.`),$.Qo())}),nt(N,Il.EventType.CLOSE,()=>{Q||(Q=!0,et(He,`RPC '${e}' stream ${u} transport closed`),$.Ko())}),nt(N,Il.EventType.ERROR,Z=>{Q||(Q=!0,hs(He,`RPC '${e}' stream ${u} transport errored:`,Z),$.Ko(new ut(K.UNAVAILABLE,"The operation could not be completed")))}),nt(N,Il.EventType.MESSAGE,Z=>{var St;if(!Q){const dt=Z.data[0];kt(!!dt);const Et=dt,Qt=(Et==null?void 0:Et.error)||((St=Et[0])===null||St===void 0?void 0:St.error);if(Qt){et(He,`RPC '${e}' stream ${u} received error:`,Qt);const yt=Qt.status;let Ut=function(A){const D=de[A];if(D!==void 0)return V_(D)}(yt),M=Qt.message;Ut===void 0&&(Ut=K.INTERNAL,M="Unknown error status: "+yt+" with message "+Qt.message),Q=!0,$.Ko(new ut(Ut,M)),N.close()}else et(He,`RPC '${e}' stream ${u} received:`,dt),$.Uo(dt)}}),nt(y,Yy.STAT_EVENT,Z=>{Z.stat===wf.PROXY?et(He,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===wf.NOPROXY&&et(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s){return new PA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&et("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="PersistentStream";class G_{constructor(e,i,a,u,h,d,y,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new j_(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new ut(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return et(Ey,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(et(Ey,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zS extends G_{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=HA(this.serializer,e),a=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?ti(d.readTime):mt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=xf(this.serializer),i.addTarget=function(h,d){let y;const _=d.target;if(y=Of(_)?{documents:QA(h,_)}:{query:FA(h,_).ht},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=M_(h,d.resumeToken);const v=Mf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){y.readTime=ko(h,d.snapshotVersion.toTimestamp());const v=Mf(h,d.expectedCount);v!==null&&(y.expectedCount=v)}return y}(this.serializer,e);const a=YA(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=xf(this.serializer),i.removeTarget=e,this.I_(i)}}class LS extends G_{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=GA(e.writeResults,e.commitTime),a=ti(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=xf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>jA(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{}class PS extends BS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Nf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(K.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection.Co(e,Nf(i,a),u,d,y,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):et("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class kS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ma(this)&&(et(ca,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await Xl(v),v.j_.set("Unknown"),v.W_.delete(4),await ic(v)}(this))})}),this.j_=new qS(a,u)}}async function ic(s){if(ma(s))for(const e of s.G_)await e(!0)}async function Xl(s){for(const e of s.G_)await e(!1)}function Q_(s,e){const i=pt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),ld(i)?sd(i):As(i).c_()&&ad(i,e))}function rd(s,e){const i=pt(s),a=As(i);i.U_.delete(e),a.c_()&&F_(i,e),i.U_.size===0&&(a.c_()?a.P_():ma(i)&&i.j_.set("Unknown"))}function ad(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}As(s).y_(e)}function F_(s,e){s.H_.Ne(e),As(s).w_(e)}function sd(s){s.H_=new xA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),As(s).start(),s.j_.B_()}function ld(s){return ma(s)&&!As(s).u_()&&s.U_.size>0}function ma(s){return pt(s).W_.size===0}function K_(s){s.H_=void 0}async function HS(s){s.j_.set("Online")}async function jS(s){s.U_.forEach((e,i)=>{ad(s,e)})}async function GS(s,e){K_(s),ld(s)?(s.j_.q_(e),sd(s)):s.j_.set("Unknown")}async function QS(s,e,i){if(s.j_.set("Online"),e instanceof I_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const y of h.targetIds)u.U_.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.U_.delete(y),u.H_.removeTarget(y))}(s,e)}catch(a){et(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jo(s,a)}else if(e instanceof Vo?s.H_.We(e):e instanceof O_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(mt.min()))try{const a=await H_(s.localStore);i.compareTo(a)>=0&&await function(h,d){const y=h.H_.ot(d);return y.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.U_.get(v);R&&h.U_.set(v,R.withResumeToken(_.resumeToken,d))}}),y.targetMismatches.forEach((_,v)=>{const R=h.U_.get(_);if(!R)return;h.U_.set(_,R.withResumeToken(Be.EMPTY_BYTE_STRING,R.snapshotVersion)),F_(h,_);const N=new yr(R.target,_,v,R.sequenceNumber);ad(h,N)}),h.remoteSyncer.applyRemoteEvent(y)}(s,i)}catch(a){et(ca,"Failed to raise snapshot:",a),await jo(s,a)}}async function jo(s,e,i){if(!Ts(e))throw e;s.W_.add(1),await Xl(s),s.j_.set("Offline"),i||(i=()=>H_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{et(ca,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await ic(s)})}function Y_(s,e){return e().catch(i=>jo(s,i,e))}async function rc(s){const e=pt(s),i=Dr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Qf;for(;FS(e);)try{const u=await DS(e.localStore,a);if(u===null){e.K_.length===0&&i.P_();break}a=u.batchId,KS(e,u)}catch(u){await jo(e,u)}X_(e)&&Z_(e)}function FS(s){return ma(s)&&s.K_.length<10}function KS(s,e){s.K_.push(e);const i=Dr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function X_(s){return ma(s)&&!Dr(s).u_()&&s.K_.length>0}function Z_(s){Dr(s).start()}async function YS(s){Dr(s).C_()}async function XS(s){const e=Dr(s);for(const i of s.K_)e.b_(i.mutations)}async function ZS(s,e,i){const a=s.K_.shift(),u=$f.from(a,e,i);await Y_(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await rc(s)}async function $S(s,e){e&&Dr(s).S_&&await async function(a,u){if(function(d){return MA(d)&&d!==K.ABORTED}(u.code)){const h=a.K_.shift();Dr(a).h_(),await Y_(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await rc(a)}}(s,e),X_(s)&&Z_(s)}async function Ty(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),et(ca,"RemoteStore received new credentials");const a=ma(i);i.W_.add(3),await Xl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await ic(i)}async function JS(s,e){const i=pt(s);e?(i.W_.delete(2),await ic(i)):e||(i.W_.add(2),await Xl(i),i.j_.set("Unknown"))}function As(s){return s.J_||(s.J_=function(i,a,u){const h=pt(i);return h.M_(),new zS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:HS.bind(null,s),No:jS.bind(null,s),Lo:GS.bind(null,s),p_:QS.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),ld(s)?sd(s):s.j_.set("Unknown")):(await s.J_.stop(),K_(s))})),s.J_}function Dr(s){return s.Y_||(s.Y_=function(i,a,u){const h=pt(i);return h.M_(),new LS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:YS.bind(null,s),Lo:$S.bind(null,s),D_:XS.bind(null,s),v_:ZS.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await rc(s)):(await s.Y_.stop(),s.K_.length>0&&(et(ca,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,y=new ud(e,i,d,u,h);return y.start(a),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function od(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ts(s))return new ut(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.Z_=new Wt(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ps{constructor(e,i,a,u,h,d,y,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(y=>{d.push({type:0,doc:y})}),new ps(e,i,cs.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$o(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class t1{constructor(){this.queries=Sy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=pt(i),h=u.queries;u.queries=Sy(),h.forEach((d,y)=>{for(const _ of y.ta)_.onError(a)})})(this,new ut(K.ABORTED,"Firestore shutting down"))}}function Sy(){return new fa(s=>p_(s),$o)}async function e1(s,e){const i=pt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new WS,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=od(d,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&cd(i)}async function n1(s,e){const i=pt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function i1(s,e){const i=pt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.ta)y.oa(u)&&(a=!0);d.ea=u}}a&&cd(i)}function r1(s,e,i){const a=pt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function cd(s){s.ia.forEach(e=>{e.next()})}var Bf,by;(by=Bf||(Bf={}))._a="default",by.Cache="cache";class a1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ps(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.key=e}}class J_{constructor(e){this.key=e}}class s1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=wt(),this.mutatedKeys=wt(),this.ya=y_(e),this.wa=new cs(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Ay,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,N)=>{const q=u.get(R),Q=Jo(this.query,N)?N:null,$=!!q&&this.mutatedKeys.has(q.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Z=!1;q&&Q?q.data.isEqual(Q.data)?$!==nt&&(a.track({type:3,doc:Q}),Z=!0):this.va(q,Q)||(a.track({type:2,doc:Q}),Z=!0,(_&&this.ya(Q,_)>0||v&&this.ya(Q,v)<0)&&(y=!0)):!q&&Q?(a.track({type:0,doc:Q}),Z=!0):q&&!Q&&(a.track({type:1,doc:q}),Z=!0,(_||v)&&(y=!0)),Z&&(Q?(d=d.add(Q),h=nt?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{wa:d,Da:a,ls:y,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,N)=>function(Q,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return nt(Q)-nt($)}(R.type,N.type)||this.ya(R.doc,N.doc)),this.Ca(a),u=u!=null&&u;const y=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new ps(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:y}:{Ma:y}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ay,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=wt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new J_(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new $_(a))}),i}Oa(e){this.fa=e.gs,this.pa=wt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ps.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hd="SyncEngine";class l1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class u1{constructor(e){this.key=e,this.Ba=!1}}class o1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new fa(y=>p_(y),$o),this.qa=new Map,this.Qa=new Set,this.$a=new Wt(ot.comparator),this.Ka=new Map,this.Ua=new td,this.Wa={},this.Ga=new Map,this.za=gs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function c1(s,e,i=!0){const a=rv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await W_(a,e,i,!0),u}async function h1(s,e){const i=rv(s);await W_(i,e,!0,!1)}async function W_(s,e,i,a){const u=await CS(s.localStore,Wn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return a&&(y=await f1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Q_(s.remoteStore,u),y}async function f1(s,e,i,a,u){s.Ha=(N,q,Q)=>async function(nt,Z,St,dt){let Et=Z.view.ba(St);Et.ls&&(Et=await py(nt.localStore,Z.query,!1).then(({documents:M})=>Z.view.ba(M,Et)));const Qt=dt&&dt.targetChanges.get(Z.targetId),yt=dt&&dt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(Et,nt.isPrimaryClient,Qt,yt);return wy(nt,Z.targetId,Ut.Ma),Ut.snapshot}(s,N,q,Q);const h=await py(s.localStore,e,!0),d=new s1(e,h.gs),y=d.ba(h.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(y,s.isPrimaryClient,_);wy(s,i,v.Ma);const R=new l1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function d1(s,e,i){const a=pt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!$o(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await zf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&rd(a.remoteStore,u.targetId),Pf(a,u.targetId)}).catch(Es)):(Pf(a,u.targetId),await zf(a.localStore,u.targetId,!0))}async function m1(s,e){const i=pt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rd(i.remoteStore,a.targetId))}async function g1(s,e,i){const a=A1(s);try{const u=await function(d,y){const _=pt(d),v=Ae.now(),R=y.reduce((Q,$)=>Q.add($.key),wt());let N,q;return _.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let $=Ni(),nt=wt();return _.ds.getEntries(Q,R).next(Z=>{$=Z,$.forEach((St,dt)=>{dt.isValidDocument()||(nt=nt.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(Q,$)).next(Z=>{N=Z;const St=[];for(const dt of y){const Et=DA(dt,N.get(dt.key).overlayedDocument);Et!=null&&St.push(new da(dt.key,Et,u_(Et.value.mapValue),Oi.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,v,St,y)}).next(Z=>{q=Z;const St=Z.applyToLocalDocumentSet(N,nt);return _.documentOverlayCache.saveOverlays(Q,Z.batchId,St)})}).then(()=>({batchId:q.batchId,changes:v_(N)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,y,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new Wt(Ct)),v=v.insert(y,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await Zl(a,u.changes),await rc(a.remoteStore)}catch(u){const h=od(u,"Failed to persist write");i.reject(h)}}async function tv(s,e){const i=pt(s);try{const a=await RS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?kt(d.Ba):u.removedDocuments.size>0&&(kt(d.Ba),d.Ba=!1))}),await Zl(i,a,e)}catch(a){await Es(a)}}function Ry(s,e,i){const a=pt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const y=d.view.sa(e);y.snapshot&&u.push(y.snapshot)}),function(d,y){const _=pt(d);_.onlineState=y;let v=!1;_.queries.forEach((R,N)=>{for(const q of N.ta)q.sa(y)&&(v=!0)}),v&&cd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function p1(s,e,i){const a=pt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ka.get(e),h=u&&u.key;if(h){let d=new Wt(ot.comparator);d=d.insert(h,Ge.newNoDocument(h,mt.min()));const y=wt().add(h),_=new ec(mt.min(),new Map,new Wt(Ct),d,y);await tv(a,_),a.$a=a.$a.remove(h),a.Ka.delete(e),fd(a)}else await zf(a.localStore,e,!1).then(()=>Pf(a,e,i)).catch(Es)}async function y1(s,e){const i=pt(s),a=e.batch.batchId;try{const u=await bS(i.localStore,e);nv(i,a,null),ev(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,u)}catch(u){await Es(u)}}async function _1(s,e,i){const a=pt(s);try{const u=await function(d,y){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,y).next(N=>(kt(N!==null),R=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,y)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(a.localStore,e);nv(a,e,i),ev(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Zl(a,u)}catch(u){await Es(u)}}function ev(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function nv(s,e,i){const a=pt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Pf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.br(e).forEach(a=>{s.Ua.containsKey(a)||iv(s,a)})}function iv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(rd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),fd(s))}function wy(s,e,i){for(const a of i)a instanceof $_?(s.Ua.addReference(a.key,e),v1(s,a)):a instanceof J_?(et(hd,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||iv(s,a.key)):ft()}function v1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(et(hd,"New document in limbo: "+i),s.Qa.add(a),fd(s))}function fd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(Xt.fromString(e)),a=s.za.next();s.Ka.set(a,new u1(i)),s.$a=s.$a.insert(i,a),Q_(s.remoteStore,new yr(Wn(g_(i.path)),a,"TargetPurposeLimboResolution",Ko.ae))}}async function Zl(s,e,i){const a=pt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((y,_)=>{d.push(a.Ha(_,e,i).then(v=>{var R;if((v||i)&&a.isPrimaryClient){const N=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;a.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){u.push(v);const N=nd.Yi(_.targetId,v);h.push(N)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const R=pt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>G.forEach(v,q=>G.forEach(q.Hi,Q=>R.persistence.referenceDelegate.addReference(N,q.targetId,Q)).next(()=>G.forEach(q.Ji,Q=>R.persistence.referenceDelegate.removeReference(N,q.targetId,Q)))))}catch(N){if(!Ts(N))throw N;et(id,"Failed to update sequence numbers: "+N)}for(const N of v){const q=N.targetId;if(!N.fromCache){const Q=R.Ts.get(q),$=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion($);R.Ts=R.Ts.insert(q,nt)}}}(a.localStore,h))}async function E1(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){et(hd,"User change. New user:",e.toKey());const a=await k_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(y=>{y.forEach(_=>{_.reject(new ut(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Rs)}}function T1(s,e){const i=pt(s),a=i.Ka.get(e);if(a&&a.Ba)return wt().add(a.key);{let u=wt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const y=i.ka.get(d);u=u.unionWith(y.view.Sa)}return u}}function rv(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p1.bind(null,e),e.La.p_=i1.bind(null,e.eventManager),e.La.Ja=r1.bind(null,e.eventManager),e}function A1(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_1.bind(null,e),e}class Go{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return SS(this.persistence,new ES,e.initialUser,this.serializer)}Xa(e){return new q_(ed.ri,this.serializer)}Za(e){return new OS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Go.provider={build:()=>new Go};class S1 extends Go{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){kt(this.persistence.referenceDelegate instanceof Ho);const a=this.persistence.referenceDelegate.garbageCollector;return new aS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new q_(a=>Ho.ri(a,i),this.serializer)}}class qf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ry(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=E1.bind(null,this.syncEngine),await JS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t1}()}createDatastore(e){const i=nc(e.databaseInfo.databaseId),a=function(h){return new xS(h)}(e.databaseInfo);return function(h,d,y,_){return new PS(h,d,y,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,y){return new kS(a,u,h,d,y)}(this.localStore,this.datastore,e.asyncQueue,i=>Ry(this.syncEngine,i,0),function(){return vy.D()?new vy:new IS}())}createSyncEngine(e,i){return function(u,h,d,y,_,v,R){const N=new o1(u,h,d,y,_,v);return R&&(N.ja=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=pt(u);et(ca,"RemoteStore shutting down."),h.W_.add(5),await Xl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class R1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=je.UNAUTHENTICATED,this.clientId=Jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{et(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(et(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=od(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function vf(s,e){s.asyncQueue.verifyOperationInProgress(),et(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await k_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Dy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await w1(s);et(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Ty(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Ty(e.remoteStore,u)),s._onlineComponents=e}async function w1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){et(Cr,"Using user provided OfflineComponentProvider");try{await vf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;hs("Error using user provided cache. Falling back to memory cache: "+i),await vf(s,new Go)}}else et(Cr,"Using default OfflineComponentProvider"),await vf(s,new S1(void 0));return s._offlineComponents}async function av(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(et(Cr,"Using user provided OnlineComponentProvider"),await Dy(s,s._uninitializedComponentsProvider._online)):(et(Cr,"Using default OnlineComponentProvider"),await Dy(s,new qf))),s._onlineComponents}function D1(s){return av(s).then(e=>e.syncEngine)}async function C1(s){const e=await av(s),i=e.eventManager;return i.onListen=c1.bind(null,e.syncEngine),i.onUnlisten=d1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=h1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=m1.bind(null,e.syncEngine),i}function V1(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,y,_,v){const R=new b1({next:q=>{R.su(),d.enqueueAndForget(()=>n1(h,N)),q.fromCache&&_.source==="server"?v.reject(new ut(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(q)},error:q=>v.reject(q)}),N=new a1(y,R,{includeMetadataChanges:!0,Ta:!0});return e1(h,N)}(await C1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(s,e,i){if(!i)throw new ut(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function O1(s,e,i,a){if(e===!0&&a===!0)throw new ut(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Vy(s){if(!ot.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Oy(s){if(ot.isDocumentKey(s))throw new ut(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft()}function Qo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ut(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dd(s);throw new ut(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="firestore.googleapis.com",Iy=!0;class My{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uv,this.ssl=Iy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Iy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iS)throw new ut(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ac{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new My({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new My(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new NT;switch(a.type){case"firstParty":return new LT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Cy.get(i);a&&(et("ComponentProvider","Removing Datastore"),Cy.delete(i),a.terminate())}(this),Promise.resolve()}}function I1(s,e,i,a={}){var u;const h=(s=Qo(s,ac))._getSettings(),d=`${e}:${i}`;if(h.host!==uv&&h.host!==d&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),a.mockUserToken){let y,_;if(typeof a.mockUserToken=="string")y=a.mockUserToken,_=je.MOCK_USER;else{y=c0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new ut(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new je(v)}s._authCredentials=new UT(new $y(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new sc(this.firestore,e,this._query)}}class xn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Ar extends sc{constructor(e,i,a){super(e,i,g_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ot(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function M1(s,e,...i){if(s=Bl(s),lv("collection","path",e),s instanceof ac){const a=Xt.fromString(e,...i);return Oy(a),new Ar(s,null,a)}{if(!(s instanceof xn||s instanceof Ar))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Oy(a),new Ar(s.firestore,null,a)}}function N1(s,e,...i){if(s=Bl(s),arguments.length===1&&(e=Jy.newId()),lv("doc","path",e),s instanceof ac){const a=Xt.fromString(e,...i);return Vy(a),new xn(s,null,new ot(a))}{if(!(s instanceof xn||s instanceof Ar))throw new ut(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Vy(a),new xn(s.firestore,s instanceof Ar?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="AsyncQueue";class Uy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new j_(this,"async_queue_retry"),this.Su=()=>{const a=_f();a&&et(Ny,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=_f();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=_f();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ts(e))throw e;et(Ny,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let y=d.message||"";return d.stack&&(y=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),y}(a);throw Mi("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=ud.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class md extends ac{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Uy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uy(e),this._firestoreClient=void 0,await e}}}function U1(s,e){const i=typeof s=="object"?s:ET(),a=typeof s=="string"?s:xo,u=gT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=u0("firestore");h&&I1(u,...h)}return u}function ov(s){if(s._terminated)throw new ut(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||x1(s),s._firestoreClient}function x1(s){var e,i,a;const u=s._freezeSettings(),h=function(y,_,v,R){return new $T(y,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,sv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new R1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(Be.fromBase64String(e))}catch(i){throw new ut(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ys(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=/^__.*__$/;class L1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function hv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class _d{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new _d(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hv(this.Lu)&&z1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class B1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||nc(e)}ju(e,i,a,u=!1){return new _d({Lu:e,methodName:i,zu:a,path:Le.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P1(s){const e=s._freezeSettings(),i=nc(s._databaseId);return new B1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function q1(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);gv("Data must be an object, but it was:",d,a);const y=dv(a,d);let _,v;if(h.merge)_=new Un(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const N of h.mergeFields){const q=k1(e,N,i);if(!d.contains(q))throw new ut(K.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);j1(R,q)||R.push(q)}_=new Un(R),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new L1(new Dn(y),_,v)}function fv(s,e){if(mv(s=Bl(s)))return gv("Unsupported field value:",e,s),dv(s,e);if(s instanceof cv)return function(a,u){if(!hv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const y of a){let _=fv(y,u.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Bl(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ae.fromDate(a);return{timestampValue:ko(u.serializer,h)}}if(a instanceof Ae){const h=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ko(u.serializer,h)}}if(a instanceof pd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ys)return{bytesValue:M_(u.serializer,a._byteString)};if(a instanceof xn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Wf(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof yd)return function(d,y){return{mapValue:{fields:{[s_]:{stringValue:l_},[zo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw y.Wu("VectorValues must only contain numeric values.");return Zf(y.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${dd(a)}`)}(s,e)}function dv(s,e){const i={};return t_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(s,(a,u)=>{const h=fv(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function mv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof pd||s instanceof ys||s instanceof xn||s instanceof cv||s instanceof yd)}function gv(s,e,i){if(!mv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=dd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function k1(s,e,i){if((e=Bl(e))instanceof gd)return e._internalPath;if(typeof e=="string")return pv(s,e);throw Fo("Field path arguments must be of type string or ",s,!1,void 0,i)}const H1=new RegExp("[~\\*/\\[\\]]");function pv(s,e,i){if(e.search(H1)>=0)throw Fo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new gd(...e.split("."))._internalPath}catch{throw Fo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Fo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ut(K.INVALID_ARGUMENT,y+s+_)}function j1(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(_v("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class G1 extends yv{data(){return super.data()}}function _v(s,e){return typeof e=="string"?pv(s,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ut(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F1{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ha(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[zo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>le(d.doubleValue));return new yd(h)}convertGeoPoint(e){return new pd(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Xo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=br(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Xt.fromString(e);kt(B_(a));const u=new jl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Y1 extends yv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(_v("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Oo extends Y1{data(e={}){return super.data(e)}}class X1{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new bo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Oo(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(y=>{const _=new Oo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new bo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const _=new Oo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new bo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,R=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:Z1(y.type),doc:_,oldIndex:v,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Z1(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class $1 extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,i)}}function J1(s){s=Qo(s,sc);const e=Qo(s.firestore,md),i=ov(e),a=new $1(e);return Q1(s._query),V1(i,s._query).then(u=>new X1(e,a,s,u))}function W1(s,e){const i=Qo(s.firestore,md),a=N1(s),u=K1(s.converter,e);return tb(i,[q1(P1(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Oi.exists(!1))]).then(()=>a)}function tb(s,e){return function(a,u){const h=new Tr;return a.asyncQueue.enqueueAndForget(async()=>g1(await D1(a),u,h)),h.promise}(ov(s),e)}(function(e,i=!0){(function(u){vs=u})(vT),No(new Pl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new md(new xT(a.getProvider("auth-internal")),new BT(d,a.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(v.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),os(kp,Hp,e),os(kp,Hp,"esm2017")})();const eb={apiKey:"AIzaSyBqftKj604Zx_-erVbJTIFXjwOVY5pPHYg",authDomain:"simpleincrement.firebaseapp.com",projectId:"simpleincrement",storageBucket:"simpleincrement.firebasestorage.app",messagingSenderId:"1011198077000",appId:"1:1011198077000:web:080529039f31d8f98c907d",measurementId:"G-59DM3GW27F"},nb=Hy(eb),ib=U1(nb);function rb(){const[s,e]=Ol.useState(""),[i,a]=Ol.useState(""),[u,h]=Ol.useState([]),d=M1(ib,"users"),y=async()=>{try{await W1(d,{name:s,age:i}),e(""),a(""),_()}catch(v){console.error("Error adding document: ",v)}},_=async()=>{try{const R=(await J1(d)).docs.map(N=>({id:N.id,...N.data()}));h(R)}catch(v){console.error("Error fetching users: ",v)}};return Ol.useEffect(()=>{_()},[]),wn.jsxs("div",{className:"App",children:[wn.jsx("h1",{children:"Firestore with React"}),wn.jsxs("div",{children:[wn.jsx("input",{type:"text",placeholder:"Name",value:s,onChange:v=>e(v.target.value)}),wn.jsx("input",{type:"number",placeholder:"Age",value:i,onChange:v=>a(v.target.value)}),wn.jsx("button",{onClick:y,children:"Add User"})]}),wn.jsxs("div",{children:[wn.jsx("h2",{children:"Users:"}),wn.jsx("ul",{children:u.map(v=>wn.jsxs("li",{children:[v.name," - ",v.age," years old"]},v.id))})]})]})}JE.createRoot(document.getElementById("root")).render(wn.jsx(Ol.StrictMode,{children:wn.jsx(rb,{})}));
